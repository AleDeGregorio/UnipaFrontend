{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alexd\\\\Documents\\\\Progetto-Unipa\\\\Frontend\\\\src\\\\components\\\\NavBar.js\";\nimport React from 'react';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport Nav from 'react-bootstrap/Nav';\nimport { CgProfile } from 'react-icons/cg';\nimport './NavCss.css';\nimport { Redirect } from 'react-router-dom';\n\nclass NavBar extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onClick = () => {\n      localStorage.clear();\n    };\n\n    this.cercaBB = () => {\n      if (this.state.apiResponse !== []) {\n        this.setState({\n          tipo: '',\n          apiResponse: [],\n          error: false,\n          errorMessage: '',\n          redirect: false\n        });\n      }\n\n      this.setState({\n        tipo: 'bb'\n      });\n      const data = {\n        tipo: 'bb',\n        localita: '',\n        provincia: '',\n        servizi: '',\n        posti: '%%',\n        costo: '',\n        checkIn: '',\n        checkOut: ''\n      };\n      fetch('http://localhost:9000/ricercaAlloggio/risultati', {\n        method: \"POST\",\n        headers: {\n          'Content-type': 'application/json'\n        },\n        body: JSON.stringify(data)\n      }).then(result => result.text()).then(result => {\n        try {\n          this.setState({\n            apiResponse: JSON.parse(result)\n          });\n        } catch (error) {\n          this.setState({\n            apiResponse: result\n          });\n          this.setState({\n            empty: true\n          });\n        }\n\n        if (this.state.apiResponse.status && this.state.apiResponse.status === 'error') {\n          this.setState({\n            error: true\n          });\n          this.setState({\n            errorMessage: this.state.apiResponse.message\n          });\n        } else {\n          this.setState({\n            redirect: true\n          });\n          window.location.reload();\n        }\n      });\n    };\n\n    this.cercaCV = () => {\n      if (this.state.apiResponse !== []) {\n        this.setState({\n          tipo: '',\n          apiResponse: [],\n          error: false,\n          errorMessage: '',\n          redirect: false\n        });\n      }\n\n      this.setState({\n        tipo: 'cv'\n      });\n      const data = {\n        tipo: 'cv',\n        localita: '',\n        provincia: '',\n        servizi: '',\n        posti: '%%',\n        costo: '',\n        checkIn: '',\n        checkOut: ''\n      };\n      fetch('http://localhost:9000/ricercaAlloggio/risultati', {\n        method: \"POST\",\n        headers: {\n          'Content-type': 'application/json'\n        },\n        body: JSON.stringify(data)\n      }).then(result => result.text()).then(result => {\n        try {\n          this.setState({\n            apiResponse: JSON.parse(result)\n          });\n        } catch (error) {\n          this.setState({\n            apiResponse: result\n          });\n          this.setState({\n            empty: true\n          });\n        }\n\n        if (this.state.apiResponse.status && this.state.apiResponse.status === 'error') {\n          this.setState({\n            error: true\n          });\n          this.setState({\n            errorMessage: this.state.apiResponse.message\n          });\n        } else {\n          this.setState({\n            redirect: true\n          });\n          window.location.reload();\n        }\n      });\n    };\n\n    this.state = {\n      tipo: '',\n      apiResponse: [],\n      error: false,\n      errorMessage: '',\n      redirect: false\n    };\n  }\n\n  render() {\n    var loggato = /*#__PURE__*/React.createElement(Nav.Link, {\n      href: \"/autenticazioneAccedi\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 23\n      }\n    }, \"ACCEDI\");\n    var nome = '';\n    var cognome = '';\n\n    if (localStorage.getItem('logged') && localStorage.getItem('cliente')) {\n      nome = localStorage.getObj('user_data')[0].nome_cl ? localStorage.getObj('user_data')[0].nome_cl : localStorage.getObj('user_data')[0].nome_prop;\n      cognome = localStorage.getObj('user_data')[0].cognome_cl ? localStorage.getObj('user_data')[0].cognome_cl : localStorage.getObj('user_data')[0].cognome_prop;\n      loggato = /*#__PURE__*/React.createElement(Dropdown, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Dropdown.Toggle, {\n        id: \"dropNavLog\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 21\n        }\n      }, nome, \" \", cognome, /*#__PURE__*/React.createElement(Menu, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 41\n        }\n      })), /*#__PURE__*/React.createElement(Dropdown.Menu, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Dropdown.Item, {\n        href: \"/GestionePrenotazione\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 25\n        }\n      }, \"Gestisci prenotazioni\"), /*#__PURE__*/React.createElement(Dropdown.Item, {\n        href: \"/DiventaHost\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 25\n        }\n      }, \"Diventa un host\"), /*#__PURE__*/React.createElement(Dropdown.Item, {\n        href: \"/DatiPersonali\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 25\n        }\n      }, \"Dati personali\"), /*#__PURE__*/React.createElement(Dropdown.Item, {\n        href: \"/autenticazioneAccedi\",\n        onClick: this.onClick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 25\n        }\n      }, \"Logout\")));\n    }\n\n    if (localStorage.getItem('logged') && localStorage.getItem('proprietario')) {\n      loggato = /*#__PURE__*/React.createElement(Nav, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Nav.Link, {\n        href: \"/PaginaProprietario\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 21\n        }\n      }, \"Area personale host\"), /*#__PURE__*/React.createElement(Nav.Link, {\n        href: \"/autenticazioneAccedi\",\n        onClick: this.onClick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 21\n        }\n      }, \"ESCI\"));\n    }\n\n    if (localStorage.getItem('logged') && localStorage.getItem('proprietario') && localStorage.getItem('cliente')) {\n      nome = localStorage.getObj('user_data')[0].nome_cl ? localStorage.getObj('user_data')[0].nome_cl : localStorage.getObj('user_data')[0].nome_prop;\n      cognome = localStorage.getObj('user_data')[0].cognome_cl ? localStorage.getObj('user_data')[0].cognome_cl : localStorage.getObj('user_data')[0].cognome_prop;\n      loggato = /*#__PURE__*/React.createElement(Dropdown, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Dropdown.Toggle, {\n        id: \"dropNavLog\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 21\n        }\n      }, nome, \" \", cognome, /*#__PURE__*/React.createElement(Menu, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 41\n        }\n      })), /*#__PURE__*/React.createElement(Dropdown.Menu, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Dropdown.Item, {\n        href: \"/GestionePrenotazione\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 25\n        }\n      }, \"Le tue prenotazioni\"), /*#__PURE__*/React.createElement(Dropdown.Item, {\n        href: \"/PaginaProprietario\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 25\n        }\n      }, \"Area personale host\"), /*#__PURE__*/React.createElement(Dropdown.Item, {\n        href: \"/DatiPersonali\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 25\n        }\n      }, \"Dati personali\"), /*#__PURE__*/React.createElement(Dropdown.Item, {\n        href: \"/autenticazioneAccedi\",\n        onClick: this.onClick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 25\n        }\n      }, \"Logout\")));\n    }\n\n    if (this.state.redirect) {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Navbar, {\n        bg: \"light\",\n        expand: \"lg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Navbar.Brand, {\n        href: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 25\n        }\n      }, \"Sito Progetto\"), /*#__PURE__*/React.createElement(Navbar.Toggle, {\n        \"aria-controls\": \"basic-navbar-nav\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(Navbar.Collapse, {\n        id: \"basic-navbar-nav\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Nav, {\n        className: \"mr-auto\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Nav.Link, {\n        href: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 33\n        }\n      }, \"Home\"), /*#__PURE__*/React.createElement(Nav.Link, {\n        onClick: this.cercaBB,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 33\n        }\n      }, \"B&B\"), /*#__PURE__*/React.createElement(Nav.Link, {\n        onClick: this.cercaCV,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 33\n        }\n      }, \"Casa Vacanza\")), loggato)), /*#__PURE__*/React.createElement(Redirect, {\n        to: {\n          pathname: \"/RisultatiRicerca\",\n          state: {\n            case: this.state.apiResponse,\n            tipo: this.state.tipo\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 21\n        }\n      }));\n    }\n\n    return /*#__PURE__*/React.createElement(Navbar, {\n      bg: \"light\",\n      expand: \"lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Navbar.Brand, {\n      href: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 17\n      }\n    }, \"Sito Progetto\"), /*#__PURE__*/React.createElement(Navbar.Toggle, {\n      \"aria-controls\": \"basic-navbar-nav\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Navbar.Collapse, {\n      id: \"basic-navbar-nav\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Nav, {\n      className: \"mr-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Nav.Link, {\n      href: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 25\n      }\n    }, \"Home\"), /*#__PURE__*/React.createElement(Nav.Link, {\n      onClick: this.cercaBB,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 25\n      }\n    }, \"B&B\"), /*#__PURE__*/React.createElement(Nav.Link, {\n      onClick: this.cercaCV,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 25\n      }\n    }, \"Casa Vacanza\")), loggato));\n  }\n\n}\n\nexport default NavBar;\n\nfunction Menu() {\n  return /*#__PURE__*/React.createElement(CgProfile, {\n    className: \"menu-prop\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 9\n    }\n  });\n}\n/*<Dropdown>\r\n                   <Dropdown.Toggle as={Menu}>\r\n                 </Dropdown.Toggle>\r\n\r\n             <Dropdown.Menu >\r\n               <Dropdown.Item eventKey=\"1\">Gestisci prenotazioni</Dropdown.Item>\r\n               <Dropdown.Item eventKey=\"2\">Logout</Dropdown.Item>\r\n               <Dropdown.Item eventKey=\"3\"></Dropdown.Item>\r\n               \r\n              </Dropdown.Menu>\r\n             </Dropdown>\r\n             \r\n             \r\n                <Nav.Link href=\"/GestionePrenotazione\">Le tue prenotazioni</Nav.Link>\r\n                <Nav.Link href=\"/DiventaHost\">Diventa un Host</Nav.Link>\r\n                <Nav.Link href=\"/autenticazioneAccedi\" onClick = {this.onClick}>Logout</Nav.Link>\r\n                <Nav.Link href=\"/DatiPersonali\">Modifica Account</Nav.Link>\r\n             */","map":{"version":3,"sources":["C:/Users/alexd/Documents/Progetto-Unipa/Frontend/src/components/NavBar.js"],"names":["React","Navbar","Dropdown","Nav","CgProfile","Redirect","NavBar","Component","constructor","props","onClick","localStorage","clear","cercaBB","state","apiResponse","setState","tipo","error","errorMessage","redirect","data","localita","provincia","servizi","posti","costo","checkIn","checkOut","fetch","method","headers","body","JSON","stringify","then","result","text","parse","empty","status","message","window","location","reload","cercaCV","render","loggato","nome","cognome","getItem","getObj","nome_cl","nome_prop","cognome_cl","cognome_prop","pathname","case","Menu"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Navbar from 'react-bootstrap/Navbar'\r\nimport Dropdown from 'react-bootstrap/Dropdown'\r\nimport Nav from 'react-bootstrap/Nav'\r\nimport {CgProfile} from 'react-icons/cg'\r\nimport './NavCss.css'\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nclass NavBar extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            tipo: '',\r\n            apiResponse: [],\r\n            error: false,\r\n            errorMessage: '',\r\n            redirect: false\r\n        }\r\n    }\r\n    \r\n    onClick = () => {\r\n        localStorage.clear();\r\n    }\r\n\r\n    cercaBB = () => {\r\n\r\n        if(this.state.apiResponse !== []) {\r\n            this.setState({\r\n                tipo: '',\r\n                apiResponse: [],\r\n                error: false,\r\n                errorMessage: '',\r\n                redirect: false\r\n            })\r\n        }\r\n\r\n        this.setState({ tipo: 'bb' });\r\n\r\n        const data = {\r\n            tipo: 'bb',\r\n            localita: '',\r\n            provincia: '',\r\n            servizi: '',\r\n            posti: '%%',\r\n            costo: '',\r\n            checkIn: '',\r\n            checkOut: ''\r\n        };\r\n\r\n        fetch('http://localhost:9000/ricercaAlloggio/risultati', {\r\n            method: \"POST\",\r\n            headers: {\r\n                'Content-type': 'application/json'\r\n            },\r\n            body: JSON.stringify(data)\r\n        })\r\n        .then((result) => result.text())\r\n        .then((result) => {\r\n\r\n            try {\r\n                this.setState({ apiResponse: JSON.parse(result) });\r\n                \r\n            } catch (error) {\r\n                this.setState({ apiResponse: result });\r\n\r\n                this.setState({ empty: true });\r\n            }\r\n\r\n            if(this.state.apiResponse.status && this.state.apiResponse.status === 'error') {\r\n                this.setState({ error: true });\r\n                this.setState({ errorMessage: this.state.apiResponse.message });\r\n            }\r\n            else {\r\n                this.setState({ redirect: true })\r\n                window.location.reload();\r\n            }\r\n        });\r\n    }\r\n\r\n    cercaCV = () => {\r\n\r\n        if(this.state.apiResponse !== []) {\r\n            this.setState({\r\n                tipo: '',\r\n                apiResponse: [],\r\n                error: false,\r\n                errorMessage: '',\r\n                redirect: false\r\n            })\r\n        }\r\n\r\n        this.setState({ tipo: 'cv' });\r\n\r\n        const data = {\r\n            tipo: 'cv',\r\n            localita: '',\r\n            provincia: '',\r\n            servizi: '',\r\n            posti: '%%',\r\n            costo: '',\r\n            checkIn: '',\r\n            checkOut: ''\r\n        };\r\n\r\n        fetch('http://localhost:9000/ricercaAlloggio/risultati', {\r\n            method: \"POST\",\r\n            headers: {\r\n                'Content-type': 'application/json'\r\n            },\r\n            body: JSON.stringify(data)\r\n        })\r\n        .then((result) => result.text())\r\n        .then((result) => {\r\n\r\n            try {\r\n                this.setState({ apiResponse: JSON.parse(result) });\r\n                \r\n            } catch (error) {\r\n                this.setState({ apiResponse: result });\r\n\r\n                this.setState({ empty: true });\r\n            }\r\n\r\n            if(this.state.apiResponse.status && this.state.apiResponse.status === 'error') {\r\n                this.setState({ error: true });\r\n                this.setState({ errorMessage: this.state.apiResponse.message });\r\n            }\r\n            else {\r\n                this.setState({ redirect: true })\r\n                window.location.reload();\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        var loggato = <Nav.Link href=\"/autenticazioneAccedi\">ACCEDI</Nav.Link>;\r\n        var nome = '';\r\n        var cognome = '';\r\n        \r\n        if(localStorage.getItem('logged') && localStorage.getItem('cliente')) {\r\n            nome = localStorage.getObj('user_data')[0].nome_cl ? localStorage.getObj('user_data')[0].nome_cl : localStorage.getObj('user_data')[0].nome_prop;\r\n            cognome = localStorage.getObj('user_data')[0].cognome_cl ? localStorage.getObj('user_data')[0].cognome_cl : localStorage.getObj('user_data')[0].cognome_prop;\r\n            \r\n            loggato = (\r\n                <Dropdown>\r\n                    <Dropdown.Toggle id=\"dropNavLog\">\r\n                        {nome} {cognome}<Menu />\r\n                    </Dropdown.Toggle>\r\n                    <Dropdown.Menu >\r\n                        <Dropdown.Item href=\"/GestionePrenotazione\" >Gestisci prenotazioni</Dropdown.Item>\r\n                        <Dropdown.Item href=\"/DiventaHost\">Diventa un host</Dropdown.Item>\r\n                        <Dropdown.Item href=\"/DatiPersonali\">Dati personali</Dropdown.Item>\r\n                        <Dropdown.Item href=\"/autenticazioneAccedi\" onClick = {this.onClick}>Logout</Dropdown.Item>\r\n                    </Dropdown.Menu>\r\n                </Dropdown>\r\n            ); \r\n        }\r\n\r\n        if(localStorage.getItem('logged') && localStorage.getItem('proprietario')) {\r\n            loggato = (\r\n                <Nav>\r\n                    <Nav.Link href=\"/PaginaProprietario\">Area personale host</Nav.Link>\r\n                    <Nav.Link href=\"/autenticazioneAccedi\" onClick = {this.onClick}>ESCI</Nav.Link>\r\n                </Nav>\r\n            );\r\n        }\r\n\r\n        if(localStorage.getItem('logged') && localStorage.getItem('proprietario') && localStorage.getItem('cliente')) {\r\n            nome = localStorage.getObj('user_data')[0].nome_cl ? localStorage.getObj('user_data')[0].nome_cl : localStorage.getObj('user_data')[0].nome_prop;\r\n            cognome = localStorage.getObj('user_data')[0].cognome_cl ? localStorage.getObj('user_data')[0].cognome_cl : localStorage.getObj('user_data')[0].cognome_prop;\r\n            \r\n            loggato = (\r\n                <Dropdown>\r\n                    <Dropdown.Toggle id=\"dropNavLog\">\r\n                        {nome} {cognome}<Menu />\r\n                    </Dropdown.Toggle>\r\n                    <Dropdown.Menu >\r\n                        <Dropdown.Item href=\"/GestionePrenotazione\">Le tue prenotazioni</Dropdown.Item>\r\n                        <Dropdown.Item href=\"/PaginaProprietario\">Area personale host</Dropdown.Item>\r\n                        <Dropdown.Item href=\"/DatiPersonali\">Dati personali</Dropdown.Item>\r\n                        <Dropdown.Item href=\"/autenticazioneAccedi\" onClick = {this.onClick}>Logout</Dropdown.Item>\r\n                    </Dropdown.Menu>\r\n                </Dropdown>\r\n            ); \r\n        }\r\n\r\n        if(this.state.redirect) {\r\n\r\n            return (\r\n                <> \r\n                    <Navbar bg=\"light\" expand=\"lg\">\r\n                        <Navbar.Brand href=\"/\">Sito Progetto</Navbar.Brand>\r\n                        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n                        <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                            <Nav className=\"mr-auto\">\r\n                                <Nav.Link href=\"/\">Home</Nav.Link>\r\n                                <Nav.Link onClick = {this.cercaBB}>B&B</Nav.Link>\r\n                                <Nav.Link onClick = {this.cercaCV}>Casa Vacanza</Nav.Link>\r\n                            </Nav>\r\n                                {loggato}\r\n                        </Navbar.Collapse>\r\n                    </Navbar>\r\n                    <Redirect \r\n                        to = {{\r\n                            pathname: \"/RisultatiRicerca\",\r\n                            state: {\r\n                                case: this.state.apiResponse,\r\n                                tipo: this.state.tipo\r\n                            }\r\n                        }}\r\n                    />\r\n                </>\r\n            )\r\n        }\r\n\r\n        return(\r\n            <Navbar bg=\"light\" expand=\"lg\">\r\n                <Navbar.Brand href=\"/\">Sito Progetto</Navbar.Brand>\r\n                <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n                <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                    <Nav className=\"mr-auto\">\r\n                        <Nav.Link href=\"/\">Home</Nav.Link>\r\n                        <Nav.Link onClick = {this.cercaBB}>B&B</Nav.Link>\r\n                        <Nav.Link onClick = {this.cercaCV}>Casa Vacanza</Nav.Link>\r\n                    </Nav>\r\n                        {loggato}\r\n                </Navbar.Collapse>\r\n            </Navbar>\r\n        );\r\n    }\r\n}\r\n\r\nexport default NavBar;\r\n\r\nfunction Menu (){\r\n    return(\r\n        <CgProfile className=\"menu-prop\" />\r\n    )\r\n}\r\n/*<Dropdown>\r\n                   <Dropdown.Toggle as={Menu}>\r\n                 </Dropdown.Toggle>\r\n\r\n             <Dropdown.Menu >\r\n               <Dropdown.Item eventKey=\"1\">Gestisci prenotazioni</Dropdown.Item>\r\n               <Dropdown.Item eventKey=\"2\">Logout</Dropdown.Item>\r\n               <Dropdown.Item eventKey=\"3\"></Dropdown.Item>\r\n               \r\n              </Dropdown.Menu>\r\n             </Dropdown>\r\n             \r\n             \r\n                <Nav.Link href=\"/GestionePrenotazione\">Le tue prenotazioni</Nav.Link>\r\n                <Nav.Link href=\"/DiventaHost\">Diventa un Host</Nav.Link>\r\n                <Nav.Link href=\"/autenticazioneAccedi\" onClick = {this.onClick}>Logout</Nav.Link>\r\n                <Nav.Link href=\"/DatiPersonali\">Modifica Account</Nav.Link>\r\n             */\r\n\r\n             "]},"metadata":{},"sourceType":"module"}