{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alexd\\\\Documents\\\\Progetto-Unipa\\\\Frontend\\\\src\\\\GestioneProprietario\\\\ProprietarioPage.js\";\nimport React from 'react';\nimport { Card, Modal, Button } from 'react-bootstrap'; //import {Nav, CardColumns} from 'react-bootstrap'\n\nimport './ProprietarioPage.css';\nimport { SiCashapp } from \"react-icons/si\";\nimport { RiAccountBoxLine } from \"react-icons/ri\";\nimport { AiFillCheckSquare } from \"react-icons/ai\";\nimport { FaHotel } from \"react-icons/fa\";\nimport { RiMailSendLine } from \"react-icons/ri\";\nimport { FaClipboardList } from \"react-icons/fa\";\nimport { BsTools } from \"react-icons/bs\";\nimport { Link } from 'react-router-dom';\nimport moment from \"moment\";\nimport { Redirect } from \"react-router-dom\";\n\nclass ProprietarioPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleClose = () => {\n      this.setState({\n        show: false\n      });\n    };\n\n    this.handleShow = () => {\n      this.setState({\n        show: true\n      });\n    };\n\n    this.inviaDati = () => {\n      const data = {\n        email: this.state.email,\n        data: new Date(moment().format()).toLocaleDateString()\n      };\n      fetch('http://localhost:9000/updateDataInvio/invioDati', {\n        method: 'POST',\n        headers: {\n          'Content-type': 'application/json'\n        },\n        body: JSON.stringify(data)\n      }).then(result => result.text()).then(result => {\n        this.setState({\n          apiResponse: JSON.parse(result)\n        });\n        var res = JSON.parse(result);\n\n        if (res.length < 1 || res.code && res.code === 404) {\n          this.setState({\n            empty: true,\n            errorMessage: res.message\n          });\n        } else if (this.state.apiResponse.status === 'error') {\n          window.scrollTo(0, 0);\n          this.setState({\n            error: true\n          });\n          this.setState({\n            errorMessage: this.state.apiResponse.message\n          });\n        }\n      });\n      const data2 = {\n        ref_proprietario: this.state.email\n      };\n      fetch('http://localhost:9000/deleteTasseInvio/deleteTasse', {\n        method: 'POST',\n        headers: {\n          'Content-type': 'application/json'\n        },\n        body: JSON.stringify(data2)\n      }).then(result => result.text()).then(result => {\n        this.setState({\n          tasseInvio: JSON.parse(result)\n        });\n        var res = JSON.parse(result);\n\n        if (res.length < 1 || res.code && res.code === 404) {\n          this.setState({\n            empty: true,\n            errorMessage: res.message\n          });\n        } else if (this.state.tasseInvio.status === 'error') {\n          window.scrollTo(0, 0);\n          this.setState({\n            error: true\n          });\n          this.setState({\n            errorMessage: this.state.tasseInvio.message\n          });\n        } else {\n          this.setState({\n            inviaDati: true\n          });\n        }\n      });\n    };\n\n    this.state = {\n      email: localStorage.getItem('email'),\n      apiResponse: [],\n      tasseInvio: [],\n      error: false,\n      errorMessage: '',\n      show: false,\n      empty: false,\n      inviaDati: false\n    };\n  }\n\n  componentDidMount() {\n    const data = {\n      email: this.state.email\n    };\n    fetch('http://localhost:9000/getDataInvio/dataInvio', {\n      method: 'POST',\n      headers: {\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    }).then(result => result.text()).then(result => {\n      this.setState({\n        apiResponse: JSON.parse(result)\n      });\n      var res = JSON.parse(result);\n\n      if (res.length < 1 || res.code && res.code === 404) {\n        this.setState({\n          empty: true,\n          errorMessage: res.message\n        });\n      } else if (this.state.apiResponse.status === 'error') {\n        this.setState({\n          error: true\n        });\n        this.setState({\n          errorMessage: this.state.apiResponse.message\n        });\n      }\n    });\n    const data2 = {\n      ref_proprietario: this.state.email\n    };\n    fetch('http://localhost:9000/getTasseInvio/tasse', {\n      method: 'POST',\n      headers: {\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify(data2)\n    }).then(result => result.text()).then(result => {\n      this.setState({\n        tasseInvio: JSON.parse(result)\n      });\n      var res = JSON.parse(result);\n\n      if (res.length < 1 || res.code && res.code === 404) {\n        this.setState({\n          empty: true,\n          errorMessage: res.message\n        });\n      } else if (this.state.tasseInvio.status === 'error') {\n        this.setState({\n          error: true\n        });\n        this.setState({\n          errorMessage: this.state.tasseInvio.message\n        });\n      }\n    });\n  }\n\n  render() {\n    var data_invio = this.state.apiResponse[0] ? new Date(this.state.apiResponse[0].ultimo_invio_dati).toLocaleDateString() : \"Mai inviati\";\n    var tasseInvio = this.state.tasseInvio[0] ? this.state.tasseInvio : [];\n    var datiTurismo;\n\n    if (this.state.inviaDati) {\n      datiTurismo = /*#__PURE__*/React.createElement(\"div\", {\n        className: \"turismocont\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"h6\", {\n        style: {\n          fontWeight: 'bold',\n          color: 'green'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 21\n        }\n      }, \"I dati dei soggiornanti sono stati correttamente inviati all'ufficio del turismo.\"));\n    } else {\n      datiTurismo = /*#__PURE__*/React.createElement(\"div\", {\n        className: \"turismocont\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"h6\", {\n        style: {\n          fontWeight: 'bold'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 21\n        }\n      }, \"Ultimo invio dei dati all'ufficio competente: \", /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          color: 'red'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 102\n        }\n      }, data_invio)), tasseInvio.map((tassa, key) => /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        style: {\n          fontWeight: 'bold'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 29\n        }\n      }, \"Soggiornante: \", tassa.ref_soggiornante), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 29\n        }\n      }, \"Periodo: \", new Date(tassa.data_partenza).toLocaleDateString(), \"-\", new Date(tassa.data_ritorno).toLocaleDateString()), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 29\n        }\n      }, \"Ammontare: \\u20AC\", tassa.ammontare))), /*#__PURE__*/React.createElement(\"h6\", {\n        style: {\n          fontWeight: 'bold'\n        },\n        onClick: this.inviaDati,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 21\n        }\n      }, \"Desideri inviare i dati nuovamente?\"));\n    }\n\n    if (!localStorage.getItem('logged') || !localStorage.getItem('proprietario')) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: {\n          pathname: \"/ErrorPage\",\n          state: {\n            error: true,\n            errorMessage: \"Utente non autorizzato\"\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 20\n        }\n      });\n    } else if (this.state.errorMessage) {\n      datiTurismo = /*#__PURE__*/React.createElement(\"div\", {\n        className: \"turismocont\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 21\n        }\n      }, \"Si \\xE8 verificato un errore: \", this.state.errorMessage));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"GestioneProprietario\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"carte_prop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/Testina\",\n      className: \"LinK\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      id: \"prop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(FaClipboardList, {\n      className: \"imageProp\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(Card.Title, {\n      className: \"TitoloCard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 33\n      }\n    }, \"Gestisci Prenotazioni\"), /*#__PURE__*/React.createElement(Card.Text, {\n      className: \"TestoCard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 33\n      }\n    }, \"Gestisci le prenotazioni in attesa e quelle gi\\xE0 accettate.\"))), /*#__PURE__*/React.createElement(Card, {\n      id: \"propNoLink\",\n      onClick: this.handleShow,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(RiMailSendLine, {\n      className: \"imageProp\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(Card.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 33\n      }\n    }, \"Invio dati Turismo \"), /*#__PURE__*/React.createElement(Card.Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 33\n      }\n    }, \"Effettua l'invio dei dati relativi ai soggiornanti all'ufficio del turismo.\")), /*#__PURE__*/React.createElement(Modal, {\n      show: this.state.show,\n      onHide: this.handleClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 41\n      }\n    }, \"Invio dati all'ufficio del turismo\")), /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 49\n      }\n    }, datiTurismo), /*#__PURE__*/React.createElement(Modal.Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 37\n      }\n    }, !this.state.inviaDati && /*#__PURE__*/React.createElement(Button, {\n      variant: \"secondary\",\n      onClick: this.inviaDati,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 45\n      }\n    }, \"Invia dati\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"secondary\",\n      onClick: this.handleClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 41\n      }\n    }, \"Chiudi\"))), /*#__PURE__*/React.createElement(Link, {\n      to: \"/InserimentoPropriet\\xE0\",\n      className: \"LinK\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      id: \"prop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(FaHotel, {\n      className: \"imageProp\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(Card.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 33\n      }\n    }, \"Inserisci Propriet\\xE0\"), /*#__PURE__*/React.createElement(Card.Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 33\n      }\n    }, \"Scegli tra le tipologie di strutture presenti nel sistema e inserisci la tua! \"))), /*#__PURE__*/React.createElement(Link, {\n      to: \"/SceltaModifica\",\n      className: \"LinK\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      id: \"prop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(BsTools, {\n      className: \"imageProp\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(Card.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 33\n      }\n    }, \"Modifica Propriet\\xE0\"), /*#__PURE__*/React.createElement(Card.Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 33\n      }\n    }, \"Scegli tra le strutture possedute ed effettua i cambiamenti che preferisci.\"))), /*#__PURE__*/React.createElement(Link, {\n      to: \"/DatiPersonali\",\n      className: \"LinK\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      id: \"prop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(RiAccountBoxLine, {\n      className: \"imageProp\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(Card.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 33\n      }\n    }, \"Gestione Account\"), /*#__PURE__*/React.createElement(Card.Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 33\n      }\n    }, \"Vedi le opzioni disponibili\"))), /*#__PURE__*/React.createElement(Link, {\n      to: \"/Earning\",\n      className: \"LinK\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      id: \"prop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(SiCashapp, {\n      className: \"imageProp\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(Card.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 37\n      }\n    }, \"Resoconto Guadagni\"), /*#__PURE__*/React.createElement(Card.Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 37\n      }\n    }, \"Visualizza \")))));\n  }\n\n}\n\nexport default ProprietarioPage;","map":{"version":3,"sources":["C:/Users/alexd/Documents/Progetto-Unipa/Frontend/src/GestioneProprietario/ProprietarioPage.js"],"names":["React","Card","Modal","Button","SiCashapp","RiAccountBoxLine","AiFillCheckSquare","FaHotel","RiMailSendLine","FaClipboardList","BsTools","Link","moment","Redirect","ProprietarioPage","Component","constructor","props","handleClose","setState","show","handleShow","inviaDati","data","email","state","Date","format","toLocaleDateString","fetch","method","headers","body","JSON","stringify","then","result","text","apiResponse","parse","res","length","code","empty","errorMessage","message","status","window","scrollTo","error","data2","ref_proprietario","tasseInvio","localStorage","getItem","componentDidMount","render","data_invio","ultimo_invio_dati","datiTurismo","fontWeight","color","map","tassa","key","ref_soggiornante","data_partenza","data_ritorno","ammontare","pathname"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {Card, Modal, Button} from 'react-bootstrap'\r\n//import {Nav, CardColumns} from 'react-bootstrap'\r\nimport './ProprietarioPage.css'\r\nimport {SiCashapp} from \"react-icons/si\"\r\nimport {RiAccountBoxLine} from \"react-icons/ri\"\r\nimport {AiFillCheckSquare} from \"react-icons/ai\"\r\nimport {FaHotel} from \"react-icons/fa\"\r\nimport {RiMailSendLine} from \"react-icons/ri\"\r\nimport {FaClipboardList} from \"react-icons/fa\"\r\nimport {BsTools} from \"react-icons/bs\"\r\nimport {Link} from 'react-router-dom'\r\nimport moment from \"moment\";\r\n\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\n\r\nclass ProprietarioPage extends React.Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            email: localStorage.getItem('email'),\r\n            apiResponse: [],\r\n            tasseInvio: [],\r\n            error: false,\r\n            errorMessage: '',\r\n            show: false,\r\n            empty: false,\r\n            inviaDati: false\r\n        }\r\n    }\r\n    \r\n    componentDidMount() {\r\n        const data = {\r\n            email: this.state.email\r\n        };\r\n\r\n        fetch('http://localhost:9000/getDataInvio/dataInvio',{\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type':'application/json'\r\n            },\r\n            body: JSON.stringify(data)\r\n        })\r\n        .then((result)=>result.text())\r\n        .then((result)=>{\r\n            this.setState({ apiResponse:JSON.parse(result) });\r\n            var res = JSON.parse(result);\r\n\r\n            if(res.length < 1 || (res.code && res.code === 404)) {\r\n              this.setState({ empty: true, errorMessage: res.message });\r\n            }\r\n      \r\n            else if(this.state.apiResponse.status === 'error') {\r\n              this.setState({ error: true });\r\n              this.setState({ errorMessage: this.state.apiResponse.message });\r\n            }\r\n        })\r\n\r\n        const data2 = {\r\n            ref_proprietario: this.state.email\r\n        };\r\n\r\n        fetch('http://localhost:9000/getTasseInvio/tasse',{\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type':'application/json'\r\n            },\r\n            body: JSON.stringify(data2)\r\n        })\r\n        .then((result)=>result.text())\r\n        .then((result)=>{\r\n            this.setState({ tasseInvio:JSON.parse(result) });\r\n            var res = JSON.parse(result);\r\n\r\n            if(res.length < 1 || (res.code && res.code === 404)) {\r\n              this.setState({ empty: true, errorMessage: res.message });\r\n            }\r\n      \r\n            else if(this.state.tasseInvio.status === 'error') {\r\n              this.setState({ error: true });\r\n              this.setState({ errorMessage: this.state.tasseInvio.message });\r\n            }\r\n        })\r\n    }\r\n\r\n    handleClose = () => {\r\n        this.setState({\r\n            show: false\r\n        });\r\n    }\r\n    \r\n    handleShow = () => {\r\n        this.setState({\r\n            show: true\r\n        });\r\n    }\r\n\r\n    inviaDati = () => {\r\n\r\n        const data = {\r\n            email: this.state.email,\r\n            data: new Date(moment().format()).toLocaleDateString()\r\n        };\r\n\r\n        fetch('http://localhost:9000/updateDataInvio/invioDati',{\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type':'application/json'\r\n            },\r\n            body: JSON.stringify(data)\r\n        })\r\n        .then((result)=>result.text())\r\n        .then((result)=>{\r\n            this.setState({ apiResponse:JSON.parse(result) });\r\n            var res = JSON.parse(result);\r\n\r\n            if(res.length < 1 || (res.code && res.code === 404)) {\r\n              this.setState({ empty: true, errorMessage: res.message });\r\n            }\r\n      \r\n            else if(this.state.apiResponse.status === 'error') {\r\n                window.scrollTo(0, 0);\r\n                this.setState({ error: true });\r\n                this.setState({ errorMessage: this.state.apiResponse.message });\r\n            }\r\n        })\r\n\r\n        const data2 = {\r\n            ref_proprietario: this.state.email\r\n        };\r\n\r\n        fetch('http://localhost:9000/deleteTasseInvio/deleteTasse',{\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type':'application/json'\r\n            },\r\n            body: JSON.stringify(data2)\r\n        })\r\n        .then((result)=>result.text())\r\n        .then((result)=>{\r\n            this.setState({ tasseInvio:JSON.parse(result) });\r\n            var res = JSON.parse(result);\r\n\r\n            if(res.length < 1 || (res.code && res.code === 404)) {\r\n              this.setState({ empty: true, errorMessage: res.message });\r\n            }\r\n      \r\n            else if(this.state.tasseInvio.status === 'error') {\r\n                window.scrollTo(0, 0);\r\n                this.setState({ error: true });\r\n                this.setState({ errorMessage: this.state.tasseInvio.message });\r\n            }\r\n\r\n            else {\r\n                this.setState({ inviaDati: true })\r\n            }\r\n        })\r\n    }\r\n\r\n    render() {\r\n        var data_invio = this.state.apiResponse[0] ? new Date(this.state.apiResponse[0].ultimo_invio_dati).toLocaleDateString() : \"Mai inviati\";\r\n        var tasseInvio = this.state.tasseInvio[0] ? this.state.tasseInvio : [];\r\n        var datiTurismo;\r\n\r\n        if(this.state.inviaDati) {\r\n            datiTurismo = (\r\n                <div className=\"turismocont\">\r\n                    <h6 style = {{fontWeight: 'bold', color: 'green'}}>I dati dei soggiornanti sono stati correttamente inviati all'ufficio del turismo.</h6>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        else {\r\n            datiTurismo = (\r\n                <div className=\"turismocont\">\r\n                    <h6 style = {{fontWeight: 'bold'}}>Ultimo invio dei dati all'ufficio competente: <span style = {{color: 'red'}}>{data_invio}</span></h6>\r\n                    {tasseInvio.map((tassa, key) => (\r\n                        <div>\r\n                            <p style = {{fontWeight: 'bold'}}>Soggiornante: {tassa.ref_soggiornante}</p>\r\n                            <p>Periodo: {new Date(tassa.data_partenza).toLocaleDateString()}-{new Date(tassa.data_ritorno).toLocaleDateString()}</p>\r\n                            <p>Ammontare: €{tassa.ammontare}</p>\r\n                        </div>\r\n                    ))}\r\n                    <h6 style = {{fontWeight: 'bold'}} onClick = {this.inviaDati}>Desideri inviare i dati nuovamente?</h6>\r\n                </div>\r\n            );\r\n        }\r\n    \r\n        if(!localStorage.getItem('logged') || !localStorage.getItem('proprietario')) {\r\n            return <Redirect\r\n                to={{\r\n                    pathname: \"/ErrorPage\",\r\n                    state: { \r\n                        error: true,\r\n                        errorMessage: \"Utente non autorizzato\" \r\n                    }\r\n                }}\r\n            />\r\n        }\r\n        else if(this.state.errorMessage) {\r\n            datiTurismo = (\r\n                <div className=\"turismocont\">\r\n                    <p>Si è verificato un errore: {this.state.errorMessage}</p>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return(\r\n            <div className=\"GestioneProprietario\">\r\n                    <div className=\"carte_prop\" >\r\n                        <Link to = \"/Testina\" className=\"LinK\">\r\n                            <Card id=\"prop\">\r\n                                <FaClipboardList className=\"imageProp\"/>\r\n                                <Card.Title className=\"TitoloCard\">Gestisci Prenotazioni</Card.Title>\r\n                                <Card.Text className=\"TestoCard\">Gestisci le prenotazioni in attesa e quelle già accettate.</Card.Text>\r\n                            </Card>\r\n                        </Link>\r\n                            <Card id=\"propNoLink\" onClick = {this.handleShow}>\r\n                                <RiMailSendLine className=\"imageProp\"/>\r\n                                <Card.Title>Invio dati Turismo </Card.Title>\r\n                                <Card.Text>Effettua l'invio dei dati relativi ai soggiornanti all'ufficio del turismo.</Card.Text>\r\n                            </Card>\r\n                                <Modal show={this.state.show} onHide={this.handleClose}>\r\n                                    <Modal.Header closeButton>\r\n                                        <Modal.Title>Invio dati all'ufficio del turismo</Modal.Title>\r\n                                            </Modal.Header>\r\n                                                <Modal.Body>\r\n                                                    {datiTurismo}\r\n                                                </Modal.Body>\r\n                                    <Modal.Footer>\r\n                                        {!this.state.inviaDati &&\r\n                                            <Button variant=\"secondary\" onClick = {this.inviaDati}>Invia dati</Button>\r\n                                        }\r\n                                        <Button variant=\"secondary\" onClick={this.handleClose}>\r\n                                            Chiudi\r\n                                        </Button>                    \r\n                                    </Modal.Footer>\r\n                                </Modal>\r\n                        <Link to = \"/InserimentoProprietà\" className=\"LinK\">\r\n                            <Card id=\"prop\">\r\n                                <FaHotel className=\"imageProp\"/>\r\n                                <Card.Title>Inserisci Proprietà</Card.Title>\r\n                                <Card.Text>Scegli tra le tipologie di strutture presenti nel sistema e inserisci la tua! </Card.Text>\r\n                            </Card>\r\n                        </Link>\r\n                        <Link to = \"/SceltaModifica\" className=\"LinK\">\r\n                            <Card  id=\"prop\">\r\n                                <BsTools className=\"imageProp\"/>\r\n                                <Card.Title>Modifica Proprietà</Card.Title>\r\n                                <Card.Text>Scegli tra le strutture possedute ed effettua i cambiamenti che preferisci.</Card.Text>\r\n                            </Card>\r\n                        </Link>\r\n                        <Link to = \"/DatiPersonali\" className=\"LinK\">\r\n                            <Card id=\"prop\">\r\n                                <RiAccountBoxLine className=\"imageProp\" />\r\n                                <Card.Title>Gestione Account</Card.Title>\r\n                                <Card.Text>Vedi le opzioni disponibili</Card.Text>\r\n                            </Card>\r\n                            </Link>\r\n                            <Link to = \"/Earning\" className=\"LinK\">\r\n                                <Card id=\"prop\">\r\n                                <SiCashapp className=\"imageProp\" />\r\n                                    <Card.Title>Resoconto Guadagni</Card.Title>\r\n                                    <Card.Text>Visualizza </Card.Text>\r\n                                </Card>\r\n                            </Link>\r\n                        </div>\r\n                </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ProprietarioPage;\r\n\r\n"]},"metadata":{},"sourceType":"module"}