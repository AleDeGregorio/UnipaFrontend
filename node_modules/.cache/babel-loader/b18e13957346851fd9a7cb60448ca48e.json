{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alexd\\\\Documents\\\\Progetto-Unipa\\\\Frontend\\\\src\\\\GestioneProprietario\\\\Accettazione\\\\Testina.js\";\nimport React from 'react';\nimport { Tabs, Tab, Button, Accordion, Table } from 'react-bootstrap';\nimport { Redirect } from 'react-router-dom';\nimport ListPrAccettare from './ListPrAccettare';\nimport ElencoCheck from './ElencoCheck';\nimport './Accettazione.css';\n\nclass Testina extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      apiResponse_accettazione: [],\n      apiResponse_accettate: [],\n      email_prop: localStorage.getItem('email'),\n      error: false,\n      errorMessage: ''\n    };\n  }\n\n  componentDidMount() {\n    const data = {\n      ref_proprietario: this.state.email_prop\n    };\n    fetch('http://localhost:9000/getPrenotazioniAccettazione/prenotazioniAccettazione', {\n      method: \"POST\",\n      headers: {\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    }).then(result => result.text()).then(result => {\n      this.setState({\n        apiResponse_accettazione: JSON.parse(result)\n      });\n\n      if (this.state.apiResponse_accettazione.status === 'error') {\n        this.setState({\n          error: true\n        });\n        this.setState({\n          errorMessage: this.state.apiResponse_accettazione.message\n        });\n      }\n    });\n    fetch('http://localhost:9000/getPrenotazioniAccettate/prenotazioniAccettate', {\n      method: \"POST\",\n      headers: {\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    }).then(result => result.text()).then(result => {\n      this.setState({\n        apiResponse_accettate: JSON.parse(result)\n      });\n\n      if (this.state.apiResponse_accettate.status === 'error') {\n        this.setState({\n          error: true\n        });\n        this.setState({\n          errorMessage: this.state.apiResponse_accettate.message\n        });\n      }\n    });\n  }\n\n  render() {\n    if (!localStorage.getItem('logged') || !localStorage.getItem('proprietario')) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: {\n          pathname: \"/ErrorPage\",\n          state: {\n            error: true,\n            errorMessage: \"Utente non autorizzato\"\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 16\n        }\n      });\n    } else if (this.state.error) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: {\n          pathname: \"/ErrorPage\",\n          state: {\n            error: true,\n            errorMessage: this.state.errorMessage\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 16\n        }\n      });\n    } else {\n      return /*#__PURE__*/React.createElement(Tabs, {\n        defaultActiveKey: \"profile\",\n        id: \"uncontrolled-tab-example\",\n        className: \"vogliostilizzarti\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Tab, {\n        eventKey: \"home\",\n        title: \"Accetta Prenotazioni\",\n        className: \"vogliostilizzarti2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(ListPrAccettare, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(Tab, {\n        eventKey: \"profile\",\n        title: \"Check-in\",\n        className: \"vogliostilizzarti2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(ElencoCheck, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }\n      })));\n    }\n  }\n\n}\n\nexport default Testina;","map":{"version":3,"sources":["C:/Users/alexd/Documents/Progetto-Unipa/Frontend/src/GestioneProprietario/Accettazione/Testina.js"],"names":["React","Tabs","Tab","Button","Accordion","Table","Redirect","ListPrAccettare","ElencoCheck","Testina","Component","constructor","props","state","apiResponse_accettazione","apiResponse_accettate","email_prop","localStorage","getItem","error","errorMessage","componentDidMount","data","ref_proprietario","fetch","method","headers","body","JSON","stringify","then","result","text","setState","parse","status","message","render","pathname"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {Tabs, Tab, Button, Accordion,Table} from 'react-bootstrap'\r\nimport { Redirect } from 'react-router-dom';\r\nimport ListPrAccettare from './ListPrAccettare';\r\nimport ElencoCheck from './ElencoCheck';\r\nimport './Accettazione.css'\r\nclass Testina extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            apiResponse_accettazione: [],\r\n            apiResponse_accettate: [],\r\n            email_prop: localStorage.getItem('email'),\r\n            error: false,\r\n            errorMessage: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const data = {\r\n            ref_proprietario: this.state.email_prop\r\n        };\r\n\r\n        fetch('http://localhost:9000/getPrenotazioniAccettazione/prenotazioniAccettazione', {\r\n            method: \"POST\",\r\n            headers: {\r\n                'Content-type': 'application/json'\r\n            },\r\n            body: JSON.stringify(data)\r\n        })\r\n        .then((result) => result.text())\r\n        .then((result) => {\r\n            this.setState({ apiResponse_accettazione: JSON.parse(result) });\r\n        \r\n            if(this.state.apiResponse_accettazione.status === 'error') {\r\n                this.setState({ error: true });\r\n                this.setState({ errorMessage: this.state.apiResponse_accettazione.message });\r\n            }\r\n        });\r\n\r\n        fetch('http://localhost:9000/getPrenotazioniAccettate/prenotazioniAccettate', {\r\n            method: \"POST\",\r\n            headers: {\r\n                'Content-type': 'application/json'\r\n            },\r\n            body: JSON.stringify(data)\r\n        })\r\n        .then((result) => result.text())\r\n        .then((result) => {\r\n            this.setState({ apiResponse_accettate: JSON.parse(result) });\r\n        \r\n            if(this.state.apiResponse_accettate.status === 'error') {\r\n                this.setState({ error: true });\r\n                this.setState({ errorMessage: this.state.apiResponse_accettate.message });\r\n            }\r\n        });\r\n    }\r\n    render(){  if(!localStorage.getItem('logged') || !localStorage.getItem('proprietario')) {\r\n        return <Redirect\r\n            to={{\r\n                pathname: \"/ErrorPage\",\r\n                state: { \r\n                    error: true,\r\n                    errorMessage: \"Utente non autorizzato\" \r\n                }\r\n            }}\r\n        />\r\n    }\r\n    else if(this.state.error) {\r\n        return <Redirect\r\n            to={{\r\n                pathname: \"/ErrorPage\",\r\n                state: { \r\n                    error: true,\r\n                    errorMessage: this.state.errorMessage \r\n                }\r\n            }}\r\n        />\r\n    }\r\n    else {\r\n        return( <Tabs defaultActiveKey=\"profile\" id=\"uncontrolled-tab-example\" className=\"vogliostilizzarti\">\r\n        <Tab eventKey=\"home\" title=\"Accetta Prenotazioni\" className=\"vogliostilizzarti2\">\r\n            <ListPrAccettare />       \r\n        </Tab>\r\n        <Tab eventKey=\"profile\" title=\"Check-in\" className=\"vogliostilizzarti2\">\r\n            <ElencoCheck />\r\n        </Tab>\r\n      </Tabs>\r\n      )\r\n    }\r\n\r\n}  \r\n}\r\nexport default Testina;"]},"metadata":{},"sourceType":"module"}