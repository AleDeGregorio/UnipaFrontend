{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alexd\\\\Documents\\\\Progetto-Unipa\\\\Frontend\\\\src\\\\components\\\\RicercaFinale.js\";\nimport React, { useState } from 'react';\nimport { Col, Row } from 'react-bootstrap';\nimport DatePicker from './InputDate';\nimport moment from \"moment\";\nimport { SingleDatePicker } from \"react-dates\";\nimport './RicercaFinale.css';\nimport { Redirect } from \"react-router-dom\";\n\nclass RicercaFinale extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.set_focused_checkIn = e => {\n      this.setState({\n        checkIn: e\n      });\n    };\n\n    this.set_focused_checkOut = e => {\n      this.setState({\n        checkOut: e\n      });\n    };\n\n    this.setStartDate = e => {\n      this.setState({\n        startDate: e\n      });\n    };\n\n    this.setEndDate = e => {\n      var d = e.format();\n      console.log(new Date(d));\n      this.setState({\n        endDate: new Date(d)\n      });\n    };\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const data = {\n        tipo: this.state.tipo,\n        localita: this.state.localita,\n        provincia: '',\n        servizi: '',\n        posti: this.state.posti,\n        tariffa: '',\n        checkIn: this.state.startDate,\n        checkOut: this.state.endDate\n      };\n      fetch('http://localhost:9000/ricercaAlloggio/risultati', {\n        method: \"POST\",\n        headers: {\n          'Content-type': 'application/json'\n        },\n        body: JSON.stringify(data)\n      }).then(result => result.text()).then(result => {\n        console.log(JSON.parse(result));\n        this.setState({\n          apiResponse: JSON.parse(result)\n        });\n\n        if (this.state.apiResponse.status === 'error') {\n          this.setState({\n            error: true\n          });\n          this.setState({\n            errorMessage: this.state.apiResponse.message\n          });\n        } else {//momentaneamente solo case vacanza, poi anche b&b\n          //this.setState({ success: true })\n        }\n      });\n    };\n\n    this.state = {\n      checkIn: null,\n      checkOut: null,\n      startDate: moment(),\n      endDate: null,\n      tipo: '',\n      localita: '',\n      posti: 1,\n      apiResponse: [],\n      error: false,\n      errorMessage: '',\n      success: false\n    };\n  }\n\n  /*const [focused, set_focused] = useState({\r\n      checkIn: null,\r\n      chceckOut: null\r\n    });\r\n    const [dates, set_dates] = useState({\r\n      startDate: moment(),\r\n      endDate: null\r\n    });\r\n    const setStartDate = startDate => {\r\n      set_dates({\r\n        ...dates,\r\n        startDate\r\n      });\r\n    };\r\n  \r\n    const setEndDate = endDate => {\r\n      set_dates({\r\n        ...dates,\r\n        endDate\r\n      });\r\n    }; */\n  render() {\n    if (this.state.success) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: {\n          pathname: \"/CaseVacanza\",\n          state: {\n            case: this.state.apiResponse\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 20\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"product-search\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"search-element\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      class: \"search-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 25\n      }\n    }, \"Dove\"), /*#__PURE__*/React.createElement(\"input\", {\n      class: \"search-input\",\n      type: \"text\",\n      autocomplete: \"on\",\n      placeholder: \"Dove vuoi andare?\",\n      id: \"localita\",\n      name: \"localita\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"search-element\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      class: \"search-label\",\n      htmlFor: \"start_date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 21\n      }\n    }, \"Check-in\"), /*#__PURE__*/React.createElement(SingleDatePicker, {\n      class: \"search-element\",\n      date: this.state.startDate,\n      onDateChange: date => this.setStartDate(date),\n      focused: this.state.checkIn,\n      onFocusChange: ({\n        focused\n      }) => this.set_focused_checkIn(focused),\n      id: \"start_date\",\n      numberOfMonths: 1,\n      placeholder: \"gg/mm/aaaa\",\n      daySize: 32,\n      hideKeyboardShortcutsPanel: true,\n      displayFormat: \"DD/MM/YYYY\",\n      block: true,\n      verticalSpacing: 8,\n      showClearDate: this.state.checkIn,\n      reopenPickerOnClearDate: true,\n      noBorder: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"search-element\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      class: \"search-label\",\n      htmlFor: \"end_date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 21\n      }\n    }, \"Check-out\"), /*#__PURE__*/React.createElement(SingleDatePicker, {\n      class: \"search-element\",\n      date: this.state.endDate,\n      onDateChange: date => this.setEndDate(date),\n      focused: this.state.checkOut,\n      onFocusChange: ({\n        focused\n      }) => this.set_focused_checkOut(focused),\n      id: \"end_date\",\n      numberOfMonths: 1,\n      placeholder: \"gg/mm/aaaa\",\n      daySize: 32,\n      hideKeyboardShortcutsPanel: true,\n      displayFormat: \"DD/MM/YYYY\",\n      block: true,\n      isDayHighlighted: day => day.isAfter(this.state.startDate) && day.isBefore(this.state.endDate),\n      verticalSpacing: 8,\n      anchorDirection: \"right\",\n      isDayBlocked: day => day.isBefore(this.state.startDate),\n      showClearDate: this.state.checkOut,\n      reopenPickerOnClearDate: true,\n      noBorder: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"search-element\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      class: \"search-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 25\n      }\n    }, \"Tipo struttura\"), /*#__PURE__*/React.createElement(\"select\", {\n      class: \"search-input\",\n      placeholder: \"Struttura\",\n      id: \"tipo\",\n      name: \"tipo\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"cv\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 29\n      }\n    }, \"Casa Vacanza\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"bb\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 29\n      }\n    }, \"B&B\"))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"search-element-ospiti\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      class: \"search-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 25\n      }\n    }, \"Ospiti\"), /*#__PURE__*/React.createElement(\"select\", {\n      class: \"search-input-ospiti\",\n      placeholder: \"Ospiti\",\n      id: \"posti\",\n      name: \"posti\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 29\n      }\n    }, \"1\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 29\n      }\n    }, \"2\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 29\n      }\n    }, \"3\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 29\n      }\n    }, \"4\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 29\n      }\n    }, \"5\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 29\n      }\n    }, \"6\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 29\n      }\n    }, \"7\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 29\n      }\n    }, \"8\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 29\n      }\n    }, \"9\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 29\n      }\n    }, \"10\")))), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      class: \"search-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 17\n      }\n    }, \"Ricerca\"));\n  }\n  /*\r\n  return(\r\n      <form action=\"\" method=\"get\">\r\n          <div class=\"product-search\">\r\n              <div class=\"search-element\">\r\n                  <label class=\"search-label\">Dove</label>\r\n                  <input class=\"search-input\" type=\"text\" autocomplete=\"on\" placeholder=\"Dove vuoi andare?\" name=\"query\"></input>\r\n              </div>\r\n              <div class=\"search-element\">\r\n              <label class=\"search-label\" htmlFor=\"start_date\">Check-in</label>\r\n                  <SingleDatePicker\r\n                      class=\"search-element\"\r\n                      date={dates.startDate}\r\n                      onDateChange={date => setStartDate(date)}\r\n                      focused={focused.checkIn}\r\n                      onFocusChange={({ focused }) =>\r\n                      set_focused({\r\n                          ...focused,\r\n                          checkIn: focused\r\n                      })\r\n                      }\r\n                      id=\"start_date\"\r\n                      numberOfMonths={1}\r\n                      placeholder=\"gg/mm/aaaa\"\r\n                      daySize={32}\r\n                      hideKeyboardShortcutsPanel={true}\r\n                      displayFormat=\"DD/MM/YYYY\"\r\n                      block={true}\r\n                      verticalSpacing={8}\r\n                      showClearDate={focused.checkIn}\r\n                      reopenPickerOnClearDate={true}\r\n                      noBorder={true}\r\n                  />\r\n              </div>\r\n              <div class=\"search-element\">\r\n              <label class=\"search-label\" htmlFor=\"end_date\">Check-out</label>\r\n                  <SingleDatePicker\r\n                      class=\"search-element\"\r\n                      date={dates.endDate}\r\n                      onDateChange={date => setEndDate(date)}\r\n                      focused={focused.checkOut}\r\n                      onFocusChange={({ focused }) =>\r\n                      set_focused({\r\n                          ...focused,\r\n                          checkOut: focused\r\n                      })\r\n                      }\r\n                      id=\"end_date\"\r\n                      numberOfMonths={1}\r\n                      placeholder=\"gg/mm/aaaa\"\r\n                      daySize={32}\r\n                      hideKeyboardShortcutsPanel={true}\r\n                      displayFormat=\"DD/MM/YYYY\"\r\n                      block={true}\r\n                      isDayHighlighted={day =>\r\n                      day.isAfter(dates.startDate) && day.isBefore(dates.endDate)\r\n                      }\r\n                      verticalSpacing={8}\r\n                      anchorDirection=\"right\"\r\n                      isDayBlocked={day => day.isBefore(dates.startDate)}\r\n                      showClearDate={focused.checkOut}\r\n                      reopenPickerOnClearDate={true}\r\n                      noBorder={true}\r\n                  />\r\n              </div>\r\n              <div class=\"search-element\">\r\n                  <label class=\"search-label\">Tipo struttura</label>\r\n                  <select class=\"search-input\" placeholder=\"Struttura\">\r\n                      <option></option>\r\n                      <option value=\"CV\">Casa Vacanza</option>\r\n                      <option value=\"BnB\">B&B</option>\r\n                  </select>\r\n              </div>\r\n              <div class=\"search-element-ospiti\">\r\n                  <label class=\"search-label\">Ospiti</label>\r\n                  <select class=\"search-input-ospiti\" placeholder=\"Ospiti\">\r\n                      <option value=\"1\">1</option>\r\n                      <option value=\"2\">2</option>\r\n                      <option value=\"3\">3</option>\r\n                      <option value=\"4\">4</option>\r\n                      <option value=\"5\">5</option>\r\n                      <option value=\"6\">6</option>\r\n                      <option value=\"7\">7</option>\r\n                      <option value=\"8\">8</option>\r\n                      <option value=\"9\">9</option>\r\n                      <option value=\"10\">10</option>\r\n                  </select>\r\n              </div>\r\n          </div>\r\n          <button type=\"submit\" class=\"search-button\">Ricerca</button>\r\n      </form>\r\n  );\r\n  */\n\n\n}\n\nexport default RicercaFinale;","map":{"version":3,"sources":["C:/Users/alexd/Documents/Progetto-Unipa/Frontend/src/components/RicercaFinale.js"],"names":["React","useState","Col","Row","DatePicker","moment","SingleDatePicker","Redirect","RicercaFinale","Component","constructor","props","set_focused_checkIn","e","setState","checkIn","set_focused_checkOut","checkOut","setStartDate","startDate","setEndDate","d","format","console","log","Date","endDate","onChange","target","name","value","onSubmit","preventDefault","data","tipo","state","localita","provincia","servizi","posti","tariffa","fetch","method","headers","body","JSON","stringify","then","result","text","parse","apiResponse","status","error","errorMessage","message","success","render","pathname","case","date","focused","day","isAfter","isBefore"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,GAAT,EAAcC,GAAd,QAAyB,iBAAzB;AACA,OAAOC,UAAP,MAAuB,aAAvB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,SAASC,gBAAT,QAAiC,aAAjC;AACA,OAAO,qBAAP;AAEA,SAASC,QAAT,QAAyB,kBAAzB;;AAEA,MAAMC,aAAN,SAA4BR,KAAK,CAACS,SAAlC,CAA4C;AAExCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAkBnBC,mBAlBmB,GAkBIC,CAAD,IAAO;AACzB,WAAKC,QAAL,CAAc;AAAEC,QAAAA,OAAO,EAAEF;AAAX,OAAd;AACH,KApBkB;;AAAA,SAsBnBG,oBAtBmB,GAsBKH,CAAD,IAAO;AAC1B,WAAKC,QAAL,CAAc;AAAEG,QAAAA,QAAQ,EAAEJ;AAAZ,OAAd;AACH,KAxBkB;;AAAA,SA0BnBK,YA1BmB,GA0BHL,CAAD,IAAO;AAClB,WAAKC,QAAL,CAAc;AAAEK,QAAAA,SAAS,EAAEN;AAAb,OAAd;AACH,KA5BkB;;AAAA,SA8BnBO,UA9BmB,GA8BLP,CAAD,IAAO;AAChB,UAAIQ,CAAC,GAAGR,CAAC,CAACS,MAAF,EAAR;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,IAAIC,IAAJ,CAASJ,CAAT,CAAZ;AACA,WAAKP,QAAL,CAAc;AAAEY,QAAAA,OAAO,EAAE,IAAID,IAAJ,CAASJ,CAAT;AAAX,OAAd;AACH,KAlCkB;;AAAA,SAoCnBM,QApCmB,GAoCPd,CAAD,IAAO;AACd,WAAKC,QAAL,CAAc;AAAE,SAACD,CAAC,CAACe,MAAF,CAASC,IAAV,GAAiBhB,CAAC,CAACe,MAAF,CAASE;AAA5B,OAAd;AACH,KAtCkB;;AAAA,SAwCnBC,QAxCmB,GAwCPlB,CAAD,IAAO;AACdA,MAAAA,CAAC,CAACmB,cAAF;AAEA,YAAMC,IAAI,GAAG;AACTC,QAAAA,IAAI,EAAE,KAAKC,KAAL,CAAWD,IADR;AAETE,QAAAA,QAAQ,EAAE,KAAKD,KAAL,CAAWC,QAFZ;AAGTC,QAAAA,SAAS,EAAE,EAHF;AAITC,QAAAA,OAAO,EAAE,EAJA;AAKTC,QAAAA,KAAK,EAAE,KAAKJ,KAAL,CAAWI,KALT;AAMTC,QAAAA,OAAO,EAAE,EANA;AAOTzB,QAAAA,OAAO,EAAE,KAAKoB,KAAL,CAAWhB,SAPX;AAQTF,QAAAA,QAAQ,EAAE,KAAKkB,KAAL,CAAWT;AARZ,OAAb;AAWAe,MAAAA,KAAK,CAAC,iDAAD,EAAoD;AACrDC,QAAAA,MAAM,EAAE,MAD6C;AAErDC,QAAAA,OAAO,EAAE;AACL,0BAAgB;AADX,SAF4C;AAKrDC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeb,IAAf;AAL+C,OAApD,CAAL,CAOCc,IAPD,CAOOC,MAAD,IAAYA,MAAM,CAACC,IAAP,EAPlB,EAQCF,IARD,CAQOC,MAAD,IAAY;AACdzB,QAAAA,OAAO,CAACC,GAAR,CAAYqB,IAAI,CAACK,KAAL,CAAWF,MAAX,CAAZ;AACA,aAAKlC,QAAL,CAAc;AAAEqC,UAAAA,WAAW,EAAEN,IAAI,CAACK,KAAL,CAAWF,MAAX;AAAf,SAAd;;AAEA,YAAG,KAAKb,KAAL,CAAWgB,WAAX,CAAuBC,MAAvB,KAAkC,OAArC,EAA8C;AAC1C,eAAKtC,QAAL,CAAc;AAAEuC,YAAAA,KAAK,EAAE;AAAT,WAAd;AACA,eAAKvC,QAAL,CAAc;AAAEwC,YAAAA,YAAY,EAAE,KAAKnB,KAAL,CAAWgB,WAAX,CAAuBI;AAAvC,WAAd;AACH,SAHD,MAIK,CACD;AACA;AACH;AACJ,OApBD;AAqBH,KA3EkB;;AAGf,SAAKpB,KAAL,GAAa;AACTpB,MAAAA,OAAO,EAAE,IADA;AAETE,MAAAA,QAAQ,EAAE,IAFD;AAGTE,MAAAA,SAAS,EAAEd,MAAM,EAHR;AAITqB,MAAAA,OAAO,EAAE,IAJA;AAKTQ,MAAAA,IAAI,EAAE,EALG;AAMTE,MAAAA,QAAQ,EAAE,EAND;AAOTG,MAAAA,KAAK,EAAE,CAPE;AAQTY,MAAAA,WAAW,EAAE,EARJ;AASTE,MAAAA,KAAK,EAAE,KATE;AAUTC,MAAAA,YAAY,EAAE,EAVL;AAWTE,MAAAA,OAAO,EAAE;AAXA,KAAb;AAaH;;AA6DD;;;;;;;;;;;;;;;;;;;;;AAwBAC,EAAAA,MAAM,GAAG;AACL,QAAG,KAAKtB,KAAL,CAAWqB,OAAd,EAAuB;AACnB,0BAAO,oBAAC,QAAD;AACP,QAAA,EAAE,EAAI;AACJE,UAAAA,QAAQ,EAAE,cADN;AAEJvB,UAAAA,KAAK,EAAE;AACLwB,YAAAA,IAAI,EAAE,KAAKxB,KAAL,CAAWgB;AADZ;AAFH,SADC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AAQH;;AACD,wBACI;AAAM,MAAA,QAAQ,EAAI,KAAKpB,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,KAAK,EAAC,gBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,KAAK,EAAC,gBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAO,MAAA,KAAK,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAO,MAAA,KAAK,EAAC,cAAb;AAA4B,MAAA,IAAI,EAAC,MAAjC;AAAwC,MAAA,YAAY,EAAC,IAArD;AACI,MAAA,WAAW,EAAC,mBADhB;AACoC,MAAA,EAAE,EAAG,UADzC;AACoD,MAAA,IAAI,EAAC,UADzD;AACoE,MAAA,QAAQ,EAAI,KAAKJ,QADrF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADJ,eAQI;AAAK,MAAA,KAAK,EAAC,gBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAO,MAAA,KAAK,EAAC,cAAb;AAA4B,MAAA,OAAO,EAAC,YAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADA,eAEI,oBAAC,gBAAD;AACI,MAAA,KAAK,EAAC,gBADV;AAEI,MAAA,IAAI,EAAE,KAAKQ,KAAL,CAAWhB,SAFrB;AAGI,MAAA,YAAY,EAAEyC,IAAI,IAAI,KAAK1C,YAAL,CAAkB0C,IAAlB,CAH1B;AAII,MAAA,OAAO,EAAE,KAAKzB,KAAL,CAAWpB,OAJxB;AAKI,MAAA,aAAa,EAAE,CAAC;AAAE8C,QAAAA;AAAF,OAAD,KAAiB,KAAKjD,mBAAL,CAAyBiD,OAAzB,CALpC;AAMI,MAAA,EAAE,EAAC,YANP;AAOI,MAAA,cAAc,EAAE,CAPpB;AAQI,MAAA,WAAW,EAAC,YARhB;AASI,MAAA,OAAO,EAAE,EATb;AAUI,MAAA,0BAA0B,EAAE,IAVhC;AAWI,MAAA,aAAa,EAAC,YAXlB;AAYI,MAAA,KAAK,EAAE,IAZX;AAaI,MAAA,eAAe,EAAE,CAbrB;AAcI,MAAA,aAAa,EAAE,KAAK1B,KAAL,CAAWpB,OAd9B;AAeI,MAAA,uBAAuB,EAAE,IAf7B;AAgBI,MAAA,QAAQ,EAAE,IAhBd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CARJ,eA6BI;AAAK,MAAA,KAAK,EAAC,gBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAO,MAAA,KAAK,EAAC,cAAb;AAA4B,MAAA,OAAO,EAAC,UAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADA,eAEI,oBAAC,gBAAD;AACI,MAAA,KAAK,EAAC,gBADV;AAEI,MAAA,IAAI,EAAE,KAAKoB,KAAL,CAAWT,OAFrB;AAGI,MAAA,YAAY,EAAEkC,IAAI,IAAI,KAAKxC,UAAL,CAAgBwC,IAAhB,CAH1B;AAII,MAAA,OAAO,EAAE,KAAKzB,KAAL,CAAWlB,QAJxB;AAKI,MAAA,aAAa,EAAE,CAAC;AAAE4C,QAAAA;AAAF,OAAD,KAAiB,KAAK7C,oBAAL,CAA0B6C,OAA1B,CALpC;AAMI,MAAA,EAAE,EAAC,UANP;AAOI,MAAA,cAAc,EAAE,CAPpB;AAQI,MAAA,WAAW,EAAC,YARhB;AASI,MAAA,OAAO,EAAE,EATb;AAUI,MAAA,0BAA0B,EAAE,IAVhC;AAWI,MAAA,aAAa,EAAC,YAXlB;AAYI,MAAA,KAAK,EAAE,IAZX;AAaI,MAAA,gBAAgB,EAAEC,GAAG,IACjBA,GAAG,CAACC,OAAJ,CAAY,KAAK5B,KAAL,CAAWhB,SAAvB,KAAqC2C,GAAG,CAACE,QAAJ,CAAa,KAAK7B,KAAL,CAAWT,OAAxB,CAd7C;AAgBI,MAAA,eAAe,EAAE,CAhBrB;AAiBI,MAAA,eAAe,EAAC,OAjBpB;AAkBI,MAAA,YAAY,EAAEoC,GAAG,IAAIA,GAAG,CAACE,QAAJ,CAAa,KAAK7B,KAAL,CAAWhB,SAAxB,CAlBzB;AAmBI,MAAA,aAAa,EAAE,KAAKgB,KAAL,CAAWlB,QAnB9B;AAoBI,MAAA,uBAAuB,EAAE,IApB7B;AAqBI,MAAA,QAAQ,EAAE,IArBd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CA7BJ,eAuDI;AAAK,MAAA,KAAK,EAAC,gBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAO,MAAA,KAAK,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI;AAAQ,MAAA,KAAK,EAAC,cAAd;AAA6B,MAAA,WAAW,EAAC,WAAzC;AAAqD,MAAA,EAAE,EAAG,MAA1D;AAAiE,MAAA,IAAI,EAAG,MAAxE;AAA+E,MAAA,QAAQ,EAAI,KAAKU,QAAhG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI;AAAQ,MAAA,KAAK,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFJ,eAGI;AAAQ,MAAA,KAAK,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAHJ,CAFJ,CAvDJ,eA+DI;AAAK,MAAA,KAAK,EAAC,uBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAO,MAAA,KAAK,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAQ,MAAA,KAAK,EAAC,qBAAd;AAAoC,MAAA,WAAW,EAAC,QAAhD;AAAyD,MAAA,EAAE,EAAG,OAA9D;AAAsE,MAAA,IAAI,EAAG,OAA7E;AAAqF,MAAA,QAAQ,EAAI,KAAKA,QAAtG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAQ,MAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADJ,eAEI;AAAQ,MAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAFJ,eAGI;AAAQ,MAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAHJ,eAII;AAAQ,MAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAJJ,eAKI;AAAQ,MAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WALJ,eAMI;AAAQ,MAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WANJ,eAOI;AAAQ,MAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAPJ,eAQI;AAAQ,MAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WARJ,eASI;AAAQ,MAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WATJ,eAUI;AAAQ,MAAA,KAAK,EAAC,IAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAVJ,CAFJ,CA/DJ,CADJ,eAgFI;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,KAAK,EAAC,eAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAhFJ,CADJ;AAoFH;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAxMwC;;AAuS5C,eAAenB,aAAf","sourcesContent":["import React, { useState } from 'react';\r\nimport { Col, Row } from 'react-bootstrap'\r\nimport DatePicker from './InputDate';\r\nimport moment from \"moment\";\r\nimport { SingleDatePicker } from \"react-dates\";\r\nimport './RicercaFinale.css'\r\n\r\nimport { Redirect } from \"react-router-dom\"\r\n\r\nclass RicercaFinale extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            checkIn: null,\r\n            checkOut: null,\r\n            startDate: moment(),\r\n            endDate: null,\r\n            tipo: '',\r\n            localita: '',\r\n            posti: 1,\r\n            apiResponse: [],\r\n            error: false,\r\n            errorMessage: '',\r\n            success: false\r\n        }\r\n    }\r\n\r\n    set_focused_checkIn = (e) => {\r\n        this.setState({ checkIn: e });\r\n    }\r\n\r\n    set_focused_checkOut = (e) => {\r\n        this.setState({ checkOut: e });\r\n    }\r\n\r\n    setStartDate = (e) => {\r\n        this.setState({ startDate: e });\r\n    }\r\n\r\n    setEndDate = (e) => {\r\n        var d = e.format();\r\n        console.log(new Date(d));\r\n        this.setState({ endDate: new Date(d) });\r\n    }\r\n\r\n    onChange = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value });\r\n    }\r\n\r\n    onSubmit = (e) => {\r\n        e.preventDefault();\r\n        \r\n        const data = {\r\n            tipo: this.state.tipo,\r\n            localita: this.state.localita,\r\n            provincia: '',\r\n            servizi: '',\r\n            posti: this.state.posti,\r\n            tariffa: '',\r\n            checkIn: this.state.startDate,\r\n            checkOut: this.state.endDate\r\n        };\r\n\r\n        fetch('http://localhost:9000/ricercaAlloggio/risultati', {\r\n            method: \"POST\",\r\n            headers: {\r\n                'Content-type': 'application/json'\r\n            },\r\n            body: JSON.stringify(data)\r\n        })\r\n        .then((result) => result.text())\r\n        .then((result) => {\r\n            console.log(JSON.parse(result));\r\n            this.setState({ apiResponse: JSON.parse(result) });\r\n\r\n            if(this.state.apiResponse.status === 'error') {\r\n                this.setState({ error: true });\r\n                this.setState({ errorMessage: this.state.apiResponse.message });\r\n            }\r\n            else {\r\n                //momentaneamente solo case vacanza, poi anche b&b\r\n                //this.setState({ success: true })\r\n            }\r\n        });\r\n    }\r\n    \r\n    /*const [focused, set_focused] = useState({\r\n        checkIn: null,\r\n        chceckOut: null\r\n      });\r\n\r\n    const [dates, set_dates] = useState({\r\n        startDate: moment(),\r\n        endDate: null\r\n      });\r\n\r\n    const setStartDate = startDate => {\r\n        set_dates({\r\n          ...dates,\r\n          startDate\r\n        });\r\n      };\r\n    \r\n      const setEndDate = endDate => {\r\n        set_dates({\r\n          ...dates,\r\n          endDate\r\n        });\r\n      }; */\r\n\r\n    render() {\r\n        if(this.state.success) {\r\n            return <Redirect \r\n            to = {{\r\n              pathname: \"/CaseVacanza\",\r\n              state: {\r\n                case: this.state.apiResponse\r\n              }\r\n            }}\r\n          />\r\n        }\r\n        return(\r\n            <form onSubmit = {this.onSubmit}>\r\n                <div class=\"product-search\">\r\n                    <div class=\"search-element\">\r\n                        <label class=\"search-label\">Dove</label>\r\n                        <input class=\"search-input\" type=\"text\" autocomplete=\"on\" \r\n                            placeholder=\"Dove vuoi andare?\" id = 'localita' name=\"localita\" onChange = {this.onChange}\r\n                        >\r\n                        </input>\r\n                    </div>\r\n                    <div class=\"search-element\">\r\n                    <label class=\"search-label\" htmlFor=\"start_date\">Check-in</label>\r\n                        <SingleDatePicker\r\n                            class=\"search-element\"\r\n                            date={this.state.startDate}\r\n                            onDateChange={date => this.setStartDate(date)}\r\n                            focused={this.state.checkIn}\r\n                            onFocusChange={({ focused }) => this.set_focused_checkIn(focused)}\r\n                            id=\"start_date\"\r\n                            numberOfMonths={1}\r\n                            placeholder=\"gg/mm/aaaa\"\r\n                            daySize={32}\r\n                            hideKeyboardShortcutsPanel={true}\r\n                            displayFormat=\"DD/MM/YYYY\"\r\n                            block={true}\r\n                            verticalSpacing={8}\r\n                            showClearDate={this.state.checkIn}\r\n                            reopenPickerOnClearDate={true}\r\n                            noBorder={true}\r\n                        />\r\n                    </div>\r\n                    <div class=\"search-element\">\r\n                    <label class=\"search-label\" htmlFor=\"end_date\">Check-out</label>\r\n                        <SingleDatePicker\r\n                            class=\"search-element\"\r\n                            date={this.state.endDate}\r\n                            onDateChange={date => this.setEndDate(date)}\r\n                            focused={this.state.checkOut}\r\n                            onFocusChange={({ focused }) => this.set_focused_checkOut(focused)}\r\n                            id=\"end_date\"\r\n                            numberOfMonths={1}\r\n                            placeholder=\"gg/mm/aaaa\"\r\n                            daySize={32}\r\n                            hideKeyboardShortcutsPanel={true}\r\n                            displayFormat=\"DD/MM/YYYY\"\r\n                            block={true}\r\n                            isDayHighlighted={day =>\r\n                                day.isAfter(this.state.startDate) && day.isBefore(this.state.endDate)\r\n                            }\r\n                            verticalSpacing={8}\r\n                            anchorDirection=\"right\"\r\n                            isDayBlocked={day => day.isBefore(this.state.startDate)}\r\n                            showClearDate={this.state.checkOut}\r\n                            reopenPickerOnClearDate={true}\r\n                            noBorder={true}\r\n                        />\r\n                    </div>\r\n                    <div class=\"search-element\">\r\n                        <label class=\"search-label\">Tipo struttura</label>\r\n                        <select class=\"search-input\" placeholder=\"Struttura\" id = 'tipo' name = 'tipo' onChange = {this.onChange}>\r\n                            <option></option>\r\n                            <option value=\"cv\">Casa Vacanza</option>\r\n                            <option value=\"bb\">B&B</option>\r\n                        </select>\r\n                    </div>\r\n                    <div class=\"search-element-ospiti\">\r\n                        <label class=\"search-label\">Ospiti</label>\r\n                        <select class=\"search-input-ospiti\" placeholder=\"Ospiti\" id = 'posti' name = 'posti' onChange = {this.onChange}>\r\n                            <option value=\"1\">1</option>\r\n                            <option value=\"2\">2</option>\r\n                            <option value=\"3\">3</option>\r\n                            <option value=\"4\">4</option>\r\n                            <option value=\"5\">5</option>\r\n                            <option value=\"6\">6</option>\r\n                            <option value=\"7\">7</option>\r\n                            <option value=\"8\">8</option>\r\n                            <option value=\"9\">9</option>\r\n                            <option value=\"10\">10</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n                <button type=\"submit\" class=\"search-button\">Ricerca</button>\r\n            </form>\r\n        );\r\n    }\r\n\r\n    /*\r\n    return(\r\n        <form action=\"\" method=\"get\">\r\n            <div class=\"product-search\">\r\n                <div class=\"search-element\">\r\n                    <label class=\"search-label\">Dove</label>\r\n                    <input class=\"search-input\" type=\"text\" autocomplete=\"on\" placeholder=\"Dove vuoi andare?\" name=\"query\"></input>\r\n                </div>\r\n                <div class=\"search-element\">\r\n                <label class=\"search-label\" htmlFor=\"start_date\">Check-in</label>\r\n                    <SingleDatePicker\r\n                        class=\"search-element\"\r\n                        date={dates.startDate}\r\n                        onDateChange={date => setStartDate(date)}\r\n                        focused={focused.checkIn}\r\n                        onFocusChange={({ focused }) =>\r\n                        set_focused({\r\n                            ...focused,\r\n                            checkIn: focused\r\n                        })\r\n                        }\r\n                        id=\"start_date\"\r\n                        numberOfMonths={1}\r\n                        placeholder=\"gg/mm/aaaa\"\r\n                        daySize={32}\r\n                        hideKeyboardShortcutsPanel={true}\r\n                        displayFormat=\"DD/MM/YYYY\"\r\n                        block={true}\r\n                        verticalSpacing={8}\r\n                        showClearDate={focused.checkIn}\r\n                        reopenPickerOnClearDate={true}\r\n                        noBorder={true}\r\n                    />\r\n                </div>\r\n                <div class=\"search-element\">\r\n                <label class=\"search-label\" htmlFor=\"end_date\">Check-out</label>\r\n                    <SingleDatePicker\r\n                        class=\"search-element\"\r\n                        date={dates.endDate}\r\n                        onDateChange={date => setEndDate(date)}\r\n                        focused={focused.checkOut}\r\n                        onFocusChange={({ focused }) =>\r\n                        set_focused({\r\n                            ...focused,\r\n                            checkOut: focused\r\n                        })\r\n                        }\r\n                        id=\"end_date\"\r\n                        numberOfMonths={1}\r\n                        placeholder=\"gg/mm/aaaa\"\r\n                        daySize={32}\r\n                        hideKeyboardShortcutsPanel={true}\r\n                        displayFormat=\"DD/MM/YYYY\"\r\n                        block={true}\r\n                        isDayHighlighted={day =>\r\n                        day.isAfter(dates.startDate) && day.isBefore(dates.endDate)\r\n                        }\r\n                        verticalSpacing={8}\r\n                        anchorDirection=\"right\"\r\n                        isDayBlocked={day => day.isBefore(dates.startDate)}\r\n                        showClearDate={focused.checkOut}\r\n                        reopenPickerOnClearDate={true}\r\n                        noBorder={true}\r\n                    />\r\n                </div>\r\n                <div class=\"search-element\">\r\n                    <label class=\"search-label\">Tipo struttura</label>\r\n                    <select class=\"search-input\" placeholder=\"Struttura\">\r\n                        <option></option>\r\n                        <option value=\"CV\">Casa Vacanza</option>\r\n                        <option value=\"BnB\">B&B</option>\r\n                    </select>\r\n                </div>\r\n                <div class=\"search-element-ospiti\">\r\n                    <label class=\"search-label\">Ospiti</label>\r\n                    <select class=\"search-input-ospiti\" placeholder=\"Ospiti\">\r\n                        <option value=\"1\">1</option>\r\n                        <option value=\"2\">2</option>\r\n                        <option value=\"3\">3</option>\r\n                        <option value=\"4\">4</option>\r\n                        <option value=\"5\">5</option>\r\n                        <option value=\"6\">6</option>\r\n                        <option value=\"7\">7</option>\r\n                        <option value=\"8\">8</option>\r\n                        <option value=\"9\">9</option>\r\n                        <option value=\"10\">10</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <button type=\"submit\" class=\"search-button\">Ricerca</button>\r\n        </form>\r\n    );\r\n    */\r\n}\r\n\r\nexport default RicercaFinale;"]},"metadata":{},"sourceType":"module"}