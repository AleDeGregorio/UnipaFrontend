{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alexd\\\\Documents\\\\Progetto-Unipa\\\\Frontend\\\\src\\\\GestioneProprietario\\\\ProprietarioPage.js\";\nimport React from 'react';\nimport { Card, Modal, Button } from 'react-bootstrap'; //import {Nav, CardColumns} from 'react-bootstrap'\n\nimport './ProprietarioPage.css';\nimport { SiCashapp } from \"react-icons/si\";\nimport { RiAccountBoxLine } from \"react-icons/ri\";\nimport { AiFillCheckSquare } from \"react-icons/ai\";\nimport { FaHotel } from \"react-icons/fa\";\nimport { RiMailSendLine } from \"react-icons/ri\";\nimport { FaClipboardList } from \"react-icons/fa\";\nimport { BsTools } from \"react-icons/bs\";\nimport { Link } from 'react-router-dom';\nimport { Redirect } from \"react-router-dom\";\n\nclass ProprietarioPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleClose = () => {\n      this.setState({\n        show: false\n      });\n    };\n\n    this.handleShow = () => {\n      this.setState({\n        show: true\n      });\n    };\n\n    this.state = {\n      email: localStorage.getItem('email'),\n      apiResponse: [],\n      error: false,\n      errorMessage: '',\n      show: false\n    };\n  }\n\n  componentDidMount() {\n    const data = {\n      email: this.state.email\n    };\n    fetch('http://localhost:9000/getDataInvio/dataInvio', {\n      method: 'POST',\n      headers: {\n        'Content-type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    }).then(result => result.text()).then(result => {\n      this.setState({\n        apiResponse: JSON.parse(result)\n      });\n\n      if (this.state.apiResponse.status === 'error') {\n        this.setState({\n          error: true,\n          errorMessage: this.state.apiResponse.message\n        });\n      }\n    });\n  }\n\n  render() {\n    /*if(!localStorage.getItem('logged') || !localStorage.getItem('proprietario')) {\r\n        return <Redirect\r\n            to={{\r\n                pathname: \"/ErrorPage\",\r\n                state: { \r\n                    error: true,\r\n                    errorMessage: \"Utente non autorizzato\" \r\n                }\r\n            }}\r\n        />\r\n    }\r\n    else*/\n    {\n      var data_invio = this.state.apiResponse[0] ? new Date(this.state.apiResponse[0].ultimo_invio_dati).toLocaleDateString() : \"Mai inviati\";\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"carte_prop\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/Testina\",\n        className: \"LinK\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        id: \"prop\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(FaClipboardList, {\n        className: \"imageProp\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(Card.Title, {\n        className: \"TitoloCard\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 33\n        }\n      }, \"Gestisci Prenotazioni\"), /*#__PURE__*/React.createElement(Card.Text, {\n        className: \"TestoCard\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 33\n        }\n      }, \"Gestisci le prenotazioni in attesa e quelle gi\\xE0 accettate.\"))), /*#__PURE__*/React.createElement(Card, {\n        id: \"prop\",\n        onClick: this.handleShow,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(RiMailSendLine, {\n        className: \"imageProp\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(Card.Title, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 33\n        }\n      }, \"Invio dati Turismo \"), /*#__PURE__*/React.createElement(Card.Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 33\n        }\n      }, \"Effettua l'invio dei dati relativi ai soggiornanti all'ufficio del turismo.\")), /*#__PURE__*/React.createElement(Modal, {\n        show: this.state.show,\n        onHide: this.handleClose,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Modal.Header, {\n        closeButton: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(Modal.Title, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 41\n        }\n      }, \"Invio dati all'ufficio del turismo\")), /*#__PURE__*/React.createElement(Modal.Body, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 49\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"turismocont\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 53\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 57\n        }\n      }, \"Ultimo invio dei dati all'ufficio competente: \", data_invio, \" \"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 57\n        }\n      }, \"Desideri inviare i dati nuovamente?\"))), /*#__PURE__*/React.createElement(Modal.Footer, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        variant: \"secondary\"\n        /*funzione invia dationClick={}*/\n        ,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 41\n        }\n      }, \"Invia dati\"), /*#__PURE__*/React.createElement(Button, {\n        variant: \"secondary\",\n        onClick: this.handleClose,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 41\n        }\n      }, \"Chiudi\")))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"carte_prop\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/InserimentoPropriet\\xE0\",\n        className: \"LinK\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        id: \"prop\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(FaHotel, {\n        className: \"imageProp\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(Card.Title, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 33\n        }\n      }, \"Inserisci Propriet\\xE0\"), /*#__PURE__*/React.createElement(Card.Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 33\n        }\n      }, \"Scegli tra le tipologie di strutture presenti nel sistema e inserisci la tua! \"))), /*#__PURE__*/React.createElement(Link, {\n        to: \"/SceltaModifica\",\n        className: \"LinK\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        id: \"prop\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(BsTools, {\n        className: \"imageProp\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(Card.Title, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 33\n        }\n      }, \"Modifica Propriet\\xE0\"), /*#__PURE__*/React.createElement(Card.Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 33\n        }\n      }, \"Scegli tra le strutture possedute ed effettua i cambiamenti che preferisci.\")))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"carte_prop\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/DatiPersonali\",\n        className: \"LinK\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        id: \"prop\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(RiAccountBoxLine, {\n        className: \"imageProp\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(Card.Title, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 33\n        }\n      }, \"Gestione Account\"), /*#__PURE__*/React.createElement(Card.Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 33\n        }\n      }, \"Vedi le opzioni disponibili\"))), /*#__PURE__*/React.createElement(Link, {\n        to: \"/Earning\",\n        className: \"LinK\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        id: \"prop\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(SiCashapp, {\n        className: \"imageProp\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(Card.Title, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 37\n        }\n      }, \"Resoconto Guadagni\"), /*#__PURE__*/React.createElement(Card.Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 37\n        }\n      }, \"Visualizza \")))));\n    }\n  }\n\n}\n\nexport default ProprietarioPage;","map":{"version":3,"sources":["C:/Users/alexd/Documents/Progetto-Unipa/Frontend/src/GestioneProprietario/ProprietarioPage.js"],"names":["React","Card","Modal","Button","SiCashapp","RiAccountBoxLine","AiFillCheckSquare","FaHotel","RiMailSendLine","FaClipboardList","BsTools","Link","Redirect","ProprietarioPage","Component","constructor","props","handleClose","setState","show","handleShow","state","email","localStorage","getItem","apiResponse","error","errorMessage","componentDidMount","data","fetch","method","headers","body","JSON","stringify","then","result","text","parse","status","message","render","data_invio","Date","ultimo_invio_dati","toLocaleDateString"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {Card, Modal, Button} from 'react-bootstrap'\r\n//import {Nav, CardColumns} from 'react-bootstrap'\r\nimport './ProprietarioPage.css'\r\nimport {SiCashapp} from \"react-icons/si\"\r\nimport {RiAccountBoxLine} from \"react-icons/ri\"\r\nimport {AiFillCheckSquare} from \"react-icons/ai\"\r\nimport {FaHotel} from \"react-icons/fa\"\r\nimport {RiMailSendLine} from \"react-icons/ri\"\r\nimport {FaClipboardList} from \"react-icons/fa\"\r\nimport {BsTools} from \"react-icons/bs\"\r\nimport {Link} from 'react-router-dom'\r\n\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\n\r\nclass ProprietarioPage extends React.Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            email: localStorage.getItem('email'),\r\n            apiResponse: [],\r\n            error: false,\r\n            errorMessage: '',\r\n            show: false\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        const data = {\r\n            email: this.state.email\r\n        };\r\n\r\n        fetch('http://localhost:9000/getDataInvio/dataInvio',{\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type':'application/json'\r\n            },\r\n            body: JSON.stringify(data)\r\n        })\r\n        .then((result)=>result.text())\r\n        .then((result)=>{\r\n            this.setState({ apiResponse:JSON.parse(result) });\r\n\r\n            if(this.state.apiResponse.status === 'error') {\r\n                this.setState({\r\n                    error: true,\r\n                    errorMessage: this.state.apiResponse.message\r\n                });\r\n            }\r\n        })\r\n    }\r\n\r\n    handleClose = () => {\r\n        this.setState({\r\n            show: false\r\n        });\r\n    }\r\n    \r\n    handleShow = () => {\r\n        this.setState({\r\n            show: true\r\n        });\r\n    }\r\n\r\n    render() {\r\n        /*if(!localStorage.getItem('logged') || !localStorage.getItem('proprietario')) {\r\n            return <Redirect\r\n                to={{\r\n                    pathname: \"/ErrorPage\",\r\n                    state: { \r\n                        error: true,\r\n                        errorMessage: \"Utente non autorizzato\" \r\n                    }\r\n                }}\r\n            />\r\n        }\r\n        else*/ {\r\n            var data_invio = this.state.apiResponse[0] ? new Date(this.state.apiResponse[0].ultimo_invio_dati).toLocaleDateString() : \"Mai inviati\";\r\n            return(\r\n                <div className=\"col\">\r\n                    <div className=\"carte_prop\" >\r\n                        <Link to = \"/Testina\" className=\"LinK\">\r\n                            <Card id=\"prop\">\r\n                                <FaClipboardList className=\"imageProp\"/>\r\n                                <Card.Title className=\"TitoloCard\">Gestisci Prenotazioni</Card.Title>\r\n                                <Card.Text className=\"TestoCard\">Gestisci le prenotazioni in attesa e quelle già accettate.</Card.Text>\r\n                            </Card>\r\n                        </Link>\r\n                            <Card id=\"prop\" onClick = {this.handleShow}>\r\n                                <RiMailSendLine className=\"imageProp\"/>\r\n                                <Card.Title>Invio dati Turismo </Card.Title>\r\n                                <Card.Text>Effettua l'invio dei dati relativi ai soggiornanti all'ufficio del turismo.</Card.Text>\r\n                            </Card>\r\n                                <Modal show={this.state.show} onHide={this.handleClose}>\r\n                                    <Modal.Header closeButton>\r\n                                        <Modal.Title>Invio dati all'ufficio del turismo</Modal.Title>\r\n                                            </Modal.Header>\r\n                                                <Modal.Body>\r\n                                                    <div className=\"turismocont\">\r\n                                                        <p>Ultimo invio dei dati all'ufficio competente: {data_invio} </p>\r\n                                                        <p>Desideri inviare i dati nuovamente?</p>\r\n                                                    </div>\r\n                                                </Modal.Body>\r\n                                    <Modal.Footer>\r\n                                        <Button variant=\"secondary\" /*funzione invia dationClick={}*/>Invia dati</Button>\r\n                                        <Button variant=\"secondary\" onClick={this.handleClose}>\r\n                                            Chiudi\r\n                                        </Button>                    \r\n                                    </Modal.Footer>\r\n                                </Modal>\r\n                    </div>\r\n                    <div className=\"carte_prop\">\r\n                        <Link to = \"/InserimentoProprietà\" className=\"LinK\">\r\n                            <Card id=\"prop\">\r\n                                <FaHotel className=\"imageProp\"/>\r\n                                <Card.Title>Inserisci Proprietà</Card.Title>\r\n                                <Card.Text>Scegli tra le tipologie di strutture presenti nel sistema e inserisci la tua! </Card.Text>\r\n                            </Card>\r\n                        </Link>\r\n                        <Link to = \"/SceltaModifica\" className=\"LinK\">\r\n                            <Card  id=\"prop\">\r\n                                <BsTools className=\"imageProp\"/>\r\n                                <Card.Title>Modifica Proprietà</Card.Title>\r\n                                <Card.Text>Scegli tra le strutture possedute ed effettua i cambiamenti che preferisci.</Card.Text>\r\n                            </Card>\r\n                        </Link>\r\n                    </div>\r\n                    <div className=\"carte_prop\">\r\n                        <Link to = \"/DatiPersonali\" className=\"LinK\">\r\n                            <Card id=\"prop\">\r\n                                <RiAccountBoxLine className=\"imageProp\" />\r\n                                <Card.Title>Gestione Account</Card.Title>\r\n                                <Card.Text>Vedi le opzioni disponibili</Card.Text>\r\n                            </Card>\r\n                            </Link>\r\n                            <Link to = \"/Earning\" className=\"LinK\">\r\n                                <Card id=\"prop\">\r\n                                <SiCashapp className=\"imageProp\" />\r\n                                    <Card.Title>Resoconto Guadagni</Card.Title>\r\n                                    <Card.Text>Visualizza </Card.Text>\r\n                                </Card>\r\n                            </Link>\r\n                        </div>\r\n                </div>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport default ProprietarioPage;\r\n\r\n"]},"metadata":{},"sourceType":"module"}