{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alexd\\\\Documents\\\\Progetto-Unipa\\\\Frontend\\\\src\\\\GestioneProprietario\\\\DatiPersonali.js\";\nimport React from 'react';\nimport { Button, Col, Form, Accordion, Card } from 'react-bootstrap';\nimport { AiOutlineEdit } from 'react-icons/ai';\nimport { RiAccountBoxLine } from 'react-icons/ri'; //import { Row } from 'react-bootstrap'\n//import {Accordion, AccordionSummary, AccordionDetails} from '@material-ui/core'\n//import {MdExpandMore} from 'react-icons/md'\n//import {Container} from '@material-ui/core'\n\nimport './DatiPersonali.css';\nimport { Redirect } from \"react-router-dom\";\n\nclass DatiPersonali extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n\n      if (localStorage.getItem('proprietario')) {\n        const data = {\n          email: this.state.email,\n          nome: this.state.nome,\n          cognome: this.state.cognome,\n          nascita: this.state.nascita,\n          telefono: this.state.telefono,\n          num_documento: this.state.num_documento\n        };\n        fetch('http://localhost:9000/updateProprietario/fields', {\n          method: \"POST\",\n          headers: {\n            'Content-type': 'application/json'\n          },\n          body: JSON.stringify(data)\n        }).then(result => result.text()).then(result => {\n          this.setState({\n            apiResponse: JSON.parse(result)\n          });\n          var res = JSON.parse(result);\n\n          if (res.length < 1 || res.code && res.code === 404) {\n            this.setState({\n              empty: true,\n              errorMessage: res.message\n            });\n          } else if (this.state.apiResponse.status === 'error') {\n            this.setState({\n              error: true\n            });\n            this.setState({\n              errorMessage: this.state.apiResponse.message\n            });\n          } else {\n            this.setState({\n              success: true\n            });\n          }\n        });\n      } else {\n        const data = {\n          email: this.state.email,\n          nome: this.state.nome,\n          cognome: this.state.cognome,\n          nascita: this.state.nascita,\n          telefono: this.state.telefono\n        };\n        fetch('http://localhost:9000/updateCliente/fields', {\n          method: \"POST\",\n          headers: {\n            'Content-type': 'application/json'\n          },\n          body: JSON.stringify(data)\n        }).then(result => result.text()).then(result => {\n          this.setState({\n            apiResponse: JSON.parse(result)\n          });\n          var res = JSON.parse(result);\n\n          if (res.length < 1 || res.code && res.code === 404) {\n            this.setState({\n              empty: true,\n              errorMessage: res.message\n            });\n          } else if (this.state.apiResponse.status === 'error') {\n            this.setState({\n              error: true\n            });\n            this.setState({\n              errorMessage: this.state.apiResponse.message\n            });\n          } else {\n            this.setState({\n              success: true\n            });\n          }\n        });\n      }\n    };\n\n    this.onSubmitPassword = e => {\n      e.preventDefault();\n\n      if (this.state.oldPassword === '' || this.state.newPassword === '' || this.state.confirmPassword === '' || this.state.newPassword !== this.state.confirmPassword) {\n        this.setState({\n          error: true\n        });\n        return;\n      }\n\n      if (localStorage.getItem('proprietario')) {\n        const data1 = {\n          email: this.state.email,\n          password: this.state.oldPassword\n        };\n        fetch('http://localhost:9000/loginProprietario/proprietarioLogged', {\n          method: \"POST\",\n          headers: {\n            'Content-type': 'application/json'\n          },\n          body: JSON.stringify(data1)\n        }).then(result => result.text()).then(result => {\n          this.setState({\n            apiResponse: JSON.parse(result)\n          });\n          var res = JSON.parse(result);\n\n          if (res.length < 1 || res.code && res.code === 404) {\n            this.setState({\n              empty: true,\n              errorMessage: res.message\n            });\n          } else if (this.state.apiResponse.status === 'error') {\n            this.setState({\n              error: true\n            });\n            this.setState({\n              errorMessage: this.state.apiResponse.message\n            });\n          } else {\n            const data2 = {\n              email: this.state.email,\n              password: this.state.newPassword\n            };\n            fetch('http://localhost:9000/updateProprietarioPassword/updPass', {\n              method: \"POST\",\n              headers: {\n                'Content-type': 'application/json'\n              },\n              body: JSON.stringify(data2)\n            }).then(result => result.text()).then(result => {\n              this.setState({\n                apiResponse: JSON.parse(result)\n              });\n              var res = JSON.parse(result);\n\n              if (res.length < 1 || res.code && res.code === 404) {\n                this.setState({\n                  empty: true,\n                  errorMessage: res.message\n                });\n              } else if (this.state.apiResponse.status === 'error') {\n                this.setState({\n                  error: true\n                });\n                this.setState({\n                  errorMessage: this.state.apiResponse.message\n                });\n              } else {\n                const data3 = {\n                  email: this.state.email\n                };\n                fetch('http://localhost:9000/searchProprietarioEmail/proprietarioEmail', {\n                  method: \"POST\",\n                  headers: {\n                    'Content-type': 'application/json'\n                  },\n                  body: JSON.stringify(data3)\n                }).then(result => result.text()).then(result => {\n                  this.setState({\n                    apiResponse: JSON.parse(result)\n                  });\n                  var res = JSON.parse(result);\n\n                  if (res.length < 1 || res.code && res.code === 404) {\n                    this.setState({\n                      empty: true,\n                      errorMessage: res.message\n                    });\n                  } else if (this.state.apiResponse.status === 'error') {\n                    this.setState({\n                      error: true\n                    });\n                    this.setState({\n                      errorMessage: this.state.apiResponse.message\n                    });\n                  } else {\n                    localStorage.setObj('user_data', this.state.apiResponse);\n                    this.setState({\n                      success: true\n                    });\n                  }\n                });\n              }\n            });\n          }\n        });\n      } else {\n        const data4 = {\n          email: this.state.email,\n          password: this.state.oldPassword\n        };\n        fetch('http://localhost:9000/loginCliente/clienteLogged', {\n          method: \"POST\",\n          headers: {\n            'Content-type': 'application/json'\n          },\n          body: JSON.stringify(data4)\n        }).then(result => result.text()).then(result => {\n          this.setState({\n            apiResponse: JSON.parse(result)\n          });\n          var res = JSON.parse(result);\n\n          if (res.length < 1 || res.code && res.code === 404) {\n            this.setState({\n              empty: true,\n              errorMessage: res.message\n            });\n          } else if (this.state.apiResponse.status === 'error') {\n            this.setState({\n              error: true\n            });\n            this.setState({\n              errorMessage: this.state.apiResponse.message\n            });\n          } else {\n            const data5 = {\n              email: this.state.email,\n              password: this.state.newPassword\n            };\n            fetch('http://localhost:9000/updateClientePassword/updPassword', {\n              method: \"POST\",\n              headers: {\n                'Content-type': 'application/json'\n              },\n              body: JSON.stringify(data5)\n            }).then(result => result.text()).then(result => {\n              this.setState({\n                apiResponse: JSON.parse(result)\n              });\n              var res = JSON.parse(result);\n\n              if (res.length < 1 || res.code && res.code === 404) {\n                this.setState({\n                  empty: true,\n                  errorMessage: res.message\n                });\n              } else if (this.state.apiResponse.status === 'error') {\n                this.setState({\n                  error: true\n                });\n                this.setState({\n                  errorMessage: this.state.apiResponse.message\n                });\n              } else {\n                const data6 = {\n                  email: this.state.email\n                };\n                fetch('http://localhost:9000/searchCliente/results', {\n                  method: \"POST\",\n                  headers: {\n                    'Content-type': 'application/json'\n                  },\n                  body: JSON.stringify(data6)\n                }).then(result => result.text()).then(result => {\n                  this.setState({\n                    apiResponse: JSON.parse(result)\n                  });\n                  var res = JSON.parse(result);\n\n                  if (res.length < 1 || res.code && res.code === 404) {\n                    this.setState({\n                      empty: true,\n                      errorMessage: res.message\n                    });\n                  } else if (this.state.apiResponse.status === 'error') {\n                    this.setState({\n                      error: true\n                    });\n                    this.setState({\n                      errorMessage: this.state.apiResponse.message\n                    });\n                  } else {\n                    localStorage.setObj('user_data', this.state.apiResponse);\n                    this.setState({\n                      success: true\n                    });\n                  }\n                });\n              }\n            });\n          }\n        });\n      }\n    };\n\n    this.state = {\n      oldPassword: '',\n      newPassword: '',\n      confirmPassword: '',\n      nome: localStorage.getObj('user_data')[0].nome_prop ? localStorage.getObj('user_data')[0].nome_prop : localStorage.getObj('user_data')[0].nome_cl,\n      cognome: localStorage.getObj('user_data')[0].cognome_prop ? localStorage.getObj('user_data')[0].cognome_prop : localStorage.getObj('user_data')[0].cognome_cl,\n      nascita: localStorage.getObj('user_data')[0].data_nascita_prop ? new Date(localStorage.getObj('user_data')[0].data_nascita_prop).toLocaleDateString() : new Date(localStorage.getObj('user_data')[0].data_nascita_cl).toLocaleDateString(),\n      num_documentoTXT: localStorage.getObj('user_data')[0].num_documento ? localStorage.getObj('user_data')[0].num_documento : '',\n      num_documento: '',\n      telefonoTXT: localStorage.getObj('user_data')[0].telefono_prop ? localStorage.getObj('user_data')[0].telefono_prop : localStorage.getObj('user_data')[0].telefono_cl,\n      telefono: '',\n      email: localStorage.getItem('email'),\n      apiResponse: [],\n      error: false,\n      errorMessage: '',\n      show: false,\n      empty: false,\n      success: false\n    };\n  }\n\n  render() {\n    var messaggio;\n    var documentoProp;\n    var nome = this.state.nome;\n    var cognome = this.state.cognome;\n    var nascita = this.state.nascita;\n    var email = this.state.email;\n    var telefono = this.state.telefonoTXT;\n\n    if (!localStorage.getItem('logged')) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: {\n          pathname: \"/ErrorPage\",\n          state: {\n            error: true,\n            errorMessage: \"Utente non autorizzato\"\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 20\n        }\n      });\n    } else if (this.state.success) {\n      messaggio = /*#__PURE__*/React.createElement(\"h4\", {\n        style: {\n          color: 'green',\n          fontWeight: 'bold'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 25\n        }\n      }, \"Dati modificati con successo\");\n    } else if (this.state.error) {\n      messaggio = /*#__PURE__*/React.createElement(\"h4\", {\n        style: {\n          color: 'red',\n          fontWeight: 'bold'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 25\n        }\n      }, \"Alcuni dati inseriti non sono corretti\");\n    } else if (this.state.empty) {\n      return /*#__PURE__*/React.createElement(Form, {\n        className: \"contenitoreDatiPersonali\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"DatiPersonali\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 25\n        }\n      }, \"Qui puoi modificare i tuoi dati personali!\"), /*#__PURE__*/React.createElement(Accordion, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 33\n        }\n      }, \"Si \\xE8 verificato un errore: \", this.state.errorMessage))));\n    } else if (localStorage.getItem('proprietario')) {\n      var num_documento = this.state.num_documentoTXT;\n      documentoProp = /*#__PURE__*/React.createElement(Card, {\n        id: \"DatiPersonaliCarta\",\n        border: \"light\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"view-cont\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"sx-head\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 29\n        }\n      }, \"Documento: \", num_documento)), /*#__PURE__*/React.createElement(Accordion.Toggle, {\n        as: AiOutlineEdit,\n        className: \"penna\",\n        variant: \"link\",\n        eventKey: \"2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 21\n        }\n      }, \"Modifica\")), /*#__PURE__*/React.createElement(Accordion.Collapse, {\n        eventKey: \"2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Card.Body, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Form.Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Form.Group, {\n        as: Col,\n        controlId: \"formGridDocument\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Form.Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 25\n        }\n      }, \"Numero documento\"), /*#__PURE__*/React.createElement(Form.Control, {\n        type: \"document_num\",\n        defaultValue: num_documento,\n        id: \"num_documento\",\n        name: \"num_documento\",\n        onChange: this.onChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(Form.Group, {\n        as: Col,\n        controlId: \"formGridState\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Form.Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 21\n        }\n      }, \"Tipo documento\"), /*#__PURE__*/React.createElement(Form.Control, {\n        as: \"select\",\n        className: \"prova\",\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"option\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 25\n        }\n      }, \"Carta di identit\\xE0\"), /*#__PURE__*/React.createElement(\"option\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 25\n        }\n      }, \"Patente\"), /*#__PURE__*/React.createElement(\"option\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 25\n        }\n      }, \"Passaporto\")))), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        onClick: this.onSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 21\n        }\n      }, \"Modifica\"))));\n    }\n\n    return /*#__PURE__*/React.createElement(Form, {\n      className: \"contenitoreDatiPersonali\",\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"DatiPersonali\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 25\n      }\n    }, \"Qui puoi modificare i tuoi dati personali!\"), /*#__PURE__*/React.createElement(Accordion, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      id: \"DatiPersonaliCarta1\",\n      border: \"no\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"first-cont\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"datiprofilo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 37\n      }\n    }, \"Nome: \", nome, \" \"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 37\n      }\n    }, \"Cognome: \", cognome), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 37\n      }\n    }, \"Email: \", email, \" \"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 37\n      }\n    }, \"Data di nascita: \", nascita)), /*#__PURE__*/React.createElement(RiAccountBoxLine, {\n      className: \"imgprof\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 33\n      }\n    }))), documentoProp, /*#__PURE__*/React.createElement(Card, {\n      id: \"DatiPersonaliCarta\",\n      border: \"light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"view-cont\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sx-head\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 37\n      }\n    }, \"Cambia la tua password\")), /*#__PURE__*/React.createElement(Accordion.Toggle, {\n      as: AiOutlineEdit,\n      className: \"penna\",\n      variant: \"link\",\n      eventKey: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(Accordion.Collapse, {\n      eventKey: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Form.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridPassword\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 21\n      }\n    }, \"Inserisci vecchia Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"password\",\n      title: \"Almeno 8 caratteri, una lettera maiuscola e un numero\",\n      pattern: \"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).{8,}$\",\n      placeholder: \"Password\",\n      id: \"oldPassword\",\n      name: \"oldPassword\",\n      onChange: this.onChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 438,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridPassword\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 440,\n        columnNumber: 21\n      }\n    }, \"Nuova Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"password\",\n      title: \"Almeno 8 caratteri, una lettera maiuscola e un numero\",\n      pattern: \"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).{8,}$\",\n      placeholder: \"Password\",\n      id: \"newPassword\",\n      name: \"newPassword\",\n      onChange: this.onChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridPassword\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 451,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 452,\n        columnNumber: 21\n      }\n    }, \"Ripeti Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"password\",\n      title: \"Almeno 8 caratteri, una lettera maiuscola e un numero\",\n      pattern: \"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).{8,}$\",\n      placeholder: \"Password\",\n      id: \"confirmPassword\",\n      name: \"confirmPassword\",\n      onChange: this.onChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      onClick: this.onSubmitPassword,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 464,\n        columnNumber: 33\n      }\n    }, \"Modifica password\")))), /*#__PURE__*/React.createElement(Card, {\n      id: \"DatiPersonaliCarta\",\n      border: \"light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 470,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"view-cont\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 471,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sx-head\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 37\n      }\n    }, \"Numero di telefono: \", telefono)), /*#__PURE__*/React.createElement(Accordion.Toggle, {\n      as: AiOutlineEdit,\n      className: \"penna\",\n      variant: \"link\",\n      eventKey: \"4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 475,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(Accordion.Collapse, {\n      eventKey: \"4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 478,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 479,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Form.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 480,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridIndirizzo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 481,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 482,\n        columnNumber: 25\n      }\n    }, \"Telefono\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"tel\",\n      placeholder: \"Telefono\",\n      id: \"telefono\",\n      name: \"telefono\",\n      onChange: this.onChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 483,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      onClick: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 493,\n        columnNumber: 37\n      }\n    }, \"Modifica numero\")))))), messaggio);\n  }\n\n}\n\nexport default DatiPersonali;\n\nfunction BottoneDati() {\n  return /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 512,\n      columnNumber: 9\n    }\n  });\n}","map":{"version":3,"sources":["C:/Users/alexd/Documents/Progetto-Unipa/Frontend/src/GestioneProprietario/DatiPersonali.js"],"names":["React","Button","Col","Form","Accordion","Card","AiOutlineEdit","RiAccountBoxLine","Redirect","DatiPersonali","Component","constructor","props","onChange","e","setState","target","name","value","onSubmit","preventDefault","localStorage","getItem","data","email","state","nome","cognome","nascita","telefono","num_documento","fetch","method","headers","body","JSON","stringify","then","result","text","apiResponse","parse","res","length","code","empty","errorMessage","message","status","error","success","onSubmitPassword","oldPassword","newPassword","confirmPassword","data1","password","data2","data3","setObj","data4","data5","data6","getObj","nome_prop","nome_cl","cognome_prop","cognome_cl","data_nascita_prop","Date","toLocaleDateString","data_nascita_cl","num_documentoTXT","telefonoTXT","telefono_prop","telefono_cl","show","render","messaggio","documentoProp","pathname","color","fontWeight","BottoneDati"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { Button, Col, Form, Accordion, Card} from 'react-bootstrap'\r\nimport {AiOutlineEdit} from 'react-icons/ai'\r\nimport {RiAccountBoxLine} from 'react-icons/ri'\r\n//import { Row } from 'react-bootstrap'\r\n//import {Accordion, AccordionSummary, AccordionDetails} from '@material-ui/core'\r\n//import {MdExpandMore} from 'react-icons/md'\r\n//import {Container} from '@material-ui/core'\r\nimport './DatiPersonali.css'\r\n\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass DatiPersonali extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            oldPassword: '',\r\n            newPassword: '',\r\n            confirmPassword: '',\r\n            nome: localStorage.getObj('user_data')[0].nome_prop ? localStorage.getObj('user_data')[0].nome_prop : localStorage.getObj('user_data')[0].nome_cl,\r\n            cognome: localStorage.getObj('user_data')[0].cognome_prop ? localStorage.getObj('user_data')[0].cognome_prop : localStorage.getObj('user_data')[0].cognome_cl,\r\n            nascita: localStorage.getObj('user_data')[0].data_nascita_prop ? new Date(localStorage.getObj('user_data')[0].data_nascita_prop).toLocaleDateString() : new Date(localStorage.getObj('user_data')[0].data_nascita_cl).toLocaleDateString(),\r\n            num_documentoTXT: localStorage.getObj('user_data')[0].num_documento ? localStorage.getObj('user_data')[0].num_documento : '',\r\n            num_documento: '',\r\n            telefonoTXT: localStorage.getObj('user_data')[0].telefono_prop ? localStorage.getObj('user_data')[0].telefono_prop : localStorage.getObj('user_data')[0].telefono_cl,\r\n            telefono: '',\r\n            email: localStorage.getItem('email'),\r\n            apiResponse: [],\r\n            error: false,\r\n            errorMessage: '',\r\n            show: false, \r\n            empty: false,\r\n            success: false\r\n        }\r\n    }\r\n\r\n    onChange = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value });\r\n    }\r\n\r\n    onSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        if(localStorage.getItem('proprietario')) {\r\n\r\n            const data = {\r\n                email: this.state.email,\r\n                nome: this.state.nome,\r\n                cognome: this.state.cognome,\r\n                nascita: this.state.nascita,\r\n                telefono: this.state.telefono,\r\n                num_documento: this.state.num_documento\r\n            }\r\n\r\n            fetch('http://localhost:9000/updateProprietario/fields', {\r\n                method: \"POST\",\r\n                headers: {\r\n                    'Content-type' : 'application/json'\r\n                },\r\n                body: JSON.stringify(data)\r\n            })\r\n            .then((result) => result.text())\r\n            .then((result)=>{\r\n                this.setState({ apiResponse:JSON.parse(result) });\r\n                var res = JSON.parse(result);\r\n\r\n                if(res.length < 1 || (res.code && res.code === 404)) {\r\n                this.setState({ empty: true, errorMessage: res.message });\r\n                }\r\n        \r\n                else if(this.state.apiResponse.status === 'error') {\r\n                this.setState({ error: true });\r\n                this.setState({ errorMessage: this.state.apiResponse.message });\r\n                }\r\n                else {\r\n                    this.setState({ success: true })\r\n                }\r\n            });\r\n        }\r\n\r\n        else {\r\n            const data = {\r\n                email: this.state.email,\r\n                nome: this.state.nome,\r\n                cognome: this.state.cognome,\r\n                nascita: this.state.nascita,\r\n                telefono: this.state.telefono\r\n            }\r\n\r\n            fetch('http://localhost:9000/updateCliente/fields', {\r\n                method: \"POST\",\r\n                headers: {\r\n                    'Content-type' : 'application/json'\r\n                },\r\n                body: JSON.stringify(data)\r\n            })\r\n            .then((result) => result.text())\r\n            .then((result)=>{\r\n                this.setState({ apiResponse:JSON.parse(result) });\r\n                var res = JSON.parse(result);\r\n\r\n                if(res.length < 1 || (res.code && res.code === 404)) {\r\n                this.setState({ empty: true, errorMessage: res.message });\r\n                }\r\n        \r\n                else if(this.state.apiResponse.status === 'error') {\r\n                this.setState({ error: true });\r\n                this.setState({ errorMessage: this.state.apiResponse.message });\r\n                }\r\n                else {\r\n                    this.setState({ success: true })\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    onSubmitPassword = (e) => {\r\n        e.preventDefault();\r\n\r\n        if(this.state.oldPassword === '' || this.state.newPassword === '' || this.state.confirmPassword === '' || \r\n            this.state.newPassword !== this.state.confirmPassword) {\r\n\r\n            this.setState({ error: true });\r\n            return;\r\n        }\r\n\r\n        if(localStorage.getItem('proprietario')) {\r\n\r\n            const data1 = {\r\n                email: this.state.email,\r\n                password: this.state.oldPassword,\r\n            }\r\n\r\n            fetch('http://localhost:9000/loginProprietario/proprietarioLogged', {\r\n                method: \"POST\",\r\n                headers: {\r\n                    'Content-type' : 'application/json'\r\n                },\r\n                body: JSON.stringify(data1)\r\n            })\r\n            .then((result) => result.text())\r\n            .then((result)=>{\r\n                this.setState({ apiResponse:JSON.parse(result) });\r\n                var res = JSON.parse(result);\r\n\r\n                if(res.length < 1 || (res.code && res.code === 404)) {\r\n                this.setState({ empty: true, errorMessage: res.message });\r\n                }\r\n\r\n                else if(this.state.apiResponse.status === 'error') {\r\n                this.setState({ error: true });\r\n                this.setState({ errorMessage: this.state.apiResponse.message });\r\n                }\r\n                else {\r\n\r\n                    const data2 = {\r\n                        email: this.state.email,\r\n                        password: this.state.newPassword,\r\n                    }\r\n\r\n                    fetch('http://localhost:9000/updateProprietarioPassword/updPass', {\r\n                        method: \"POST\",\r\n                        headers: {\r\n                            'Content-type' : 'application/json'\r\n                        },\r\n                        body: JSON.stringify(data2)\r\n                    })\r\n                    .then((result) => result.text())\r\n                    .then((result)=>{\r\n                        this.setState({ apiResponse:JSON.parse(result) });\r\n                        var res = JSON.parse(result);\r\n\r\n                        if(res.length < 1 || (res.code && res.code === 404)) {\r\n                        this.setState({ empty: true, errorMessage: res.message });\r\n                        }\r\n\r\n                        else if(this.state.apiResponse.status === 'error') {\r\n                        this.setState({ error: true });\r\n                        this.setState({ errorMessage: this.state.apiResponse.message });\r\n                        }\r\n                        else {\r\n                            const data3 = {\r\n                                email: this.state.email\r\n                            }\r\n        \r\n                            fetch('http://localhost:9000/searchProprietarioEmail/proprietarioEmail', {\r\n                                method: \"POST\",\r\n                                headers: {\r\n                                    'Content-type' : 'application/json'\r\n                                },\r\n                                body: JSON.stringify(data3)\r\n                            })\r\n                            .then((result) => result.text())\r\n                            .then((result)=>{\r\n                                this.setState({ apiResponse:JSON.parse(result) });\r\n                                var res = JSON.parse(result);\r\n        \r\n                                if(res.length < 1 || (res.code && res.code === 404)) {\r\n                                this.setState({ empty: true, errorMessage: res.message });\r\n                                }\r\n        \r\n                                else if(this.state.apiResponse.status === 'error') {\r\n                                this.setState({ error: true });\r\n                                this.setState({ errorMessage: this.state.apiResponse.message });\r\n                                }\r\n                                else {\r\n                                    localStorage.setObj('user_data', this.state.apiResponse);\r\n                                    this.setState({ success: true })\r\n                                }\r\n                            });\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n\r\n        else {\r\n\r\n            const data4 = {\r\n                email: this.state.email,\r\n                password: this.state.oldPassword,\r\n            }\r\n\r\n            fetch('http://localhost:9000/loginCliente/clienteLogged', {\r\n                method: \"POST\",\r\n                headers: {\r\n                    'Content-type' : 'application/json'\r\n                },\r\n                body: JSON.stringify(data4)\r\n            })\r\n            .then((result) => result.text())\r\n            .then((result)=>{\r\n                this.setState({ apiResponse:JSON.parse(result) });\r\n                var res = JSON.parse(result);\r\n\r\n                if(res.length < 1 || (res.code && res.code === 404)) {\r\n                this.setState({ empty: true, errorMessage: res.message });\r\n                }\r\n\r\n                else if(this.state.apiResponse.status === 'error') {\r\n                this.setState({ error: true });\r\n                this.setState({ errorMessage: this.state.apiResponse.message });\r\n                }\r\n                else {\r\n                    \r\n                    const data5 = {\r\n                        email: this.state.email,\r\n                        password: this.state.newPassword,\r\n                    }\r\n\r\n                    fetch('http://localhost:9000/updateClientePassword/updPassword', {\r\n                        method: \"POST\",\r\n                        headers: {\r\n                            'Content-type' : 'application/json'\r\n                        },\r\n                        body: JSON.stringify(data5)\r\n                    })\r\n                    .then((result) => result.text())\r\n                    .then((result)=>{\r\n                        this.setState({ apiResponse:JSON.parse(result) });\r\n                        var res = JSON.parse(result);\r\n\r\n                        if(res.length < 1 || (res.code && res.code === 404)) {\r\n                        this.setState({ empty: true, errorMessage: res.message });\r\n                        }\r\n\r\n                        else if(this.state.apiResponse.status === 'error') {\r\n                        this.setState({ error: true });\r\n                        this.setState({ errorMessage: this.state.apiResponse.message });\r\n                        }\r\n                        else {\r\n\r\n                            const data6 = {\r\n                                email: this.state.email\r\n                            }\r\n        \r\n                            fetch('http://localhost:9000/searchCliente/results', {\r\n                                method: \"POST\",\r\n                                headers: {\r\n                                    'Content-type' : 'application/json'\r\n                                },\r\n                                body: JSON.stringify(data6)\r\n                            })\r\n                            .then((result) => result.text())\r\n                            .then((result)=>{\r\n                                this.setState({ apiResponse:JSON.parse(result) });\r\n                                var res = JSON.parse(result);\r\n        \r\n                                if(res.length < 1 || (res.code && res.code === 404)) {\r\n                                this.setState({ empty: true, errorMessage: res.message });\r\n                                }\r\n        \r\n                                else if(this.state.apiResponse.status === 'error') {\r\n                                this.setState({ error: true });\r\n                                this.setState({ errorMessage: this.state.apiResponse.message });\r\n                                }\r\n                                else {\r\n                                    localStorage.setObj('user_data', this.state.apiResponse);\r\n                                    this.setState({ success: true })\r\n                                }\r\n                            });\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        var messaggio;\r\n        var documentoProp;\r\n        var nome = this.state.nome;\r\n        var cognome = this.state.cognome;\r\n        var nascita = this.state.nascita\r\n        var email = this.state.email;\r\n        var telefono = this.state.telefonoTXT;\r\n\r\n        if(!localStorage.getItem('logged')) {\r\n            return <Redirect\r\n                to={{\r\n                    pathname: \"/ErrorPage\",\r\n                    state: { \r\n                        error: true,\r\n                        errorMessage: \"Utente non autorizzato\" \r\n                    }\r\n                }}\r\n            />\r\n        }\r\n        else if(this.state.success) {\r\n            messaggio = <h4 style = {{color: 'green', fontWeight: 'bold'}}>Dati modificati con successo</h4>;\r\n        }\r\n        else if (this.state.error) {\r\n            messaggio = <h4 style = {{color: 'red', fontWeight: 'bold'}}>Alcuni dati inseriti non sono corretti</h4>;\r\n        }\r\n        else if(this.state.empty) {\r\n            return(\r\n                <Form className=\"contenitoreDatiPersonali\">\r\n                    <div className=\"DatiPersonali\">\r\n                        <h2>Qui puoi modificare i tuoi dati personali!</h2>\r\n                            <Accordion >\r\n                                <p>Si  verificato un errore: {this.state.errorMessage}</p>\r\n                            </Accordion>\r\n                    </div>\r\n                </Form>\r\n                            \r\n                        \r\n            );\r\n        }\r\n        else if(localStorage.getItem('proprietario')) {\r\n\r\n            var num_documento = this.state.num_documentoTXT;\r\n\r\n            documentoProp = (\r\n                <Card id=\"DatiPersonaliCarta\" border=\"light\">\r\n                    <div className=\"view-cont\">\r\n                        <div className=\"sx-head\">\r\n                            <p>Documento: {num_documento}</p>\r\n                        </div>\r\n                    <Accordion.Toggle as={AiOutlineEdit} className=\"penna\" variant=\"link\" eventKey=\"2\">\r\n                    Modifica\r\n                    </Accordion.Toggle>\r\n                    </div>\r\n                    <Accordion.Collapse eventKey=\"2\">\r\n                        <Card.Body>\r\n                        <Form.Row>\r\n                    <Form.Group as={Col} controlId=\"formGridDocument\">\r\n                        <Form.Label>Numero documento</Form.Label>\r\n                        <Form.Control \r\n                            type=\"document_num\" \r\n                            defaultValue = {num_documento}\r\n                            id = \"num_documento\"\r\n                            name = \"num_documento\"\r\n                            onChange = {this.onChange}\r\n                        />\r\n                    </Form.Group>\r\n                    <Form.Group as={Col} controlId=\"formGridState\" >\r\n                    <Form.Label>Tipo documento</Form.Label>\r\n                    <Form.Control as=\"select\" className=\"prova\" required>\r\n                        <option></option>\r\n                        <option>Carta di identit</option>\r\n                        <option>Patente</option>\r\n                        <option>Passaporto</option>\r\n                    </Form.Control>\r\n                    </Form.Group>\r\n                </Form.Row>\r\n                    <button type=\"submit\" onClick = {this.onSubmit}>\r\n                        Modifica \r\n                    </button>\r\n                        </Card.Body>\r\n                    </Accordion.Collapse>\r\n                </Card>\r\n            );\r\n        }\r\n            \r\n        return(\r\n            <Form className=\"contenitoreDatiPersonali\" onSubmit = {this.onSubmit}>\r\n                        <div className=\"DatiPersonali\">\r\n                        <h2>Qui puoi modificare i tuoi dati personali!</h2>\r\n                        <Accordion >\r\n                        <Card id=\"DatiPersonaliCarta1\" border=\"no\">\r\n                                <div className=\"first-cont\">\r\n                                <div className=\"datiprofilo\">\r\n                                    <p>Nome: {nome} </p>\r\n                                    <p>Cognome: {cognome}</p>\r\n                                    <p>Email: {email} </p>\r\n                                    <p>Data di nascita: {nascita}</p>\r\n                                </div>\r\n                                <RiAccountBoxLine className=\"imgprof\" />\r\n                            </div>\r\n                        </Card>\r\n                        {documentoProp}\r\n                        <Card id=\"DatiPersonaliCarta\" border=\"light\">\r\n                                <div className=\"view-cont\">\r\n                                <div className=\"sx-head\">\r\n                                    <p>Cambia la tua password</p>\r\n                                </div>\r\n                                <Accordion.Toggle as={AiOutlineEdit} className=\"penna\" variant=\"link\" eventKey=\"3\">\r\n                                </Accordion.Toggle>\r\n                                </div>\r\n                            <Accordion.Collapse eventKey=\"3\"> \r\n                                <Card.Body>\r\n                                <Form.Row>\r\n                                <Form.Group as={Col} controlId=\"formGridPassword\">\r\n                    <Form.Label>Inserisci vecchia Password</Form.Label>\r\n                        <Form.Control \r\n                            type=\"password\" \r\n                            title=\"Almeno 8 caratteri, una lettera maiuscola e un numero\" \r\n                            pattern=\"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).{8,}$\"\r\n                            placeholder=\"Password\" \r\n                            id = 'oldPassword'\r\n                            name = 'oldPassword'\r\n                            onChange={this.onChange} \r\n                            required/>\r\n                    </Form.Group>\r\n                                </Form.Row>\r\n                                <Form.Row>\r\n                                <Form.Group as={Col} controlId=\"formGridPassword\">\r\n                    <Form.Label>Nuova Password</Form.Label>\r\n                        <Form.Control \r\n                            type=\"password\" \r\n                            title=\"Almeno 8 caratteri, una lettera maiuscola e un numero\" \r\n                            pattern=\"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).{8,}$\"\r\n                            placeholder=\"Password\" \r\n                            id = 'newPassword'\r\n                            name = 'newPassword'\r\n                            onChange={this.onChange} \r\n                            required/>\r\n                            </Form.Group>\r\n                            <Form.Group as={Col} controlId=\"formGridPassword\">\r\n                    <Form.Label>Ripeti Password</Form.Label>\r\n                        <Form.Control \r\n                            type=\"password\" \r\n                            title=\"Almeno 8 caratteri, una lettera maiuscola e un numero\" \r\n                            pattern=\"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).{8,}$\"\r\n                            placeholder=\"Password\" \r\n                            id = 'confirmPassword'\r\n                            name = 'confirmPassword'\r\n                            onChange={this.onChange} \r\n                            required/>\r\n                    </Form.Group>\r\n                                </Form.Row>\r\n                                <button type=\"submit\" onClick = {this.onSubmitPassword}>\r\n                                    Modifica password\r\n                                </button>\r\n                                </Card.Body>\r\n                            </Accordion.Collapse>\r\n                        </Card>\r\n                        <Card id=\"DatiPersonaliCarta\" border=\"light\">\r\n                                <div className=\"view-cont\">\r\n                                <div className=\"sx-head\">\r\n                                    <p>Numero di telefono: {telefono}</p>\r\n                                    </div>\r\n                                    <Accordion.Toggle as={AiOutlineEdit} className=\"penna\" variant=\"link\" eventKey=\"4\">\r\n                                </Accordion.Toggle>\r\n                                </div>\r\n                            <Accordion.Collapse eventKey=\"4\">\r\n                                <Card.Body>\r\n                                    <Form.Row>\r\n                                    <Form.Group as={Col} controlId=\"formGridIndirizzo\">\r\n                        <Form.Label>Telefono</Form.Label>\r\n                        <Form.Control \r\n                            type = \"tel\" \r\n                            placeholder = \"Telefono\" \r\n                            id = 'telefono'\r\n                            name = 'telefono'\r\n                            onChange = {this.onChange} \r\n                            required\r\n                        />\r\n                    </Form.Group>\r\n                                    </Form.Row>\r\n                                    <button type=\"submit\" onClick = {this.onSubmit}>\r\n                                        Modifica numero\r\n                                    </button>\r\n                                </Card.Body>\r\n\r\n                            </Accordion.Collapse>\r\n                    </Card>\r\n                        </Accordion>\r\n                        </div>\r\n                        {messaggio}\r\n                        </Form>      \r\n        );\r\n    }\r\n}\r\nexport default DatiPersonali\r\n\r\n\r\nfunction BottoneDati () {\r\n    return(\r\n        <button></button>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}