{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alexd\\\\Documents\\\\Progetto-Unipa\\\\Frontend\\\\src\\\\GestioneProprietario\\\\DatiPersonali.js\";\nimport React from 'react';\nimport { Button, Col, Form, Accordion, Card, Alert } from 'react-bootstrap';\nimport { AiOutlineEdit } from 'react-icons/ai';\nimport { RiAccountBoxLine } from 'react-icons/ri'; //import { Row } from 'react-bootstrap'\n//import {Accordion, AccordionSummary, AccordionDetails} from '@material-ui/core'\n//import {MdExpandMore} from 'react-icons/md'\n//import {Container} from '@material-ui/core'\n\nimport './DatiPersonali.css';\nimport { Redirect } from \"react-router-dom\";\n\nclass DatiPersonali extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.setShow = e => {\n      this.setState({\n        success: e\n      });\n    };\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n\n      if (localStorage.getItem('proprietario')) {\n        const data = {\n          email: this.state.email,\n          nome: this.state.nome,\n          cognome: this.state.cognome,\n          nascita: this.state.nascita,\n          telefono: this.state.telefono === '' ? this.state.telefonoTXT : this.state.telefono,\n          num_documento: this.state.num_documento === '' ? this.state.num_documentoTXT : this.state.num_documento\n        };\n        fetch('http://localhost:9000/updateProprietario/fields', {\n          method: \"POST\",\n          headers: {\n            'Content-type': 'application/json'\n          },\n          body: JSON.stringify(data)\n        }).then(result => result.text()).then(result => {\n          this.setState({\n            apiResponse: JSON.parse(result)\n          });\n          var res = JSON.parse(result);\n\n          if (res.length < 1 || res.code && res.code === 404) {\n            this.setState({\n              empty: true,\n              errorMessage: res.message\n            });\n          } else if (this.state.apiResponse.status === 'error') {\n            this.setState({\n              error: true\n            });\n            this.setState({\n              errorMessage: this.state.apiResponse.message\n            });\n          } else {\n            const data3 = {\n              email: this.state.email\n            };\n            fetch('http://localhost:9000/searchProprietarioEmail/proprietarioEmail', {\n              method: \"POST\",\n              headers: {\n                'Content-type': 'application/json'\n              },\n              body: JSON.stringify(data3)\n            }).then(result => result.text()).then(result => {\n              this.setState({\n                apiResponse: JSON.parse(result)\n              });\n              var res = JSON.parse(result);\n\n              if (res.length < 1 || res.code && res.code === 404) {\n                this.setState({\n                  empty: true,\n                  errorMessage: res.message\n                });\n              } else if (this.state.apiResponse.status === 'error') {\n                this.setState({\n                  error: true\n                });\n                this.setState({\n                  errorMessage: this.state.apiResponse.message\n                });\n              } else {\n                localStorage.setObj('user_data', this.state.apiResponse);\n                this.setState({\n                  success: true\n                });\n              }\n            });\n          }\n        });\n      } else {\n        const data = {\n          email: this.state.email,\n          nome: this.state.nome,\n          cognome: this.state.cognome,\n          nascita: this.state.nascita,\n          telefono: this.state.telefono === '' ? this.state.telefonoTXT : this.state.telefono\n        };\n        fetch('http://localhost:9000/updateCliente/fields', {\n          method: \"POST\",\n          headers: {\n            'Content-type': 'application/json'\n          },\n          body: JSON.stringify(data)\n        }).then(result => result.text()).then(result => {\n          this.setState({\n            apiResponse: JSON.parse(result)\n          });\n          var res = JSON.parse(result);\n\n          if (res.length < 1 || res.code && res.code === 404) {\n            this.setState({\n              empty: true,\n              errorMessage: res.message\n            });\n          } else if (this.state.apiResponse.status === 'error') {\n            this.setState({\n              error: true\n            });\n            this.setState({\n              errorMessage: this.state.apiResponse.message\n            });\n          } else {\n            const data6 = {\n              email: this.state.email\n            };\n            fetch('http://localhost:9000/searchCliente/results', {\n              method: \"POST\",\n              headers: {\n                'Content-type': 'application/json'\n              },\n              body: JSON.stringify(data6)\n            }).then(result => result.text()).then(result => {\n              this.setState({\n                apiResponse: JSON.parse(result)\n              });\n              var res = JSON.parse(result);\n\n              if (res.length < 1 || res.code && res.code === 404) {\n                this.setState({\n                  empty: true,\n                  errorMessage: res.message\n                });\n              } else if (this.state.apiResponse.status === 'error') {\n                this.setState({\n                  error: true\n                });\n                this.setState({\n                  errorMessage: this.state.apiResponse.message\n                });\n              } else {\n                localStorage.setObj('user_data', this.state.apiResponse);\n                window.scrollTo(0, 0);\n                this.setState({\n                  success: true\n                }, () => {\n                  window.setTimeout(() => {\n                    this.setState({\n                      success: false\n                    });\n                  }, 3000);\n                });\n              }\n            });\n          }\n        });\n      }\n    };\n\n    this.onSubmitPassword = e => {\n      e.preventDefault();\n\n      if (this.state.oldPassword === '' || this.state.newPassword === '' || this.state.confirmPassword === '' || this.state.newPassword !== this.state.confirmPassword) {\n        this.setState({\n          error: true\n        });\n        return;\n      }\n\n      if (localStorage.getItem('proprietario')) {\n        const data1 = {\n          email: this.state.email,\n          password: this.state.oldPassword\n        };\n        fetch('http://localhost:9000/loginProprietario/proprietarioLogged', {\n          method: \"POST\",\n          headers: {\n            'Content-type': 'application/json'\n          },\n          body: JSON.stringify(data1)\n        }).then(result => result.text()).then(result => {\n          this.setState({\n            apiResponse: JSON.parse(result)\n          });\n          var res = JSON.parse(result);\n\n          if (res.length < 1 || res.code && res.code === 404) {\n            this.setState({\n              empty: true,\n              errorMessage: res.message\n            });\n          } else if (this.state.apiResponse.status === 'error') {\n            this.setState({\n              error: true\n            });\n            this.setState({\n              errorMessage: this.state.apiResponse.message\n            });\n          } else {\n            const data2 = {\n              email: this.state.email,\n              password: this.state.newPassword\n            };\n            fetch('http://localhost:9000/updateProprietarioPassword/updPass', {\n              method: \"POST\",\n              headers: {\n                'Content-type': 'application/json'\n              },\n              body: JSON.stringify(data2)\n            }).then(result => result.text()).then(result => {\n              this.setState({\n                apiResponse: JSON.parse(result)\n              });\n              var res = JSON.parse(result);\n\n              if (res.length < 1 || res.code && res.code === 404) {\n                this.setState({\n                  empty: true,\n                  errorMessage: res.message\n                });\n              } else if (this.state.apiResponse.status === 'error') {\n                this.setState({\n                  error: true\n                });\n                this.setState({\n                  errorMessage: this.state.apiResponse.message\n                });\n              } else {\n                const data3 = {\n                  email: this.state.email\n                };\n                fetch('http://localhost:9000/searchProprietarioEmail/proprietarioEmail', {\n                  method: \"POST\",\n                  headers: {\n                    'Content-type': 'application/json'\n                  },\n                  body: JSON.stringify(data3)\n                }).then(result => result.text()).then(result => {\n                  this.setState({\n                    apiResponse: JSON.parse(result)\n                  });\n                  var res = JSON.parse(result);\n\n                  if (res.length < 1 || res.code && res.code === 404) {\n                    this.setState({\n                      empty: true,\n                      errorMessage: res.message\n                    });\n                  } else if (this.state.apiResponse.status === 'error') {\n                    this.setState({\n                      error: true\n                    });\n                    this.setState({\n                      errorMessage: this.state.apiResponse.message\n                    });\n                  } else {\n                    localStorage.setObj('user_data', this.state.apiResponse);\n                    this.setState({\n                      success: true\n                    }, () => {\n                      window.setTimeout(() => {\n                        this.setState({\n                          success: false\n                        });\n                      }, 3000);\n                    });\n                  }\n                });\n              }\n            });\n          }\n        });\n      } else {\n        const data4 = {\n          email: this.state.email,\n          password: this.state.oldPassword\n        };\n        fetch('http://localhost:9000/loginCliente/clienteLogged', {\n          method: \"POST\",\n          headers: {\n            'Content-type': 'application/json'\n          },\n          body: JSON.stringify(data4)\n        }).then(result => result.text()).then(result => {\n          this.setState({\n            apiResponse: JSON.parse(result)\n          });\n          var res = JSON.parse(result);\n\n          if (res.length < 1 || res.code && res.code === 404) {\n            this.setState({\n              empty: true,\n              errorMessage: res.message\n            });\n          } else if (this.state.apiResponse.status === 'error') {\n            this.setState({\n              error: true\n            });\n            this.setState({\n              errorMessage: this.state.apiResponse.message\n            });\n          } else {\n            const data5 = {\n              email: this.state.email,\n              password: this.state.newPassword\n            };\n            fetch('http://localhost:9000/updateClientePassword/updPassword', {\n              method: \"POST\",\n              headers: {\n                'Content-type': 'application/json'\n              },\n              body: JSON.stringify(data5)\n            }).then(result => result.text()).then(result => {\n              this.setState({\n                apiResponse: JSON.parse(result)\n              });\n              var res = JSON.parse(result);\n\n              if (res.length < 1 || res.code && res.code === 404) {\n                this.setState({\n                  empty: true,\n                  errorMessage: res.message\n                });\n              } else if (this.state.apiResponse.status === 'error') {\n                this.setState({\n                  error: true\n                });\n                this.setState({\n                  errorMessage: this.state.apiResponse.message\n                });\n              } else {\n                const data6 = {\n                  email: this.state.email\n                };\n                fetch('http://localhost:9000/searchCliente/results', {\n                  method: \"POST\",\n                  headers: {\n                    'Content-type': 'application/json'\n                  },\n                  body: JSON.stringify(data6)\n                }).then(result => result.text()).then(result => {\n                  this.setState({\n                    apiResponse: JSON.parse(result)\n                  });\n                  var res = JSON.parse(result);\n\n                  if (res.length < 1 || res.code && res.code === 404) {\n                    this.setState({\n                      empty: true,\n                      errorMessage: res.message\n                    });\n                  } else if (this.state.apiResponse.status === 'error') {\n                    this.setState({\n                      error: true\n                    });\n                    this.setState({\n                      errorMessage: this.state.apiResponse.message\n                    });\n                    this.setState({\n                      error: true\n                    }, () => {\n                      window.setTimeout(() => {\n                        this.setState({\n                          error: false\n                        });\n                      }, 3000);\n                    });\n                  } else {\n                    localStorage.setObj('user_data', this.state.apiResponse);\n                    this.setState({\n                      success: true\n                    }, () => {\n                      window.setTimeout(() => {\n                        this.setState({\n                          success: false\n                        });\n                      }, 3000);\n                    });\n                  }\n                });\n              }\n            });\n          }\n        });\n      }\n    };\n\n    this.state = {\n      oldPassword: '',\n      newPassword: '',\n      confirmPassword: '',\n      nome: localStorage.getObj('user_data')[0].nome_prop ? localStorage.getObj('user_data')[0].nome_prop : localStorage.getObj('user_data')[0].nome_cl,\n      cognome: localStorage.getObj('user_data')[0].cognome_prop ? localStorage.getObj('user_data')[0].cognome_prop : localStorage.getObj('user_data')[0].cognome_cl,\n      nascita: localStorage.getObj('user_data')[0].data_nascita_prop ? new Date(localStorage.getObj('user_data')[0].data_nascita_prop).toLocaleDateString() : new Date(localStorage.getObj('user_data')[0].data_nascita_cl).toLocaleDateString(),\n      num_documentoTXT: localStorage.getObj('user_data')[0].num_documento ? localStorage.getObj('user_data')[0].num_documento : '',\n      num_documento: '',\n      telefonoTXT: localStorage.getObj('user_data')[0].telefono_prop ? localStorage.getObj('user_data')[0].telefono_prop : localStorage.getObj('user_data')[0].telefono_cl,\n      telefono: '',\n      email: localStorage.getItem('email'),\n      apiResponse: [],\n      error: false,\n      errorMessage: '',\n      show: false,\n      empty: false,\n      success: false\n    };\n  }\n\n  render() {\n    var messaggio;\n    var documentoProp;\n    var nome = this.state.nome;\n    var cognome = this.state.cognome;\n    var nascita = this.state.nascita;\n    var email = this.state.email;\n    var telefono = this.state.telefonoTXT;\n\n    if (!localStorage.getItem('logged')) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: {\n          pathname: \"/ErrorPage\",\n          state: {\n            error: true,\n            errorMessage: \"Utente non autorizzato\"\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 20\n        }\n      });\n    } else if (this.state.empty) {\n      return /*#__PURE__*/React.createElement(Form, {\n        className: \"contenitoreDatiPersonali\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"DatiPersonali\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 25\n        }\n      }, \"Qui puoi modificare i tuoi dati personali!\"), /*#__PURE__*/React.createElement(Accordion, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 33\n        }\n      }, \"Si \\xE8 verificato un errore: \", this.state.errorMessage))));\n    } else if (localStorage.getItem('proprietario')) {\n      var num_documento = this.state.num_documentoTXT;\n      documentoProp = /*#__PURE__*/React.createElement(Card, {\n        id: \"DatiPersonaliCarta\",\n        border: \"light\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"view-cont\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"sx-head\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 29\n        }\n      }, \"Documento: \", num_documento)), /*#__PURE__*/React.createElement(Accordion.Toggle, {\n        as: AiOutlineEdit,\n        className: \"penna\",\n        variant: \"link\",\n        eventKey: \"2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 21\n        }\n      }, \"Modifica\")), /*#__PURE__*/React.createElement(Accordion.Collapse, {\n        eventKey: \"2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Card.Body, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Form.Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Form.Group, {\n        as: Col,\n        controlId: \"formGridDocument\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Form.Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 25\n        }\n      }, \"Numero documento\"), /*#__PURE__*/React.createElement(Form.Control, {\n        type: \"document_num\",\n        defaultValue: num_documento,\n        id: \"num_documento\",\n        name: \"num_documento\",\n        onChange: this.onChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(Form.Group, {\n        as: Col,\n        controlId: \"formGridState\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Form.Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 21\n        }\n      }, \"Tipo documento\"), /*#__PURE__*/React.createElement(Form.Control, {\n        as: \"select\",\n        className: \"prova\",\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"option\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 453,\n          columnNumber: 25\n        }\n      }, \"Carta di identit\\xE0\"), /*#__PURE__*/React.createElement(\"option\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 454,\n          columnNumber: 25\n        }\n      }, \"Patente\"), /*#__PURE__*/React.createElement(\"option\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 25\n        }\n      }, \"Passaporto\")))), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        onClick: this.onSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 21\n        }\n      }, \"Modifica\"))));\n    }\n\n    return /*#__PURE__*/React.createElement(Form, {\n      className: \"contenitoreDatiPersonali\",\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 469,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Alert, {\n      show: this.state.success,\n      variant: \"success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 471,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Alert.Heading, {\n      style: {\n        fontWeight: 'bold'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 15\n      }\n    }, \"Modifiche avvenute con successo!\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 15\n      }\n    }, \"Le modifiche del tuo account sono state correttamente caricate e memorizzate all'interno del sistema.\"), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 477,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: () => this.setShow(false),\n      variant: \"outline-success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 478,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        fontWeight: 'bold'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 479,\n        columnNumber: 19\n      }\n    }, \"Ok\"))))), /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Alert, {\n      show: this.state.error,\n      variant: \"danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Alert.Heading, {\n      style: {\n        fontWeight: 'bold'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 15\n      }\n    }, \"Modifiche non avvenute!\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 487,\n        columnNumber: 15\n      }\n    }, \"La password non \\xE8 stata modificata correttamente a causa di un errore!\"), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 490,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 491,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: () => this.setShow(false),\n      variant: \"outline-success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 492,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        fontWeight: 'bold'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 493,\n        columnNumber: 19\n      }\n    }, \"Ok\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"DatiPersonali\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 498,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 499,\n        columnNumber: 25\n      }\n    }, \"Qui puoi modificare i tuoi dati personali!\"), /*#__PURE__*/React.createElement(Accordion, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 500,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      id: \"DatiPersonaliCarta1\",\n      border: \"no\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 501,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"first-cont\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 502,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"datiprofilo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 503,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 504,\n        columnNumber: 37\n      }\n    }, \"Nome: \", nome, \" \"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 505,\n        columnNumber: 37\n      }\n    }, \"Cognome: \", cognome), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 506,\n        columnNumber: 37\n      }\n    }, \"Email: \", email, \" \"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 507,\n        columnNumber: 37\n      }\n    }, \"Data di nascita: \", nascita)), /*#__PURE__*/React.createElement(RiAccountBoxLine, {\n      className: \"imgprof\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 509,\n        columnNumber: 33\n      }\n    }))), documentoProp, /*#__PURE__*/React.createElement(Card, {\n      id: \"DatiPersonaliCarta\",\n      border: \"light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 513,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"view-cont\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 514,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sx-head\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 515,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 516,\n        columnNumber: 37\n      }\n    }, \"Cambia la tua password\")), /*#__PURE__*/React.createElement(Accordion.Toggle, {\n      as: AiOutlineEdit,\n      className: \"penna\",\n      variant: \"link\",\n      eventKey: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 518,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(Accordion.Collapse, {\n      eventKey: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 521,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 522,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Form.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 523,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridPassword\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 524,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 525,\n        columnNumber: 21\n      }\n    }, \"Inserisci vecchia Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"password\",\n      title: \"Almeno 8 caratteri, una lettera maiuscola e un numero\",\n      pattern: \"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).{8,}$\",\n      placeholder: \"Password\",\n      id: \"oldPassword\",\n      name: \"oldPassword\",\n      onChange: this.onChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 526,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 537,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridPassword\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 538,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 539,\n        columnNumber: 21\n      }\n    }, \"Nuova Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"password\",\n      title: \"Almeno 8 caratteri, una lettera maiuscola e un numero\",\n      pattern: \"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).{8,}$\",\n      placeholder: \"Password\",\n      id: \"newPassword\",\n      name: \"newPassword\",\n      onChange: this.onChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 540,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridPassword\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 550,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 551,\n        columnNumber: 21\n      }\n    }, \"Ripeti Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"password\",\n      title: \"Almeno 8 caratteri, una lettera maiuscola e un numero\",\n      pattern: \"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).{8,}$\",\n      placeholder: \"Password\",\n      id: \"confirmPassword\",\n      name: \"confirmPassword\",\n      onChange: this.onChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 552,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      onClick: this.onSubmitPassword,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 563,\n        columnNumber: 33\n      }\n    }, \"Modifica password\")))), /*#__PURE__*/React.createElement(Card, {\n      id: \"DatiPersonaliCarta\",\n      border: \"light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 569,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"view-cont\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 570,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sx-head\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 571,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 572,\n        columnNumber: 37\n      }\n    }, \"Numero di telefono: \", telefono)), /*#__PURE__*/React.createElement(Accordion.Toggle, {\n      as: AiOutlineEdit,\n      className: \"penna\",\n      variant: \"link\",\n      eventKey: \"4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 574,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(Accordion.Collapse, {\n      eventKey: \"4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 577,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 578,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Form.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 579,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridIndirizzo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 580,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 581,\n        columnNumber: 25\n      }\n    }, \"Telefono\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"tel\",\n      placeholder: \"Telefono\",\n      id: \"telefono\",\n      name: \"telefono\",\n      onChange: this.onChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 582,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      onClick: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 592,\n        columnNumber: 37\n      }\n    }, \"Modifica numero\")))))));\n  }\n\n}\n\nexport default DatiPersonali;","map":{"version":3,"sources":["C:/Users/alexd/Documents/Progetto-Unipa/Frontend/src/GestioneProprietario/DatiPersonali.js"],"names":["React","Button","Col","Form","Accordion","Card","Alert","AiOutlineEdit","RiAccountBoxLine","Redirect","DatiPersonali","Component","constructor","props","setShow","e","setState","success","onChange","target","name","value","onSubmit","preventDefault","localStorage","getItem","data","email","state","nome","cognome","nascita","telefono","telefonoTXT","num_documento","num_documentoTXT","fetch","method","headers","body","JSON","stringify","then","result","text","apiResponse","parse","res","length","code","empty","errorMessage","message","status","error","data3","setObj","data6","window","scrollTo","setTimeout","onSubmitPassword","oldPassword","newPassword","confirmPassword","data1","password","data2","data4","data5","getObj","nome_prop","nome_cl","cognome_prop","cognome_cl","data_nascita_prop","Date","toLocaleDateString","data_nascita_cl","telefono_prop","telefono_cl","show","render","messaggio","documentoProp","pathname","fontWeight"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { Button, Col, Form, Accordion, Card, Alert} from 'react-bootstrap'\r\nimport {AiOutlineEdit} from 'react-icons/ai'\r\nimport {RiAccountBoxLine} from 'react-icons/ri'\r\n//import { Row } from 'react-bootstrap'\r\n//import {Accordion, AccordionSummary, AccordionDetails} from '@material-ui/core'\r\n//import {MdExpandMore} from 'react-icons/md'\r\n//import {Container} from '@material-ui/core'\r\nimport './DatiPersonali.css'\r\n\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass DatiPersonali extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            oldPassword: '',\r\n            newPassword: '',\r\n            confirmPassword: '',\r\n            nome: localStorage.getObj('user_data')[0].nome_prop ? localStorage.getObj('user_data')[0].nome_prop : localStorage.getObj('user_data')[0].nome_cl,\r\n            cognome: localStorage.getObj('user_data')[0].cognome_prop ? localStorage.getObj('user_data')[0].cognome_prop : localStorage.getObj('user_data')[0].cognome_cl,\r\n            nascita: localStorage.getObj('user_data')[0].data_nascita_prop ? new Date(localStorage.getObj('user_data')[0].data_nascita_prop).toLocaleDateString() : new Date(localStorage.getObj('user_data')[0].data_nascita_cl).toLocaleDateString(),\r\n            num_documentoTXT: localStorage.getObj('user_data')[0].num_documento ? localStorage.getObj('user_data')[0].num_documento : '',\r\n            num_documento: '',\r\n            telefonoTXT: localStorage.getObj('user_data')[0].telefono_prop ? localStorage.getObj('user_data')[0].telefono_prop : localStorage.getObj('user_data')[0].telefono_cl,\r\n            telefono: '',\r\n            email: localStorage.getItem('email'),\r\n            apiResponse: [],\r\n            error: false,\r\n            errorMessage: '',\r\n            show: false, \r\n            empty: false,\r\n            success: false\r\n        }\r\n    }\r\n    setShow = (e) => {\r\n        this.setState({ success: e })\r\n      }\r\n    onChange = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value });\r\n    }\r\n\r\n    onSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        if(localStorage.getItem('proprietario')) {\r\n\r\n            const data = {\r\n                email: this.state.email,\r\n                nome: this.state.nome,\r\n                cognome: this.state.cognome,\r\n                nascita: this.state.nascita,\r\n                telefono: this.state.telefono === '' ? this.state.telefonoTXT : this.state.telefono,\r\n                num_documento: this.state.num_documento === '' ? this.state.num_documentoTXT : this.state.num_documento\r\n            }\r\n\r\n            fetch('http://localhost:9000/updateProprietario/fields', {\r\n                method: \"POST\",\r\n                headers: {\r\n                    'Content-type' : 'application/json'\r\n                },\r\n                body: JSON.stringify(data)\r\n            })\r\n            .then((result) => result.text())\r\n            .then((result)=>{\r\n                this.setState({ apiResponse:JSON.parse(result) });\r\n                var res = JSON.parse(result);\r\n\r\n                if(res.length < 1 || (res.code && res.code === 404)) {\r\n                this.setState({ empty: true, errorMessage: res.message });\r\n                }\r\n        \r\n                else if(this.state.apiResponse.status === 'error') {\r\n                this.setState({ error: true });\r\n                this.setState({ errorMessage: this.state.apiResponse.message });\r\n                }\r\n                else {\r\n                    const data3 = {\r\n                        email: this.state.email\r\n                    }\r\n\r\n                    fetch('http://localhost:9000/searchProprietarioEmail/proprietarioEmail', {\r\n                        method: \"POST\",\r\n                        headers: {\r\n                            'Content-type' : 'application/json'\r\n                        },\r\n                        body: JSON.stringify(data3)\r\n                    })\r\n                    .then((result) => result.text())\r\n                    .then((result)=>{\r\n                        this.setState({ apiResponse:JSON.parse(result) });\r\n                        var res = JSON.parse(result);\r\n\r\n                        if(res.length < 1 || (res.code && res.code === 404)) {\r\n                        this.setState({ empty: true, errorMessage: res.message });\r\n                        }\r\n\r\n                        else if(this.state.apiResponse.status === 'error') {\r\n                        this.setState({ error: true });\r\n                        this.setState({ errorMessage: this.state.apiResponse.message });\r\n                        }\r\n                        else {\r\n                            localStorage.setObj('user_data', this.state.apiResponse);\r\n                            this.setState({ success: true })\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n\r\n        else {\r\n            const data = {\r\n                email: this.state.email,\r\n                nome: this.state.nome,\r\n                cognome: this.state.cognome,\r\n                nascita: this.state.nascita,\r\n                telefono: this.state.telefono === '' ? this.state.telefonoTXT : this.state.telefono\r\n            }\r\n\r\n            fetch('http://localhost:9000/updateCliente/fields', {\r\n                method: \"POST\",\r\n                headers: {\r\n                    'Content-type' : 'application/json'\r\n                },\r\n                body: JSON.stringify(data)\r\n            })\r\n            .then((result) => result.text())\r\n            .then((result)=>{\r\n                this.setState({ apiResponse:JSON.parse(result) });\r\n                var res = JSON.parse(result);\r\n\r\n                if(res.length < 1 || (res.code && res.code === 404)) {\r\n                this.setState({ empty: true, errorMessage: res.message });\r\n                }\r\n        \r\n                else if(this.state.apiResponse.status === 'error') {\r\n                this.setState({ error: true });\r\n                this.setState({ errorMessage: this.state.apiResponse.message });\r\n                }\r\n                else {\r\n\r\n                    const data6 = {\r\n                        email: this.state.email\r\n                    }\r\n\r\n                    fetch('http://localhost:9000/searchCliente/results', {\r\n                        method: \"POST\",\r\n                        headers: {\r\n                            'Content-type' : 'application/json'\r\n                        },\r\n                        body: JSON.stringify(data6)\r\n                    })\r\n                    .then((result) => result.text())\r\n                    .then((result)=>{\r\n                        this.setState({ apiResponse:JSON.parse(result) });\r\n                        var res = JSON.parse(result);\r\n\r\n                        if(res.length < 1 || (res.code && res.code === 404)) {\r\n                        this.setState({ empty: true, errorMessage: res.message });\r\n                        }\r\n\r\n                        else if(this.state.apiResponse.status === 'error') {\r\n                        this.setState({ error: true });\r\n                        this.setState({ errorMessage: this.state.apiResponse.message });\r\n                        }\r\n                        else {\r\n                            localStorage.setObj('user_data', this.state.apiResponse);\r\n                            window.scrollTo(0, 0);\r\n                            this.setState({ success: true },()=>{\r\n                                window.setTimeout(()=>{\r\n                                  this.setState({success:false})\r\n                                }, 3000)\r\n                              })\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    onSubmitPassword = (e) => {\r\n        e.preventDefault();\r\n\r\n        if(this.state.oldPassword === '' || this.state.newPassword === '' || this.state.confirmPassword === '' || \r\n            this.state.newPassword !== this.state.confirmPassword) {\r\n\r\n            this.setState({ error: true });\r\n            return;\r\n        }\r\n\r\n        if(localStorage.getItem('proprietario')) {\r\n\r\n            const data1 = {\r\n                email: this.state.email,\r\n                password: this.state.oldPassword,\r\n            }\r\n\r\n            fetch('http://localhost:9000/loginProprietario/proprietarioLogged', {\r\n                method: \"POST\",\r\n                headers: {\r\n                    'Content-type' : 'application/json'\r\n                },\r\n                body: JSON.stringify(data1)\r\n            })\r\n            .then((result) => result.text())\r\n            .then((result)=>{\r\n                this.setState({ apiResponse:JSON.parse(result) });\r\n                var res = JSON.parse(result);\r\n\r\n                if(res.length < 1 || (res.code && res.code === 404)) {\r\n                this.setState({ empty: true, errorMessage: res.message });\r\n                }\r\n\r\n                else if(this.state.apiResponse.status === 'error') {\r\n                this.setState({ error: true });\r\n                this.setState({ errorMessage: this.state.apiResponse.message });\r\n                }\r\n                else {\r\n\r\n                    const data2 = {\r\n                        email: this.state.email,\r\n                        password: this.state.newPassword,\r\n                    }\r\n\r\n                    fetch('http://localhost:9000/updateProprietarioPassword/updPass', {\r\n                        method: \"POST\",\r\n                        headers: {\r\n                            'Content-type' : 'application/json'\r\n                        },\r\n                        body: JSON.stringify(data2)\r\n                    })\r\n                    .then((result) => result.text())\r\n                    .then((result)=>{\r\n                        this.setState({ apiResponse:JSON.parse(result) });\r\n                        var res = JSON.parse(result);\r\n\r\n                        if(res.length < 1 || (res.code && res.code === 404)) {\r\n                        this.setState({ empty: true, errorMessage: res.message });\r\n                        }\r\n\r\n                        else if(this.state.apiResponse.status === 'error') {\r\n                        this.setState({ error: true });\r\n                        this.setState({ errorMessage: this.state.apiResponse.message });\r\n                        }\r\n                        else {\r\n                            const data3 = {\r\n                                email: this.state.email\r\n                            }\r\n        \r\n                            fetch('http://localhost:9000/searchProprietarioEmail/proprietarioEmail', {\r\n                                method: \"POST\",\r\n                                headers: {\r\n                                    'Content-type' : 'application/json'\r\n                                },\r\n                                body: JSON.stringify(data3)\r\n                            })\r\n                            .then((result) => result.text())\r\n                            .then((result)=>{\r\n                                this.setState({ apiResponse:JSON.parse(result) });\r\n                                var res = JSON.parse(result);\r\n        \r\n                                if(res.length < 1 || (res.code && res.code === 404)) {\r\n                                this.setState({ empty: true, errorMessage: res.message });\r\n                                }\r\n        \r\n                                else if(this.state.apiResponse.status === 'error') {\r\n                                this.setState({ error: true });\r\n                                this.setState({ errorMessage: this.state.apiResponse.message });\r\n                                }\r\n                                else {\r\n                                    localStorage.setObj('user_data', this.state.apiResponse);\r\n                                    this.setState({ success: true },()=>{\r\n                                        window.setTimeout(()=>{\r\n                                          this.setState({success:false})\r\n                                        }, 3000)\r\n                                      })\r\n                                }\r\n                            });\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n\r\n        else {\r\n\r\n            const data4 = {\r\n                email: this.state.email,\r\n                password: this.state.oldPassword,\r\n            }\r\n\r\n            fetch('http://localhost:9000/loginCliente/clienteLogged', {\r\n                method: \"POST\",\r\n                headers: {\r\n                    'Content-type' : 'application/json'\r\n                },\r\n                body: JSON.stringify(data4)\r\n            })\r\n            .then((result) => result.text())\r\n            .then((result)=>{\r\n                this.setState({ apiResponse:JSON.parse(result) });\r\n                var res = JSON.parse(result);\r\n\r\n                if(res.length < 1 || (res.code && res.code === 404)) {\r\n                this.setState({ empty: true, errorMessage: res.message });\r\n                }\r\n\r\n                else if(this.state.apiResponse.status === 'error') {\r\n                this.setState({ error: true });\r\n                this.setState({ errorMessage: this.state.apiResponse.message });\r\n                }\r\n                else {\r\n                    \r\n                    const data5 = {\r\n                        email: this.state.email,\r\n                        password: this.state.newPassword,\r\n                    }\r\n\r\n                    fetch('http://localhost:9000/updateClientePassword/updPassword', {\r\n                        method: \"POST\",\r\n                        headers: {\r\n                            'Content-type' : 'application/json'\r\n                        },\r\n                        body: JSON.stringify(data5)\r\n                    })\r\n                    .then((result) => result.text())\r\n                    .then((result)=>{\r\n                        this.setState({ apiResponse:JSON.parse(result) });\r\n                        var res = JSON.parse(result);\r\n\r\n                        if(res.length < 1 || (res.code && res.code === 404)) {\r\n                        this.setState({ empty: true, errorMessage: res.message });\r\n                        }\r\n\r\n                        else if(this.state.apiResponse.status === 'error') {\r\n                        this.setState({ error: true });\r\n                        this.setState({ errorMessage: this.state.apiResponse.message });\r\n                        }\r\n                        else {\r\n\r\n                            const data6 = {\r\n                                email: this.state.email\r\n                            }\r\n        \r\n                            fetch('http://localhost:9000/searchCliente/results', {\r\n                                method: \"POST\",\r\n                                headers: {\r\n                                    'Content-type' : 'application/json'\r\n                                },\r\n                                body: JSON.stringify(data6)\r\n                            })\r\n                            .then((result) => result.text())\r\n                            .then((result)=>{\r\n                                this.setState({ apiResponse:JSON.parse(result) });\r\n                                var res = JSON.parse(result);\r\n        \r\n                                if(res.length < 1 || (res.code && res.code === 404)) {\r\n                                this.setState({ empty: true, errorMessage: res.message });\r\n                                }\r\n        \r\n                                else if(this.state.apiResponse.status === 'error') {\r\n                                this.setState({ error: true });\r\n                                this.setState({ errorMessage: this.state.apiResponse.message });\r\n                                this.setState({ error: true },()=>{\r\n                                    window.setTimeout(()=>{\r\n                                      this.setState({error:false})\r\n                                    }, 3000)\r\n                                  })\r\n                                }\r\n                                else {\r\n                                    localStorage.setObj('user_data', this.state.apiResponse);\r\n                                    this.setState({ success: true },()=>{\r\n                                        window.setTimeout(()=>{\r\n                                          this.setState({success:false})\r\n                                        }, 3000)\r\n                                      })\r\n                                }\r\n                            });\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        var messaggio;\r\n        var documentoProp;\r\n        var nome = this.state.nome;\r\n        var cognome = this.state.cognome;\r\n        var nascita = this.state.nascita\r\n        var email = this.state.email;\r\n        var telefono = this.state.telefonoTXT;\r\n\r\n        if(!localStorage.getItem('logged')) {\r\n            return <Redirect\r\n                to={{\r\n                    pathname: \"/ErrorPage\",\r\n                    state: { \r\n                        error: true,\r\n                        errorMessage: \"Utente non autorizzato\" \r\n                    }\r\n                }}\r\n            />\r\n        }\r\n        else if(this.state.empty) {\r\n            return(\r\n                <Form className=\"contenitoreDatiPersonali\">\r\n                    <div className=\"DatiPersonali\">\r\n                        <h2>Qui puoi modificare i tuoi dati personali!</h2>\r\n                            <Accordion >\r\n                                <p>Si è verificato un errore: {this.state.errorMessage}</p>\r\n                            </Accordion>\r\n                    </div>\r\n                </Form>\r\n                            \r\n                        \r\n            );\r\n        }\r\n        else if(localStorage.getItem('proprietario')) {\r\n\r\n            var num_documento = this.state.num_documentoTXT;\r\n\r\n            documentoProp = (\r\n                <Card id=\"DatiPersonaliCarta\" border=\"light\">\r\n                    <div className=\"view-cont\">\r\n                        <div className=\"sx-head\">\r\n                            <p>Documento: {num_documento}</p>\r\n                        </div>\r\n                    <Accordion.Toggle as={AiOutlineEdit} className=\"penna\" variant=\"link\" eventKey=\"2\">\r\n                    Modifica\r\n                    </Accordion.Toggle>\r\n                    </div>\r\n                    <Accordion.Collapse eventKey=\"2\">\r\n                        <Card.Body>\r\n                        <Form.Row>\r\n                    <Form.Group as={Col} controlId=\"formGridDocument\">\r\n                        <Form.Label>Numero documento</Form.Label>\r\n                        <Form.Control \r\n                            type=\"document_num\" \r\n                            defaultValue = {num_documento}\r\n                            id = \"num_documento\"\r\n                            name = \"num_documento\"\r\n                            onChange = {this.onChange}\r\n                        />\r\n                    </Form.Group>\r\n                    <Form.Group as={Col} controlId=\"formGridState\" >\r\n                    <Form.Label>Tipo documento</Form.Label>\r\n                    <Form.Control as=\"select\" className=\"prova\" required>\r\n                        <option></option>\r\n                        <option>Carta di identità</option>\r\n                        <option>Patente</option>\r\n                        <option>Passaporto</option>\r\n                    </Form.Control>\r\n                    </Form.Group>\r\n                </Form.Row>\r\n                    <button type=\"submit\" onClick = {this.onSubmit}>\r\n                        Modifica \r\n                    </button>\r\n                        </Card.Body>\r\n                    </Accordion.Collapse>\r\n                </Card>\r\n            );\r\n        }\r\n            \r\n        return(\r\n            <Form className=\"contenitoreDatiPersonali\" onSubmit = {this.onSubmit}>\r\n                         <>\r\n            <Alert show={this.state.success} variant=\"success\">\r\n              <Alert.Heading style = {{fontWeight: 'bold'}}>Modifiche avvenute con successo!</Alert.Heading>\r\n              <p>\r\n                Le modifiche del tuo account sono state correttamente caricate e memorizzate all'interno del sistema.\r\n              </p>\r\n              <hr />\r\n              <div className=\"d-flex justify-content-end\">\r\n                <Button onClick={() => this.setShow(false)} variant=\"outline-success\">\r\n                  <span style = {{fontWeight: 'bold'}}>Ok</span>\r\n                </Button>\r\n              </div>\r\n            </Alert>\r\n          </>\r\n          <>\r\n            <Alert show={this.state.error} variant=\"danger\">\r\n              <Alert.Heading style = {{fontWeight: 'bold'}}>Modifiche non avvenute!</Alert.Heading>\r\n              <p>\r\n                La password non è stata modificata correttamente a causa di un errore!\r\n              </p>\r\n              <hr />\r\n              <div className=\"d-flex justify-content-end\">\r\n                <Button onClick={() => this.setShow(false)} variant=\"outline-success\">\r\n                  <span style = {{fontWeight: 'bold'}}>Ok</span>\r\n                </Button>\r\n              </div>\r\n            </Alert>\r\n          </>\r\n                        <div className=\"DatiPersonali\">\r\n                        <h2>Qui puoi modificare i tuoi dati personali!</h2>\r\n                        <Accordion >\r\n                        <Card id=\"DatiPersonaliCarta1\" border=\"no\">\r\n                                <div className=\"first-cont\">\r\n                                <div className=\"datiprofilo\">\r\n                                    <p>Nome: {nome} </p>\r\n                                    <p>Cognome: {cognome}</p>\r\n                                    <p>Email: {email} </p>\r\n                                    <p>Data di nascita: {nascita}</p>\r\n                                </div>\r\n                                <RiAccountBoxLine className=\"imgprof\" />\r\n                            </div>\r\n                        </Card>\r\n                        {documentoProp}\r\n                        <Card id=\"DatiPersonaliCarta\" border=\"light\">\r\n                                <div className=\"view-cont\">\r\n                                <div className=\"sx-head\">\r\n                                    <p>Cambia la tua password</p>\r\n                                </div>\r\n                                <Accordion.Toggle as={AiOutlineEdit} className=\"penna\" variant=\"link\" eventKey=\"3\">\r\n                                </Accordion.Toggle>\r\n                                </div>\r\n                            <Accordion.Collapse eventKey=\"3\"> \r\n                                <Card.Body>\r\n                                <Form.Row>\r\n                                <Form.Group as={Col} controlId=\"formGridPassword\">\r\n                    <Form.Label>Inserisci vecchia Password</Form.Label>\r\n                        <Form.Control \r\n                            type=\"password\" \r\n                            title=\"Almeno 8 caratteri, una lettera maiuscola e un numero\" \r\n                            pattern=\"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).{8,}$\"\r\n                            placeholder=\"Password\" \r\n                            id = 'oldPassword'\r\n                            name = 'oldPassword'\r\n                            onChange={this.onChange} \r\n                            required/>\r\n                    </Form.Group>\r\n                                </Form.Row>\r\n                                <Form.Row>\r\n                                <Form.Group as={Col} controlId=\"formGridPassword\">\r\n                    <Form.Label>Nuova Password</Form.Label>\r\n                        <Form.Control \r\n                            type=\"password\" \r\n                            title=\"Almeno 8 caratteri, una lettera maiuscola e un numero\" \r\n                            pattern=\"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).{8,}$\"\r\n                            placeholder=\"Password\" \r\n                            id = 'newPassword'\r\n                            name = 'newPassword'\r\n                            onChange={this.onChange} \r\n                            required/>\r\n                            </Form.Group>\r\n                            <Form.Group as={Col} controlId=\"formGridPassword\">\r\n                    <Form.Label>Ripeti Password</Form.Label>\r\n                        <Form.Control \r\n                            type=\"password\" \r\n                            title=\"Almeno 8 caratteri, una lettera maiuscola e un numero\" \r\n                            pattern=\"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]).{8,}$\"\r\n                            placeholder=\"Password\" \r\n                            id = 'confirmPassword'\r\n                            name = 'confirmPassword'\r\n                            onChange={this.onChange} \r\n                            required/>\r\n                    </Form.Group>\r\n                                </Form.Row>\r\n                                <button type=\"submit\" onClick = {this.onSubmitPassword}>\r\n                                    Modifica password\r\n                                </button>\r\n                                </Card.Body>\r\n                            </Accordion.Collapse>\r\n                        </Card>\r\n                        <Card id=\"DatiPersonaliCarta\" border=\"light\">\r\n                                <div className=\"view-cont\">\r\n                                <div className=\"sx-head\">\r\n                                    <p>Numero di telefono: {telefono}</p>\r\n                                    </div>\r\n                                    <Accordion.Toggle as={AiOutlineEdit} className=\"penna\" variant=\"link\" eventKey=\"4\">\r\n                                </Accordion.Toggle>\r\n                                </div>\r\n                            <Accordion.Collapse eventKey=\"4\">\r\n                                <Card.Body>\r\n                                    <Form.Row>\r\n                                    <Form.Group as={Col} controlId=\"formGridIndirizzo\">\r\n                        <Form.Label>Telefono</Form.Label>\r\n                        <Form.Control \r\n                            type = \"tel\" \r\n                            placeholder = \"Telefono\" \r\n                            id = 'telefono'\r\n                            name = 'telefono'\r\n                            onChange = {this.onChange} \r\n                            required\r\n                        />\r\n                    </Form.Group>\r\n                                    </Form.Row>\r\n                                    <button type=\"submit\" onClick = {this.onSubmit}>\r\n                                        Modifica numero\r\n                                    </button>\r\n                                </Card.Body>\r\n\r\n                            </Accordion.Collapse>\r\n                    </Card>\r\n                        </Accordion>\r\n                        </div>\r\n                        </Form>      \r\n        );\r\n    }\r\n}\r\nexport default DatiPersonali\r\n"]},"metadata":{},"sourceType":"module"}