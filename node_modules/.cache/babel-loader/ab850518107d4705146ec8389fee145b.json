{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alexd\\\\Documents\\\\Progetto-Unipa\\\\Frontend\\\\src\\\\Prenota\\\\Prenota.js\";\nimport React from 'react';\nimport { Form, Col, Button, Accordion, Card } from 'react-bootstrap';\nimport './Prenota.css';\nimport { Redirect } from \"react-router-dom\";\n\nclass Prenota extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = e => {\n      console.log(e.target.value);\n      this.setState({\n        [e.target.id]: e.target.value\n      });\n    };\n\n    this.state = {\n      dati_casa: this.props.history.location.state ? this.props.history.location.state.dati_casa : [],\n      checkIn: this.props.history.location.state ? this.props.history.location.state.checkIn : '',\n      checkOut: this.props.history.location.state ? this.props.history.location.state.checkOut : '',\n      posti: this.props.history.location.state ? this.props.history.location.state.posti : 1,\n      numPosti: [],\n      partenza: '',\n      ritorno: ''\n    };\n  }\n\n  componentDidMount() {\n    if (this.state.checkIn !== '' && this.state.checkOut !== '') {\n      var str1 = this.state.checkIn;\n      var dmy1 = str1.split(\"/\");\n      var date1 = new Date(dmy1[2], dmy1[1] - 1, dmy1[0]);\n      var offset1 = date1.getTimezoneOffset();\n      date1 = new Date(date1.getTime() - offset1 * 60 * 1000);\n      var str2 = this.state.checkOut;\n      var dmy2 = str2.split(\"/\");\n      var date2 = new Date(dmy2[2], dmy2[1] - 1, dmy2[0]);\n      var offset2 = date2.getTimezoneOffset();\n      date2 = new Date(date2.getTime() - offset2 * 60 * 1000);\n      this.setState({\n        partenza: date1.toISOString().slice(0, 10),\n        ritorno: date2.toISOString().slice(0, 10)\n      });\n    }\n\n    var array = [];\n\n    for (var i = 0; i < this.state.dati_casa.posti; i++) {\n      array[i] = i;\n      array[i]++;\n    }\n\n    this.setState({\n      numPosti: array\n    });\n  }\n\n  render() {\n    if (!localStorage.getItem('logged')) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: {\n          pathname: \"/ErrorPage\",\n          state: {\n            error: true,\n            errorMessage: \"Utente non autorizzato\"\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 20\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"prenota-cont\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"prenota-sx-cont\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }\n    }, \"Conferma la tua prenotazione\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"infoviaggio\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }\n    }, \"Info viaggio\"), /*#__PURE__*/React.createElement(Accordion, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"headaccpren\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 29\n      }\n    }, \"Date:\"), /*#__PURE__*/React.createElement(Accordion.Toggle, {\n      eventKey: \"0\",\n      id: \"modifica\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 29\n      }\n    }, \"Visualizza\")), /*#__PURE__*/React.createElement(Accordion.Collapse, {\n      eventKey: \"0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      id: \"prenotaForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Form.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridDate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 41\n      }\n    }, \"Check-In\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"date\",\n      placeholder: \"Inserisci data di inizio\",\n      id: \"data_partenza\",\n      name: \"data_partenza\",\n      value: this.state.partenza,\n      disabled: \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 41\n      }\n    })), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridDate1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 41\n      }\n    }, \"Check-Out\"), /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"date\",\n      placeholder: \"Inserisci data di fine\",\n      id: \"data_ritorno\",\n      name: \"data_ritorno\",\n      value: this.state.ritorno,\n      disabled: \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 41\n      }\n    })))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"headaccpren\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 29\n      }\n    }, \"Numero ospiti: \"), /*#__PURE__*/React.createElement(Accordion.Toggle, {\n      eventKey: \"1\",\n      id: \"modifica\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 29\n      }\n    }, \"Modifica\")), /*#__PURE__*/React.createElement(Accordion.Collapse, {\n      eventKey: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      id: \"prenotaFormOspiti\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridDate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 25\n      }\n    }, \"Ospiti\"), /*#__PURE__*/React.createElement(Form.Control, {\n      as: \"select\",\n      onChange: this.onChange,\n      id: \"posti\",\n      value: this.state.posti,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 29\n      }\n    }, this.state.numPosti.map(item => /*#__PURE__*/React.createElement(\"option\", {\n      value: item,\n      id: \"posti\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 33\n      }\n    }, item))))))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 29\n      }\n    }, \"Scegli come pagare\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"containerPaga\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"paga\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 41\n      }\n    }, \"Paga per intero\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Form.Check, {\n      inline: true,\n      label: \"Paga adesso\",\n      type: \"radio\",\n      id: \"now\",\n      name: \"ora\",\n      value: \"ora\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 45\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 45\n      }\n    }, \"Nel caso in cui tu voglia pagare gi\\xE0 adesso le tasse di soggiorno\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"paga\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 41\n      }\n    }, \"Paga una parte\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Form.Check, {\n      inline: true,\n      label: \"Paga dopo\",\n      type: \"radio\",\n      id: \"later\",\n      name: \"ora\",\n      value: \"dopo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 41\n      }\n    }, \"Nel caso in cui tu voglia pagare in loco le tasse di soggiorno, o disponga di una esenzione\")))))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 25\n      }\n    }, \"Clicca per effettuare il pagamento\")), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"bottonePrenota\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 21\n      }\n    }, \"Prenota\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"prenota-dx-cont\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      id: \"cartaInfo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 29\n      }\n    }, \"INFO PRENOTAZIONE!\"), /*#__PURE__*/React.createElement(Card.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 29\n      }\n    }, \"Riepilogo alloggio\"), /*#__PURE__*/React.createElement(Card.Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 29\n      }\n    }, this.state.dati_casa.tipo_proprieta === 'cv' ? \"Casa vacanza\" : \"B&B\", \" \\xA0\", this.state.dati_casa.nome_proprieta, \",\\xA0\", this.state.dati_casa.localita, \" (\", this.state.dati_casa.provincia, \")\"), /*#__PURE__*/React.createElement(Card.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 29\n      }\n    }, \"Periodo\"), /*#__PURE__*/React.createElement(Card.Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 29\n      }\n    }, this.state.checkIn, \" - \", this.state.checkOut), /*#__PURE__*/React.createElement(Card.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 29\n      }\n    }, \"Numero di ospiti\"), /*#__PURE__*/React.createElement(Card.Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 29\n      }\n    }, this.state.posti, \" \", this.state.posti === 1 ? \"persona\" : \"persone\"), /*#__PURE__*/React.createElement(Card.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 29\n      }\n    }, \"Costo alloggio\"), /*#__PURE__*/React.createElement(Card.Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 29\n      }\n    }, \"\\u20AC\", this.state.dati_casa.costo), /*#__PURE__*/React.createElement(Card.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 29\n      }\n    }, \"Costo tassa di soggiorno\"), /*#__PURE__*/React.createElement(Card.Text, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 29\n      }\n    }, \"\\u20AC3 per ogni soggiornante\")))));\n  }\n\n}\n\nexport default Prenota;","map":{"version":3,"sources":["C:/Users/alexd/Documents/Progetto-Unipa/Frontend/src/Prenota/Prenota.js"],"names":["React","Form","Col","Button","Accordion","Card","Redirect","Prenota","Component","constructor","props","onChange","e","console","log","target","value","setState","id","state","dati_casa","history","location","checkIn","checkOut","posti","numPosti","partenza","ritorno","componentDidMount","str1","dmy1","split","date1","Date","offset1","getTimezoneOffset","getTime","str2","dmy2","date2","offset2","toISOString","slice","array","i","render","localStorage","getItem","pathname","error","errorMessage","map","item","tipo_proprieta","nome_proprieta","localita","provincia","costo"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,IAAR,EAAaC,GAAb,EAAiBC,MAAjB,EAAwBC,SAAxB,EAAkCC,IAAlC,QAA6C,iBAA7C;AACA,OAAO,eAAP;AACA,SAAQC,QAAR,QAAuB,kBAAvB;;AAEA,MAAMC,OAAN,SAAsBP,KAAK,CAACQ,SAA5B,CAAsC;AAElCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SA4CnBC,QA5CmB,GA4CPC,CAAD,IAAO;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAC,CAACG,MAAF,CAASC,KAArB;AACA,WAAKC,QAAL,CAAc;AAAE,SAACL,CAAC,CAACG,MAAF,CAASG,EAAV,GAAeN,CAAC,CAACG,MAAF,CAASC;AAA1B,OAAd;AACH,KA/CkB;;AAGf,SAAKG,KAAL,GAAa;AACTC,MAAAA,SAAS,EAAE,KAAKV,KAAL,CAAWW,OAAX,CAAmBC,QAAnB,CAA4BH,KAA5B,GAAoC,KAAKT,KAAL,CAAWW,OAAX,CAAmBC,QAAnB,CAA4BH,KAA5B,CAAkCC,SAAtE,GAAkF,EADpF;AAETG,MAAAA,OAAO,EAAE,KAAKb,KAAL,CAAWW,OAAX,CAAmBC,QAAnB,CAA4BH,KAA5B,GAAmC,KAAKT,KAAL,CAAWW,OAAX,CAAmBC,QAAnB,CAA4BH,KAA5B,CAAkCI,OAArE,GAA+E,EAF/E;AAGTC,MAAAA,QAAQ,EAAE,KAAKd,KAAL,CAAWW,OAAX,CAAmBC,QAAnB,CAA4BH,KAA5B,GAAoC,KAAKT,KAAL,CAAWW,OAAX,CAAmBC,QAAnB,CAA4BH,KAA5B,CAAkCK,QAAtE,GAAiF,EAHlF;AAITC,MAAAA,KAAK,EAAE,KAAKf,KAAL,CAAWW,OAAX,CAAmBC,QAAnB,CAA4BH,KAA5B,GAAoC,KAAKT,KAAL,CAAWW,OAAX,CAAmBC,QAAnB,CAA4BH,KAA5B,CAAkCM,KAAtE,GAA8E,CAJ5E;AAKTC,MAAAA,QAAQ,EAAE,EALD;AAMTC,MAAAA,QAAQ,EAAE,EAND;AAOTC,MAAAA,OAAO,EAAE;AAPA,KAAb;AASH;;AAEDC,EAAAA,iBAAiB,GAAG;AAChB,QAAG,KAAKV,KAAL,CAAWI,OAAX,KAAuB,EAAvB,IAA6B,KAAKJ,KAAL,CAAWK,QAAX,KAAwB,EAAxD,EAA4D;AACxD,UAAIM,IAAI,GAAG,KAAKX,KAAL,CAAWI,OAAtB;AACA,UAAIQ,IAAI,GAAGD,IAAI,CAACE,KAAL,CAAW,GAAX,CAAX;AACA,UAAIC,KAAK,GAAG,IAAIC,IAAJ,CAASH,IAAI,CAAC,CAAD,CAAb,EAAkBA,IAAI,CAAC,CAAD,CAAJ,GAAU,CAA5B,EAA+BA,IAAI,CAAC,CAAD,CAAnC,CAAZ;AACA,UAAII,OAAO,GAAGF,KAAK,CAACG,iBAAN,EAAd;AACAH,MAAAA,KAAK,GAAG,IAAIC,IAAJ,CAASD,KAAK,CAACI,OAAN,KAAmBF,OAAO,GAAC,EAAR,GAAW,IAAvC,CAAR;AAEA,UAAIG,IAAI,GAAG,KAAKnB,KAAL,CAAWK,QAAtB;AACA,UAAIe,IAAI,GAAGD,IAAI,CAACN,KAAL,CAAW,GAAX,CAAX;AACA,UAAIQ,KAAK,GAAG,IAAIN,IAAJ,CAASK,IAAI,CAAC,CAAD,CAAb,EAAkBA,IAAI,CAAC,CAAD,CAAJ,GAAU,CAA5B,EAA+BA,IAAI,CAAC,CAAD,CAAnC,CAAZ;AACA,UAAIE,OAAO,GAAGD,KAAK,CAACJ,iBAAN,EAAd;AACAI,MAAAA,KAAK,GAAG,IAAIN,IAAJ,CAASM,KAAK,CAACH,OAAN,KAAmBI,OAAO,GAAC,EAAR,GAAW,IAAvC,CAAR;AAEA,WAAKxB,QAAL,CAAc;AACVU,QAAAA,QAAQ,EAAEM,KAAK,CAACS,WAAN,GAAoBC,KAApB,CAA0B,CAA1B,EAA4B,EAA5B,CADA;AAEVf,QAAAA,OAAO,EAAEY,KAAK,CAACE,WAAN,GAAoBC,KAApB,CAA0B,CAA1B,EAA4B,EAA5B;AAFC,OAAd;AAIH;;AAED,QAAIC,KAAK,GAAG,EAAZ;;AAEA,SAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAG,KAAK1B,KAAL,CAAWC,SAAX,CAAqBK,KAAxC,EAA+CoB,CAAC,EAAhD,EAAoD;AACpDD,MAAAA,KAAK,CAACC,CAAD,CAAL,GAAWA,CAAX;AACAD,MAAAA,KAAK,CAACC,CAAD,CAAL;AACC;;AAED,SAAK5B,QAAL,CAAc;AAAES,MAAAA,QAAQ,EAAEkB;AAAZ,KAAd;AACH;;AAODE,EAAAA,MAAM,GAAE;AACJ,QAAG,CAACC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAJ,EAAoC;AAChC,0BAAO,oBAAC,QAAD;AACH,QAAA,EAAE,EAAE;AACAC,UAAAA,QAAQ,EAAE,YADV;AAEA9B,UAAAA,KAAK,EAAE;AACH+B,YAAAA,KAAK,EAAE,IADJ;AAEHC,YAAAA,YAAY,EAAE;AAFX;AAFP,SADD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AASH;;AAED,wBACI;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCADJ,eAEI;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADA,eAEA,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,eAEI,oBAAC,SAAD,CAAW,MAAX;AAAmB,MAAA,QAAQ,EAAC,GAA5B;AAAgC,MAAA,EAAE,EAAC,UAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ,CADJ,eAOQ,oBAAC,SAAD,CAAW,QAAX;AAAoB,MAAA,QAAQ,EAAC,GAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACJ,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD,CAAM,GAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,EAAE,EAAEjD,GAAhB;AAAqB,MAAA,SAAS,EAAC,cAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI,oBAAC,IAAD,CAAM,OAAN;AACI,MAAA,IAAI,EAAC,MADT;AAEI,MAAA,WAAW,EAAC,0BAFhB;AAGI,MAAA,EAAE,EAAG,eAHT;AAII,MAAA,IAAI,EAAG,eAJX;AAKI,MAAA,KAAK,EAAI,KAAKiB,KAAL,CAAWQ,QALxB;AAMI,MAAA,QAAQ,EAAG,MANf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADJ,eAYI,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,EAAE,EAAEzB,GAAhB;AAAqB,MAAA,SAAS,EAAC,eAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,eAEI,oBAAC,IAAD,CAAM,OAAN;AACI,MAAA,IAAI,EAAC,MADT;AAEI,MAAA,WAAW,EAAC,wBAFhB;AAGI,MAAA,EAAE,EAAG,cAHT;AAII,MAAA,IAAI,EAAG,cAJX;AAKI,MAAA,KAAK,EAAI,KAAKiB,KAAL,CAAWS,OALxB;AAMI,MAAA,QAAQ,EAAG,MANf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CAZJ,CADJ,CADI,CADJ,CAPR,eAqCI;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADJ,eAEI,oBAAC,SAAD,CAAW,MAAX;AAAkB,MAAA,QAAQ,EAAC,GAA3B;AAA+B,MAAA,EAAE,EAAC,UAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ,CArCJ,eA2CI,oBAAC,SAAD,CAAW,QAAX;AAAoB,MAAA,QAAQ,EAAC,GAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,mBAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,EAAE,EAAE1B,GAAhB;AAAqB,MAAA,SAAS,EAAC,cAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADA,eAEI,oBAAC,IAAD,CAAM,OAAN;AAAc,MAAA,EAAE,EAAC,QAAjB;AAA0B,MAAA,QAAQ,EAAI,KAAKS,QAA3C;AAAqD,MAAA,EAAE,EAAC,OAAxD;AAAgE,MAAA,KAAK,EAAI,KAAKQ,KAAL,CAAWM,KAApF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKN,KAAL,CAAWO,QAAX,CAAoB0B,GAApB,CAAwBC,IAAI,iBAC7B;AAAQ,MAAA,KAAK,EAAIA,IAAjB;AAAuB,MAAA,EAAE,EAAG,OAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAqCA,IAArC,CADC,CADL,CAFJ,CADA,CADA,CA3CJ,CAFA,eA0DI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,eAEI;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACQ;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADJ,eAEI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,MAAM,MAAlB;AAAmB,MAAA,KAAK,EAAC,aAAzB;AAAuC,MAAA,IAAI,EAAC,OAA5C;AAAoD,MAAA,EAAE,EAAC,KAAvD;AAA6D,MAAA,IAAI,EAAG,KAApE;AAA0E,MAAA,KAAK,EAAG,KAAlF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8EAFJ,CAFJ,CADR,eAQQ;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA,oBAAC,IAAD,CAAM,KAAN;AAAY,MAAA,MAAM,MAAlB;AAAmB,MAAA,KAAK,EAAC,WAAzB;AAAqC,MAAA,IAAI,EAAC,OAA1C;AAAkD,MAAA,EAAE,EAAC,OAArD;AAA6D,MAAA,IAAI,EAAG,KAApE;AAA0E,MAAA,KAAK,EAAG,MAAlF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,eAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qGAFA,CAFJ,CARR,CAFJ,CA1DJ,CAFJ,eAgFI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CADJ,CAhFJ,eAmFI;AAAQ,MAAA,SAAS,EAAC,gBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAnFJ,CADJ,eAsFI;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,WAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,eAEI,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAFJ,eAGI,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKlC,KAAL,CAAWC,SAAX,CAAqBkC,cAArB,KAAwC,IAAxC,GAA+C,cAA/C,GAAgE,KADrE,WAEK,KAAKnC,KAAL,CAAWC,SAAX,CAAqBmC,cAF1B,WAGK,KAAKpC,KAAL,CAAWC,SAAX,CAAqBoC,QAH1B,QAGsC,KAAKrC,KAAL,CAAWC,SAAX,CAAqBqC,SAH3D,MAHJ,eAQI,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBARJ,eASI,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAY,KAAKtC,KAAL,CAAWI,OAAvB,SAAmC,KAAKJ,KAAL,CAAWK,QAA9C,CATJ,eAUI,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAVJ,eAWI,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAY,KAAKL,KAAL,CAAWM,KAAvB,OAA+B,KAAKN,KAAL,CAAWM,KAAX,KAAqB,CAArB,GAAyB,SAAzB,GAAqC,SAApE,CAXJ,eAYI,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAZJ,eAaI,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAa,KAAKN,KAAL,CAAWC,SAAX,CAAqBsC,KAAlC,CAbJ,eAcI,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAdJ,eAeI,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCAfJ,CADJ,CADJ,CAtFJ,CADJ;AA8GH;;AA9KiC;;AAgLtC,eAAenD,OAAf","sourcesContent":["import React from 'react';\r\nimport {Form,Col,Button,Accordion,Card} from 'react-bootstrap'\r\nimport './Prenota.css'\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nclass Prenota extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            dati_casa: this.props.history.location.state ? this.props.history.location.state.dati_casa : [],\r\n            checkIn: this.props.history.location.state? this.props.history.location.state.checkIn : '',\r\n            checkOut: this.props.history.location.state ? this.props.history.location.state.checkOut : '',\r\n            posti: this.props.history.location.state ? this.props.history.location.state.posti : 1,\r\n            numPosti: [],\r\n            partenza: '',\r\n            ritorno: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if(this.state.checkIn !== '' && this.state.checkOut !== '') {\r\n            var str1 = this.state.checkIn;\r\n            var dmy1 = str1.split(\"/\");\r\n            var date1 = new Date(dmy1[2], dmy1[1] - 1, dmy1[0]);\r\n            var offset1 = date1.getTimezoneOffset();\r\n            date1 = new Date(date1.getTime() - (offset1*60*1000));\r\n\r\n            var str2 = this.state.checkOut;\r\n            var dmy2 = str2.split(\"/\");\r\n            var date2 = new Date(dmy2[2], dmy2[1] - 1, dmy2[0]);\r\n            var offset2 = date2.getTimezoneOffset();\r\n            date2 = new Date(date2.getTime() - (offset2*60*1000));\r\n\r\n            this.setState({ \r\n                partenza: date1.toISOString().slice(0,10),\r\n                ritorno: date2.toISOString().slice(0,10)\r\n            });\r\n        }\r\n\r\n        var array = [];\r\n\r\n        for(var i = 0; i < this.state.dati_casa.posti; i++) {\r\n        array[i] = i;\r\n        array[i]++;\r\n        }\r\n\r\n        this.setState({ numPosti: array });\r\n    }\r\n\r\n    onChange = (e) => {\r\n        console.log(e.target.value);\r\n        this.setState({ [e.target.id]: e.target.value })\r\n    }\r\n    \r\n    render(){\r\n        if(!localStorage.getItem('logged')) {\r\n            return <Redirect\r\n                to={{\r\n                    pathname: \"/ErrorPage\",\r\n                    state: { \r\n                        error: true,\r\n                        errorMessage: \"Utente non autorizzato\" \r\n                    }\r\n                }}\r\n            />\r\n        }\r\n\r\n        return(\r\n            <div className=\"prenota-cont\">\r\n                <div className=\"prenota-sx-cont\">\r\n                    <h3>Conferma la tua prenotazione</h3>\r\n                    <div className=\"infoviaggio\">\r\n                    <h5>Info viaggio</h5>\r\n                    <Accordion>\r\n                        <div className=\"headaccpren\">\r\n                            <p>Date:</p>\r\n                            <Accordion.Toggle  eventKey=\"0\" id=\"modifica\">\r\n                                Visualizza\r\n                            </Accordion.Toggle>\r\n                        </div>\r\n                            <Accordion.Collapse eventKey=\"0\">\r\n                                <div>\r\n                            <Form id=\"prenotaForm\">\r\n                                <Form.Row>\r\n                                    <Form.Group as={Col} controlId=\"formGridDate\">\r\n                                        <Form.Label>Check-In</Form.Label>\r\n                                        <Form.Control \r\n                                            type=\"date\" \r\n                                            placeholder=\"Inserisci data di inizio\" \r\n                                            id = 'data_partenza'\r\n                                            name = 'data_partenza'\r\n                                            value = {this.state.partenza}\r\n                                            disabled = \"true\"\r\n                                        />\r\n                                    </Form.Group>\r\n                                    <Form.Group as={Col} controlId=\"formGridDate1\">\r\n                                        <Form.Label>Check-Out</Form.Label>\r\n                                        <Form.Control \r\n                                            type=\"date\" \r\n                                            placeholder=\"Inserisci data di fine\" \r\n                                            id = 'data_ritorno'\r\n                                            name = 'data_ritorno'\r\n                                            value = {this.state.ritorno}\r\n                                            disabled = \"true\"\r\n                                        />\r\n                                    </Form.Group>\r\n                                </Form.Row>\r\n                            </Form>\r\n                                </div>\r\n                            </Accordion.Collapse>\r\n                        <div className=\"headaccpren\">\r\n                            <p>Numero ospiti: </p>\r\n                            <Accordion.Toggle eventKey=\"1\" id=\"modifica\">\r\n                                Modifica\r\n                            </Accordion.Toggle>\r\n                        </div>\r\n                        <Accordion.Collapse eventKey=\"1\">\r\n                        <Form id=\"prenotaFormOspiti\">\r\n                        <Form.Group as={Col} controlId=\"formGridDate\">\r\n                        <Form.Label>Ospiti</Form.Label>\r\n                            <Form.Control as=\"select\" onChange = {this.onChange} id=\"posti\" value = {this.state.posti}>\r\n                                {this.state.numPosti.map(item => (\r\n                                <option value = {item} id = \"posti\">{item}</option>\r\n                                ))}\r\n                            </Form.Control>\r\n                        </Form.Group>\r\n                        </Form>\r\n                        </Accordion.Collapse>\r\n                    </Accordion>\r\n                        <div>\r\n                            <h4>Scegli come pagare</h4>\r\n                            <div className=\"containerPaga\">\r\n                                    <div className=\"paga\">\r\n                                        <h5>Paga per intero</h5>\r\n                                        <div className=\"row-flex\">\r\n                                            <Form.Check inline label=\"Paga adesso\" type=\"radio\" id=\"now\" name = \"ora\" value = \"ora\" />\r\n                                            <p>Nel caso in cui tu voglia pagare già adesso le tasse di soggiorno</p>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"paga\">\r\n                                        <h5>Paga una parte</h5>\r\n                                        <div className=\"row-flex\">\r\n                                        <Form.Check inline label=\"Paga dopo\" type=\"radio\" id=\"later\" name = \"ora\" value = \"dopo\"/>\r\n                                        <p>Nel caso in cui tu voglia pagare in loco le tasse di soggiorno, o disponga di una esenzione</p>\r\n                                        </div>\r\n                                    </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <h3>Clicca per effettuare il pagamento</h3>\r\n                    </div>   \r\n                    <button className=\"bottonePrenota\">Prenota</button>    \r\n                </div>\r\n                <div className=\"prenota-dx-cont\">\r\n                    <Card id=\"cartaInfo\">\r\n                        <Card.Body>\r\n                            <h3>INFO PRENOTAZIONE!</h3>\r\n                            <Card.Title>Riepilogo alloggio</Card.Title>\r\n                            <Card.Text>\r\n                                {this.state.dati_casa.tipo_proprieta === 'cv' ? \"Casa vacanza\" : \"B&B\"} &nbsp;\r\n                                {this.state.dati_casa.nome_proprieta},&nbsp;\r\n                                {this.state.dati_casa.localita} ({this.state.dati_casa.provincia})\r\n                            </Card.Text>\r\n                            <Card.Title>Periodo</Card.Title>\r\n                            <Card.Text>{this.state.checkIn} - {this.state.checkOut}</Card.Text>\r\n                            <Card.Title>Numero di ospiti</Card.Title>\r\n                            <Card.Text>{this.state.posti} {this.state.posti === 1 ? \"persona\" : \"persone\"}</Card.Text>\r\n                            <Card.Title>Costo alloggio</Card.Title>\r\n                            <Card.Text>€{this.state.dati_casa.costo}</Card.Text>\r\n                            <Card.Title>Costo tassa di soggiorno</Card.Title>\r\n                            <Card.Text>€3 per ogni soggiornante</Card.Text>\r\n                        </Card.Body>\r\n                    </Card>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default Prenota;"]},"metadata":{},"sourceType":"module"}