{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alexd\\\\Documents\\\\Progetto-Unipa\\\\Frontend\\\\src\\\\GestioneProprietario\\\\InserisciProp\\\\inserimentoCasaVacanza.js\";\n\n/*CSS FATTO*/\nimport React from \"react\"; //import camera from \"../assets/camera.svg\";   \n\nimport { Form, Button, Col, Alert } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport \"./InserimentoProprietà.css\";\nimport { Redirect } from 'react-router-dom';\n\nclass InserimentoCasaVacanza extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.setShowSucc = e => {\n      this.setState({\n        success: e\n      });\n    };\n\n    this.setShowErr = e => {\n      this.setState({\n        error: e\n      });\n    };\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.onChangeFoto = e => {\n      this.setState({\n        [e.target.name]: URL.createObjectURL(e.target.files[0])\n      });\n      this.setState({\n        [e.target.id]: e.target.files[0]\n      });\n    };\n\n    this.onChangeServizi = e => {\n      if (e.target.checked) {\n        this.setState({\n          listaServiziCasa: [...new Set(this.state.listaServiziCasa.concat(e.target.id).sort())]\n        });\n      } else {\n        var filtraServizi = this.state.listaServiziCasa.filter(servizio => servizio !== e.target.id);\n        this.setState({\n          listaServiziCasa: filtraServizi\n        });\n      }\n    };\n\n    this.onSubmitInsert = e => {\n      e.preventDefault();\n      const data1 = {\n        nome_proprieta: this.state.nome_proprieta,\n        indirizzo: this.state.indirizzo,\n        localita: this.state.localita,\n        provincia: this.state.provincia,\n        tipo_proprieta: 'cv',\n        servizi: this.state.listaServiziCasa,\n        ref_proprietario: this.state.ref_proprietario,\n        descrizione: this.state.descrizione\n      };\n      fetch('http://192.168.1.106:9000/insertProprieta/new', {\n        method: \"POST\",\n        headers: {\n          'Content-type': 'application/json'\n        },\n        body: JSON.stringify(data1)\n      }).then(result => result.text()).then(result => {\n        try {\n          this.setState({\n            apiResponse: JSON.parse(result)\n          });\n          var res = JSON.parse(result);\n        } catch (error) {\n          this.setState({\n            apiResponse: result\n          });\n          var res = result;\n          this.setState({\n            empty: true\n          });\n        }\n\n        if (res.length < 1 || res.code && res.code === 404) {\n          this.setState({\n            empty: true,\n            errorMessage: res.message\n          });\n        } else if (this.state.apiResponse.status === 'error') {\n          window.scrollTo(0, 0);\n          this.setState({\n            error: true\n          });\n          this.setState({\n            errorMessage: this.state.apiResponse.message\n          });\n        }\n\n        const data2 = {\n          ref_proprieta_cv: this.state.apiResponse.insertId,\n          posti_letto: this.state.posti_letto,\n          tariffa_casa: this.state.tariffa_casa\n        };\n        this.setState({\n          fileName1: data2.ref_proprieta_cv + \"_1.jpg\",\n          fileName2: data2.ref_proprieta_cv + \"_2.jpg\",\n          fileName3: data2.ref_proprieta_cv + \"_3.jpg\",\n          fileName4: data2.ref_proprieta_cv + \"_4.jpg\"\n        });\n        fetch('http://192.168.1.106:9000/insertCasa/new', {\n          method: \"POST\",\n          headers: {\n            'Content-type': 'application/json'\n          },\n          body: JSON.stringify(data2)\n        }).then(result => result.text()).then(result => {\n          this.setState({\n            apiResponse: result\n          });\n          var res = JSON.parse(result);\n\n          if (res.length < 1 || res.code && res.code === 404) {\n            this.setState({\n              empty: true,\n              errorMessage: res.message\n            });\n          } else if (this.state.apiResponse.status === 'error') {\n            window.scrollTo(0, 0);\n            this.setState({\n              error: true\n            });\n            this.setState({\n              errorMessage: this.state.apiResponse.message\n            });\n          } else {\n            var form = new FormData();\n            form.append(\"foto1\", this.state.foto1, this.state.fileName1);\n            form.append(\"foto2\", this.state.foto2, this.state.fileName2);\n            form.append(\"foto3\", this.state.foto3, this.state.fileName3);\n            form.append(\"foto4\", this.state.foto4, this.state.fileName4);\n            fetch('http://192.168.1.106:9000/uploadFotoCV/upload', {\n              method: \"POST\",\n              body: form\n            }).then(result => result.text()).then(result => {\n              this.setState({\n                apiResponse: result\n              });\n              var res = JSON.parse(result);\n\n              if (res.length < 1 || res.code && res.code === 404) {\n                this.setState({\n                  empty: true,\n                  errorMessage: res.message\n                });\n              } else if (this.state.apiResponse.status === 'error') {\n                window.scrollTo(0, 0);\n                this.setState({\n                  error: true\n                });\n                this.setState({\n                  errorMessage: this.state.apiResponse.message\n                });\n              } else {\n                localStorage.setObj('user_data', this.state.apiResponse);\n                window.scrollTo(0, 0);\n                this.setState({\n                  success: true,\n                  error: false\n                }, () => {\n                  window.setTimeout(() => {\n                    this.setState({\n                      success: false\n                    });\n                  }, 3000);\n                });\n              }\n            });\n          }\n        });\n      });\n    };\n\n    this.aggiungiServizio = e => {\n      if (this.state.nuovoServizio !== '') {\n        const data = {\n          servizio: this.state.nuovoServizio\n        };\n        fetch('http://192.168.1.106:9000/insertServizio/new', {\n          method: \"POST\",\n          headers: {\n            'Content-type': 'application/json'\n          },\n          body: JSON.stringify(data)\n        }).then(result => result.text()).then(result => {\n          try {\n            this.setState({\n              apiResponse: JSON.parse(result)\n            });\n            var res = JSON.parse(result);\n          } catch (error) {\n            this.setState({\n              apiResponse: result\n            });\n            var res = result;\n            this.setState({\n              empty: true\n            });\n          }\n\n          var res = JSON.parse(result);\n\n          if (res.length < 1 || res.code && res.code === 404) {\n            this.setState({\n              empty: true,\n              errorMessage: res.message\n            });\n          }\n\n          if (this.state.apiResponse.status === 'error') {\n            this.setState({\n              error: true\n            });\n            this.setState({\n              errorMessage: this.state.apiResponse.message\n            });\n          }\n\n          window.location.reload();\n        });\n      }\n    };\n\n    this.state = {\n      nome_proprieta: '',\n      indirizzo: '',\n      localita: '',\n      provincia: '',\n      tipo_proprieta: 'cv',\n      servizi: '',\n      listaServiziCasa: [],\n      listaServizi: [],\n      nuovoServizio: '',\n      descrizione: '',\n      ref_proprietario: localStorage.getItem('email'),\n      posti_letto: '',\n      tariffa_casa: '',\n      foto1SRC: '',\n      foto1: null,\n      fileName1: '',\n      foto2SRC: '',\n      foto2: null,\n      fileName2: '',\n      foto3SRC: '',\n      foto3: null,\n      fileName3: '',\n      foto4SRC: '',\n      foto4: null,\n      fileName4: '',\n      apiResponse: [],\n      error: false,\n      errorMessage: '',\n      success: false,\n      empty: false\n    };\n  }\n\n  componentDidMount() {\n    fetch('http://192.168.1.106:9000/servizi/all', {\n      method: \"GET\",\n      headers: {\n        'Content-type': 'application/json'\n      }\n    }).then(result => result.text()).then(result => {\n      this.setState({\n        listaServizi: JSON.parse(result)\n      });\n\n      if (this.state.listaServizi.status === 'error') {\n        this.setState({\n          error: true\n        });\n        this.setState({\n          errorMessage: this.state.listaServizi.message\n        });\n      }\n    });\n    this.setState({\n      listaServiziCasa: this.state.servizi.replace(/\\s*,\\s*/g, \",\").split(',')\n    });\n  }\n\n  render() {\n    if (!localStorage.getItem('logged') || !localStorage.getItem('proprietario')) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: {\n          pathname: \"/ErrorPage\",\n          state: {\n            error: true,\n            errorMessage: \"Utente non autorizzato\"\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 14\n        }\n      });\n    } else if (this.state.empty) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"containerNew\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"contentNew\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 15\n        }\n      }, \"Si \\xE8 verificato un errore: \", this.state.errorMessage), /*#__PURE__*/React.createElement(Link, {\n        to: \"/InserimentoPropriet\\xE0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 15\n        }\n      }, \"Torna indietro\")));\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"containerNew\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Alert, {\n        show: this.state.success,\n        variant: \"success\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Alert.Heading, {\n        style: {\n          fontWeight: 'bold'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 13\n        }\n      }, \"Inserimento avvenuto con successo!\"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 13\n        }\n      }, \"Le informazioni della tua nuova casa vacanza sono state correttamente caricate e memorizzate all'interno del sistema.\"), /*#__PURE__*/React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex justify-content-end\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        onClick: () => this.setShowSucc(false),\n        variant: \"outline-success\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          fontWeight: 'bold'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 17\n        }\n      }, \"Ok\"))))), /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Alert, {\n        show: this.state.error,\n        variant: \"danger\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Alert.Heading, {\n        style: {\n          fontWeight: 'bold'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 17\n        }\n      }, \"Inserimento non avvenuto!\"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 17\n        }\n      }, \"Si \\xE8 verificato un errore nell'inserimento dei dati, riprovare.\"), /*#__PURE__*/React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex justify-content-end\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        onClick: () => this.setShowErr(false),\n        variant: \"outline-success\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          fontWeight: 'bold'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 21\n        }\n      }, \"Ok\"))))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"contentNew\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.onSubmitInsert,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 21\n        }\n      }, \"Compila questo form per inserire la tua casa vacanza!\"), /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"nome_proprieta\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 16\n        }\n      }, \"Nome\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        id: \"nome_proprieta\",\n        name: \"nome_proprieta\",\n        placeholder: \"Nome casa vacanza\",\n        onChange: this.onChange,\n        className: \"i\",\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"localita\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 15\n        }\n      }, \"Citt\\xE0\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        id: \"localita\",\n        name: \"localita\",\n        placeholder: \"Citt\\xE0 casa vacanza\",\n        onChange: this.onChange,\n        className: \"i\",\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"indirizzo\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 15\n        }\n      }, \"Indirizzo\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        id: \"indirizzo\",\n        name: \"indirizzo\",\n        placeholder: \"Indirizzo casa vacanza\",\n        onChange: this.onChange,\n        className: \"i\",\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"provincia\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 15\n        }\n      }, \"Provincia\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        id: \"provincia\",\n        name: \"provincia\",\n        placeholder: \"Provincia casa vacanza\",\n        onChange: this.onChange,\n        className: \"i\",\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(Form.Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Form.Group, {\n        as: Col,\n        controlId: \"formGridState\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(Form.Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 25\n        }\n      }, \"Servizi\"), this.state.listaServizi.map(item => {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 31\n          }\n        }, /*#__PURE__*/React.createElement(Form.Check, {\n          type: \"checkbox\",\n          name: item.servizio,\n          id: item.servizio,\n          onChange: this.onChangeServizi,\n          label: item.servizio,\n          defaultChecked: this.state.listaServiziCasa.includes(item.servizio) ? \"true\" : \"\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 33\n          }\n        }));\n      }))), /*#__PURE__*/React.createElement(Form.Group, {\n        controlId: \"exampleForm.ControlTextarea1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Form.Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 21\n        }\n      }, \"Inserisci servizio aggiuntivo\"), /*#__PURE__*/React.createElement(Form.Control, {\n        as: \"textarea\",\n        rows: 1,\n        id: \"nuovoServizio\",\n        name: \"nuovoServizio\",\n        onChange: this.onChange,\n        className: \"i\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 22\n        }\n      })), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"bottoniAggiungiServizio\",\n        onClick: this.aggiungiServizio,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 21\n        }\n      }, \"Aggiungi servizio\"), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"descrizione\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 19\n        }\n      }, \"Descrizione\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        id: \"descrizione\",\n        name: \"descrizione\",\n        placeholder: \"Descrizione casa vacanza\",\n        onChange: this.onChange,\n        className: \"i\",\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"tariffa_casa\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 21\n        }\n      }, \"Tariffa\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        pattern: \"^\\\\d+(.\\\\d{1,2})?$\",\n        title: \"Inserire un valore numerico usando un punto per i valori decimali\",\n        id: \"tariffa_casa\",\n        name: \"tariffa_casa\",\n        placeholder: \"Tariffa casa vacanza\",\n        onChange: this.onChange,\n        className: \"i\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(Form.Group, {\n        controlId: \"posti_Letto\",\n        id: \"posti_letto\",\n        name: \"posti_letto\",\n        className: \"flex-col22\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Form.Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 23\n        }\n      }, \"Posti Letto\"), /*#__PURE__*/React.createElement(\"select\", {\n        id: \"posti_letto\",\n        name: \"posti_letto\",\n        defaultValue: \"1\",\n        as: \"select\",\n        onChange: this.onChange,\n        className: \"i\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 25\n        }\n      }, \"1\"), /*#__PURE__*/React.createElement(\"option\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 25\n        }\n      }, \"2\"), /*#__PURE__*/React.createElement(\"option\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 25\n        }\n      }, \"3\"), /*#__PURE__*/React.createElement(\"option\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 25\n        }\n      }, \"4\"), /*#__PURE__*/React.createElement(\"option\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 25\n        }\n      }, \"5\"), /*#__PURE__*/React.createElement(\"option\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 25\n        }\n      }, \"6\"), /*#__PURE__*/React.createElement(\"option\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 25\n        }\n      }, \"7\"), /*#__PURE__*/React.createElement(\"option\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 25\n        }\n      }, \"8\"))), /*#__PURE__*/React.createElement(Form.Group, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 25\n        }\n      }, \"Inserisci delle foto della tua struttura\"), /*#__PURE__*/React.createElement(Form.Row, {\n        className: \"justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"file\",\n        id: \"foto1\",\n        name: \"foto1SRC\",\n        onChange: this.onChangeFoto,\n        className: \"inputImg\",\n        accept: \"image/*\",\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"img\", {\n        src: this.state.foto1SRC,\n        alt: \"Foto 1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"file\",\n        id: \"foto2\",\n        name: \"foto2SRC\",\n        onChange: this.onChangeFoto,\n        className: \"inputImg\",\n        accept: \"image/*\",\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"img\", {\n        src: this.state.foto2SRC,\n        alt: \"Foto 2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"file\",\n        id: \"foto3\",\n        name: \"foto3SRC\",\n        onChange: this.onChangeFoto,\n        className: \"inputImg\",\n        accept: \"image/*\",\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"img\", {\n        src: this.state.foto3SRC,\n        alt: \"Foto 3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"file\",\n        id: \"foto4\",\n        name: \"foto4SRC\",\n        onChange: this.onChangeFoto,\n        className: \"inputImg\",\n        accept: \"image/*\",\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 477,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"img\", {\n        src: this.state.foto4SRC,\n        alt: \"Foto 4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 486,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"bottoniScelta\",\n        type: \"submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 25\n        }\n      }, \"Carica\"))), /*#__PURE__*/React.createElement(Link, {\n        to: \"/InserimentoPropriet\\xE0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 492,\n          columnNumber: 21\n        }\n      }, \"Torna indietro\"))));\n    }\n  }\n\n}\n\nexport default InserimentoCasaVacanza;","map":{"version":3,"sources":["C:/Users/alexd/Documents/Progetto-Unipa/Frontend/src/GestioneProprietario/InserisciProp/inserimentoCasaVacanza.js"],"names":["React","Form","Button","Col","Alert","Link","Redirect","InserimentoCasaVacanza","Component","constructor","props","setShowSucc","e","setState","success","setShowErr","error","onChange","target","name","value","onChangeFoto","URL","createObjectURL","files","id","onChangeServizi","checked","listaServiziCasa","Set","state","concat","sort","filtraServizi","filter","servizio","onSubmitInsert","preventDefault","data1","nome_proprieta","indirizzo","localita","provincia","tipo_proprieta","servizi","ref_proprietario","descrizione","fetch","method","headers","body","JSON","stringify","then","result","text","apiResponse","parse","res","empty","length","code","errorMessage","message","status","window","scrollTo","data2","ref_proprieta_cv","insertId","posti_letto","tariffa_casa","fileName1","fileName2","fileName3","fileName4","form","FormData","append","foto1","foto2","foto3","foto4","localStorage","setObj","setTimeout","aggiungiServizio","nuovoServizio","data","location","reload","listaServizi","getItem","foto1SRC","foto2SRC","foto3SRC","foto4SRC","componentDidMount","replace","split","render","pathname","fontWeight","map","item","includes"],"mappings":"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","sourcesContent":["/*CSS FATTO*/\r\n\r\nimport React from \"react\";\r\n//import camera from \"../assets/camera.svg\";   \r\nimport {Form, Button, Col, Alert} from \"react-bootstrap\"\r\nimport {Link} from \"react-router-dom\"\r\n\r\nimport \"./InserimentoProprietà.css\";\r\n\r\nimport { Redirect } from 'react-router-dom';\r\n\r\n\r\nclass InserimentoCasaVacanza extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      nome_proprieta: '',\r\n      indirizzo: '',\r\n      localita: '',\r\n      provincia: '',\r\n      tipo_proprieta: 'cv',\r\n      servizi: '',\r\n      listaServiziCasa: [],\r\n      listaServizi: [],\r\n      nuovoServizio: '',\r\n      descrizione: '',\r\n      ref_proprietario: localStorage.getItem('email'),\r\n      posti_letto:'',\r\n      tariffa_casa: '',\r\n      foto1SRC: '',\r\n      foto1: null,\r\n      fileName1: '',\r\n      foto2SRC: '',\r\n      foto2: null,\r\n      fileName2: '',\r\n      foto3SRC: '',\r\n      foto3: null,\r\n      fileName3: '',\r\n      foto4SRC: '',\r\n      foto4: null,\r\n      fileName4: '',\r\n      apiResponse: [],\r\n      error: false,\r\n      errorMessage: '',\r\n      success: false,\r\n      empty: false\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    fetch('http://192.168.1.106:9000/servizi/all', {\r\n      method: \"GET\",\r\n      headers: {\r\n        'Content-type': 'application/json'\r\n      }\r\n    })\r\n    .then((result) => result.text())\r\n    .then((result) => {\r\n        this.setState({ listaServizi: JSON.parse(result) });\r\n    \r\n        if(this.state.listaServizi.status === 'error') {\r\n          this.setState({ error: true });\r\n          this.setState({ errorMessage: this.state.listaServizi.message });\r\n        }\r\n      });\r\n\r\n    this.setState({\r\n      listaServiziCasa: this.state.servizi.replace(/\\s*,\\s*/g, \",\").split(',')\r\n    })\r\n  }\r\n\r\n  setShowSucc = (e) => {\r\n    this.setState({ success: e })\r\n  }\r\n\r\n  setShowErr = (e) => {\r\n    this.setState({ error: e })\r\n  }\r\n  \r\n  onChange = (e) => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  }\r\n\r\n  onChangeFoto = (e) => {\r\n    this.setState({ [e.target.name]: URL.createObjectURL(e.target.files[0]) })\r\n    this.setState({ [e.target.id]: e.target.files[0] });\r\n  }\r\n\r\n  onChangeServizi = (e) => {\r\n    if(e.target.checked) {\r\n      this.setState({\r\n        listaServiziCasa: [...new Set(this.state.listaServiziCasa.concat(e.target.id).sort())]\r\n      });\r\n    }\r\n    else {\r\n      var filtraServizi = this.state.listaServiziCasa.filter(servizio => servizio !== e.target.id);\r\n\r\n      this.setState({\r\n        listaServiziCasa: filtraServizi\r\n      });\r\n    }\r\n  }\r\n\r\n  onSubmitInsert = (e) => {\r\n    e.preventDefault();\r\n\r\n    const data1 = {\r\n      nome_proprieta: this.state.nome_proprieta,\r\n      indirizzo: this.state.indirizzo,\r\n      localita: this.state.localita,\r\n      provincia: this.state.provincia,\r\n      tipo_proprieta: 'cv',\r\n      servizi: this.state.listaServiziCasa,\r\n      ref_proprietario: this.state.ref_proprietario,\r\n      descrizione: this.state.descrizione\r\n    }\r\n\r\n    fetch('http://192.168.1.106:9000/insertProprieta/new', {\r\n      method: \"POST\",\r\n      headers:{\r\n        'Content-type': 'application/json'\r\n      },\r\n      body: JSON.stringify(data1)\r\n    })\r\n    .then((result) => result.text())\r\n    .then((result) => {\r\n      try {\r\n        this.setState({ apiResponse: JSON.parse(result) });\r\n        \r\n        var res = JSON.parse(result);\r\n      } catch (error) {\r\n        this.setState({ apiResponse: result });\r\n        \r\n        var res = result;\r\n\r\n        this.setState({ empty: true });\r\n            }\r\n\r\n\r\n      if(res.length < 1 || (res.code && res.code === 404)) {\r\n        this.setState({ empty: true, errorMessage: res.message });\r\n      }\r\n\r\n      else if(this.state.apiResponse.status === 'error') {\r\n        window.scrollTo(0, 0);\r\n        this.setState({ error: true });\r\n        this.setState({ errorMessage: this.state.apiResponse.message });\r\n      }\r\n\r\n      const data2 = {\r\n        ref_proprieta_cv: this.state.apiResponse.insertId,\r\n        posti_letto: this.state.posti_letto,\r\n        tariffa_casa : this.state.tariffa_casa\r\n      };\r\n\r\n      this.setState({\r\n        fileName1: data2.ref_proprieta_cv + \"_1.jpg\",\r\n        fileName2: data2.ref_proprieta_cv + \"_2.jpg\",\r\n        fileName3: data2.ref_proprieta_cv + \"_3.jpg\",\r\n        fileName4: data2.ref_proprieta_cv + \"_4.jpg\",\r\n      });\r\n\r\n      fetch('http://192.168.1.106:9000/insertCasa/new',{\r\n        method: \"POST\",\r\n        headers: {\r\n          'Content-type': 'application/json'\r\n        },\r\n        body: JSON.stringify(data2)\r\n      })\r\n      .then((result) => result.text())\r\n      .then((result) => {\r\n        this.setState({ apiResponse: result });\r\n\r\n        var res = JSON.parse(result);\r\n\r\n        if(res.length < 1 || (res.code && res.code === 404)) {\r\n          this.setState({ empty: true, errorMessage: res.message });\r\n        }\r\n\r\n        else if(this.state.apiResponse.status === 'error') {\r\n          window.scrollTo(0, 0);\r\n          this.setState({ error: true });\r\n          this.setState({ errorMessage: this.state.apiResponse.message });\r\n        }\r\n        else { \r\n          var form = new FormData();\r\n          form.append(\"foto1\", this.state.foto1, this.state.fileName1);\r\n          form.append(\"foto2\", this.state.foto2, this.state.fileName2);\r\n          form.append(\"foto3\", this.state.foto3, this.state.fileName3);\r\n          form.append(\"foto4\", this.state.foto4, this.state.fileName4);\r\n      \r\n          fetch('http://192.168.1.106:9000/uploadFotoCV/upload', {\r\n              method: \"POST\",\r\n              body: form\r\n          })\r\n          .then((result) => result.text())\r\n          .then((result) => {\r\n            this.setState({ apiResponse: result });\r\n\r\n            var res = JSON.parse(result);\r\n\r\n            if(res.length < 1 || (res.code && res.code === 404)) {\r\n              this.setState({ empty: true, errorMessage: res.message });\r\n            }\r\n      \r\n            else if(this.state.apiResponse.status === 'error') {\r\n              window.scrollTo(0, 0);\r\n              this.setState({ error: true });\r\n              this.setState({ errorMessage: this.state.apiResponse.message });\r\n            }\r\n            else {\r\n              localStorage.setObj('user_data', this.state.apiResponse);\r\n              window.scrollTo(0, 0);\r\n              this.setState({ success: true, error: false },()=>{\r\n                  window.setTimeout(()=>{\r\n                    this.setState({success:false})\r\n                  }, 3000)\r\n              })\r\n            }\r\n            \r\n        });\r\n      }\r\n    });\r\n  });\r\n  \r\n  }\r\n\r\n  aggiungiServizio = (e) => {\r\n    if(this.state.nuovoServizio !== '') {\r\n\r\n      const data = {\r\n        servizio: this.state.nuovoServizio\r\n      }\r\n\r\n      fetch('http://192.168.1.106:9000/insertServizio/new', {\r\n        method: \"POST\",\r\n        headers:{\r\n          'Content-type': 'application/json'\r\n        },\r\n        body: JSON.stringify(data)\r\n      })\r\n      .then((result) => result.text())\r\n      .then((result) => {\r\n        try {\r\n        this.setState({ apiResponse: JSON.parse(result) });\r\n        \r\n        var res = JSON.parse(result);\r\n      } catch (error) {\r\n        this.setState({ apiResponse: result });\r\n        \r\n        var res = result;\r\n\r\n        this.setState({ empty: true });\r\n      }\r\n\r\n        var res = JSON.parse(result);\r\n\r\n        if(res.length < 1 || (res.code && res.code === 404)) {\r\n          this.setState({ empty: true, errorMessage: res.message });\r\n        }\r\n\r\n        if(this.state.apiResponse.status === 'error') {\r\n          this.setState({ error: true });\r\n          this.setState({ errorMessage: this.state.apiResponse.message });\r\n        }\r\n\r\n        window.location.reload();\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if(!localStorage.getItem('logged') || !localStorage.getItem('proprietario')) {\r\n      return <Redirect\r\n          to={{\r\n              pathname: \"/ErrorPage\",\r\n              state: { \r\n                error: true,\r\n                errorMessage: \"Utente non autorizzato\" \r\n              }\r\n          }}\r\n      />\r\n    }\r\n    else if(this.state.empty) {\r\n      return (\r\n        <div className = \"containerNew\">  \r\n            <div className = \"contentNew\">\r\n              <p>Si è verificato un errore: {this.state.errorMessage}</p>\r\n              <Link to=\"/InserimentoProprietà\">Torna indietro</Link>\r\n            </div>\r\n        </div>\r\n  );\r\n    }\r\n    else {\r\n      return (\r\n            <div className = \"containerNew\">  \r\n            <>\r\n            <Alert show={this.state.success} variant=\"success\">\r\n            <Alert.Heading style = {{fontWeight: 'bold'}}>Inserimento avvenuto con successo!</Alert.Heading>\r\n            <p>\r\n              Le informazioni della tua nuova casa vacanza sono state correttamente caricate e memorizzate all'interno del sistema.\r\n            </p>\r\n            <hr />\r\n            <div className=\"d-flex justify-content-end\">\r\n                <Button onClick={() => this.setShowSucc(false)} variant=\"outline-success\">\r\n                <span style = {{fontWeight: 'bold'}}>Ok</span>\r\n                </Button>\r\n            </div>\r\n            </Alert>\r\n          </>\r\n            <>\r\n                <Alert show={this.state.error} variant=\"danger\">\r\n                <Alert.Heading style = {{fontWeight: 'bold'}}>Inserimento non avvenuto!</Alert.Heading>\r\n                <p>\r\n                  Si è verificato un errore nell'inserimento dei dati, riprovare.\r\n                </p>\r\n                <hr />\r\n                <div className=\"d-flex justify-content-end\">\r\n                    <Button onClick={() => this.setShowErr(false)} variant=\"outline-success\">\r\n                    <span style = {{fontWeight: 'bold'}}>Ok</span>\r\n                    </Button>\r\n                </div>\r\n                </Alert>\r\n            </>\r\n                <div className = \"contentNew\">\r\n                    <form onSubmit = {this.onSubmitInsert}>\r\n                    <h2>Compila questo form per inserire la tua casa vacanza!</h2>\r\n               <label htmlFor = \"nome_proprieta\">Nome</label>\r\n              <input\r\n                type = \"text\"\r\n                id = \"nome_proprieta\"\r\n                name = \"nome_proprieta\"\r\n                placeholder = \"Nome casa vacanza\"\r\n                onChange = {this.onChange}\r\n                className = \"i\"\r\n                required\r\n              />\r\n  \r\n              <label htmlFor = \"localita\">Città</label>\r\n              <input\r\n                type = \"text\"\r\n                id = \"localita\"\r\n                name = \"localita\"\r\n                placeholder = \"Città casa vacanza\"\r\n                onChange = {this.onChange}\r\n                className = \"i\"\r\n                required\r\n              />\r\n  \r\n              <label htmlFor = \"indirizzo\">Indirizzo</label>\r\n              <input\r\n                type = \"text\"\r\n                id = \"indirizzo\"\r\n                name = \"indirizzo\"\r\n                placeholder= \"Indirizzo casa vacanza\"\r\n                onChange = {this.onChange}\r\n                className = \"i\"\r\n                required\r\n              />\r\n              \r\n              <label htmlFor = \"provincia\">Provincia</label>\r\n              <input\r\n                type = \"text\"\r\n                id = \"provincia\"\r\n                name = \"provincia\"\r\n                placeholder = \"Provincia casa vacanza\"\r\n                onChange = {this.onChange}\r\n                className = \"i\"\r\n                required\r\n              />\r\n              <Form.Row>\r\n                      <Form.Group as={Col} controlId=\"formGridState\">\r\n                        <Form.Label>Servizi</Form.Label>\r\n                          {this.state.listaServizi.map(item => {\r\n                            return(\r\n                              <div>\r\n                                <Form.Check\r\n                                  type=\"checkbox\"\r\n                                  name={item.servizio}\r\n                                  id={item.servizio}\r\n                                  onChange={this.onChangeServizi}\r\n                                  label = {item.servizio}\r\n                                  defaultChecked = {this.state.listaServiziCasa.includes(item.servizio) ? \"true\" : \"\"}\r\n                                />\r\n                              </div>\r\n                            )\r\n                          })}\r\n                      </Form.Group>\r\n                    </Form.Row>\r\n                    <Form.Group controlId=\"exampleForm.ControlTextarea1\">\r\n                    <Form.Label>Inserisci servizio aggiuntivo</Form.Label>\r\n                     <Form.Control as=\"textarea\" rows={1} id = 'nuovoServizio' name = 'nuovoServizio' onChange = {this.onChange} className=\"i\" />\r\n                     </Form.Group>\r\n                    <button className=\"bottoniAggiungiServizio\" onClick = {this.aggiungiServizio}>\r\n                      Aggiungi servizio\r\n                    </button>\r\n                    <br />\r\n                    <br />\r\n            \r\n                  <label htmlFor = \"descrizione\">Descrizione</label>\r\n              <input\r\n                type = \"text\"\r\n                id = \"descrizione\"\r\n                name = \"descrizione\"\r\n                placeholder = \"Descrizione casa vacanza\"\r\n                onChange = {this.onChange}\r\n                className = \"i\"\r\n                required\r\n              />\r\n                    <label htmlFor = \"tariffa_casa\">Tariffa</label>\r\n                    <input\r\n                        type = \"text\"\r\n                        pattern = \"^\\d+(.\\d{1,2})?$\"\r\n                        title = \"Inserire un valore numerico usando un punto per i valori decimali\"\r\n                        id = \"tariffa_casa\"\r\n                        name = \"tariffa_casa\"\r\n                        placeholder = \"Tariffa casa vacanza\"\r\n                        onChange = {this.onChange}\r\n                        className = \"i\"\r\n                    />   \r\n                    <Form.Group controlId = \"posti_Letto\" id = 'posti_letto' name = 'posti_letto' className=\"flex-col22\">\r\n                      <Form.Label>Posti Letto</Form.Label>\r\n                      <select \r\n                        id = 'posti_letto'\r\n                        name = 'posti_letto'\r\n                        defaultValue = '1'\r\n                        as = \"select\"   \r\n                        onChange = {this.onChange}  \r\n                        className = 'i'\r\n                      >\r\n                        <option>1</option>\r\n                        <option>2</option>\r\n                        <option>3</option>\r\n                        <option>4</option>\r\n                        <option>5</option>\r\n                        <option>6</option>\r\n                        <option>7</option>\r\n                        <option>8</option>\r\n                        </select>\r\n                    </Form.Group>     \r\n                    <Form.Group>\r\n                        <label>Inserisci delle foto della tua struttura</label>\r\n                        <Form.Row className = \"justify-content-center\">\r\n                        <input\r\n                        type = \"file\"\r\n                        id = \"foto1\"\r\n                        name = \"foto1SRC\"\r\n                        onChange = {this.onChangeFoto}\r\n                        className = \"inputImg\"\r\n                        accept = \"image/*\"\r\n                        required\r\n                        />\r\n                        <img src = {this.state.foto1SRC} alt = \"Foto 1\" ></img>\r\n                        <input\r\n                        type = \"file\"\r\n                        id = \"foto2\"\r\n                        name = \"foto2SRC\"\r\n                        onChange = {this.onChangeFoto}\r\n                        className = \"inputImg\"\r\n                        accept = \"image/*\"\r\n                        required\r\n                        />\r\n                        <img src = {this.state.foto2SRC} alt = \"Foto 2\" ></img>\r\n                        <input\r\n                        type = \"file\"\r\n                        id = \"foto3\"\r\n                        name = \"foto3SRC\"\r\n                        onChange = {this.onChangeFoto}\r\n                        className = \"inputImg\"\r\n                        accept = \"image/*\"\r\n                        required\r\n                        />\r\n                        <img src = {this.state.foto3SRC} alt = \"Foto 3\" ></img>\r\n                        <input\r\n                        type = \"file\"\r\n                        id = \"foto4\"\r\n                        name = \"foto4SRC\"\r\n                        onChange = {this.onChangeFoto}\r\n                        className = \"inputImg\"\r\n                        accept = \"image/*\"\r\n                        required\r\n                        />\r\n                        <img src = {this.state.foto4SRC} alt = \"Foto 4\" ></img>\r\n                        <button className=\"bottoniScelta\" type=\"submit\">\r\n                          Carica\r\n                        </button>\r\n                    </Form.Row>\r\n                    </Form.Group>\r\n                    <Link to=\"/InserimentoProprietà\">Torna indietro</Link>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n      );}\r\n    }\r\n}\r\n\r\nexport default InserimentoCasaVacanza;"]},"metadata":{},"sourceType":"module"}