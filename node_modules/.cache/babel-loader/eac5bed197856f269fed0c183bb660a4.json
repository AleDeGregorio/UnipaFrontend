{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alexd\\\\Documents\\\\Progetto-Unipa\\\\Frontend\\\\src\\\\Autenticazione\\\\secondaAutenticazioneRegistratiProprietario.js\";\nimport React from 'react';\nimport { Form, Col, Button } from 'react-bootstrap'; //import { Row } from 'react-bootstrap\n\nimport { Link } from 'react-router-dom';\nimport './secondaAutenticazione.css';\nimport { Redirect } from 'react-router-dom';\n\nclass SecondaAutenticazioneRegistratiProprietario extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.onSubmitInsert = e => {\n      e.preventDefault();\n      const data = {\n        email: this.state.email,\n        password: this.state.password,\n        nome: this.state.nome,\n        cognome: this.state.cognome,\n        nascita: this.state.nascita,\n        num_documento: this.state.num_documento,\n        telefono: this.state.telefono\n      };\n      fetch('http://localhost:9000/insertProprietario/new', {\n        method: \"POST\",\n        headers: {\n          'Content-type': 'application/json'\n        },\n        body: JSON.stringify(data)\n      }).then(result => result.text()).then(result => {\n        this.setState({\n          apiResponse: JSON.parse(result)\n        });\n\n        if (this.state.apiResponse.status === 'error') {\n          this.setState({\n            error: true\n          });\n          this.setState({\n            errorMessage: this.state.apiResponse.message\n          });\n        } else {\n          this.setState({\n            success: true\n          });\n        }\n      });\n    };\n\n    this.state = {\n      email: '',\n      password: '',\n      nome: '',\n      cognome: '',\n      nascita: '',\n      num_documento: '',\n      telefono: '',\n      apiResponse: [],\n      error: false,\n      errorMessage: '',\n      success: false\n    };\n  }\n\n  render() {\n    if (this.state.success) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"Errore\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }\n      }, \"Registrazione avvenuta con successo!\"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }\n      }, \"Effettua pure il login, e comincia a navigare dove preferisci\"));\n    } else if (this.state.error) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: {\n          pathname: \"/ErrorPage\",\n          state: {\n            error: true,\n            errorMessage: this.state.errorMessage\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 20\n        }\n      });\n    } else {\n      return /*#__PURE__*/React.createElement(Form, {\n        className: \"contenitoreAutenticazione\",\n        onSubmit: this.props.onSubmitInsert,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"contentNewCheckAutenticazione\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 25\n        }\n      }, \"Iscriviti\"), /*#__PURE__*/React.createElement(Form.Group, {\n        as: Col,\n        controlId: \"formGridName\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Form.Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 29\n        }\n      }, \"Nome\"), /*#__PURE__*/React.createElement(Form.Control, {\n        type: \"name\",\n        placeholder: \"Nome\",\n        id: \"nome\",\n        name: \"nome\",\n        onChange: this.onChange,\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(Form.Group, {\n        as: Col,\n        controlId: \"formGridSurname\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Form.Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 29\n        }\n      }, \"Cognome\"), /*#__PURE__*/React.createElement(Form.Control, {\n        type: \"surname\",\n        placeholder: \"Cognome\",\n        id: \"cognome\",\n        name: \"cognome\",\n        onChange: this.onChange,\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(Form.Group, {\n        as: Col,\n        controlId: \"formGridEmail\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Form.Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 29\n        }\n      }, \"E-mail\"), /*#__PURE__*/React.createElement(Form.Control, {\n        type: \"email\",\n        placeholder: \"E-mail\",\n        id: \"email\",\n        name: \"email\",\n        onChange: this.onChange,\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(Form.Group, {\n        as: Col,\n        controlId: \"formGridPassword\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Form.Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 29\n        }\n      }, \"Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n        type: \"password\",\n        placeholder: \"Password\",\n        id: \"password\",\n        name: \"password\",\n        onChange: this.onChange,\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(Form.Group, {\n        as: Col,\n        controlId: \"formGridIndirizzo\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Form.Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 29\n        }\n      }, \"Telefono\"), /*#__PURE__*/React.createElement(Form.Control, {\n        type: \"tel\",\n        placeholder: \"Telefono\",\n        id: \"telefono\",\n        name: \"telefono\",\n        onChange: this.onChange,\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(Form.Group, {\n        as: Col,\n        controlId: \"formGridIndirizzo\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Form.Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 29\n        }\n      }, \"Numero documento\"), /*#__PURE__*/React.createElement(Form.Control, {\n        type: \"tel\",\n        placeholder: \"Numero documento\",\n        id: \"num_documento\",\n        name: \"num_documento\",\n        onChange: this.onChange,\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(Form.Group, {\n        as: Col,\n        controlId: \"formGridCap\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Form.Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 29\n        }\n      }, \"Data di nascita\"), /*#__PURE__*/React.createElement(Form.Control, {\n        type: \"date\",\n        required: true,\n        className: \"inputSignUp\",\n        onChange: this.onChange,\n        id: \"nascita\",\n        name: \"nascita\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 29\n        }\n      })), /*#__PURE__*/React.createElement(Link, {\n        to: \"/secondaAutenticazioneRegistrati\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 25\n        }\n      }, \"Torna indietro\")), /*#__PURE__*/React.createElement(Button, {\n        variant: \"primary\",\n        className: \"pulsante\",\n        onClick: this.onSubmitInsert,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 21\n        }\n      }, \"Registrati\"));\n    }\n  }\n\n}\n\nexport default SecondaAutenticazioneRegistratiProprietario;","map":{"version":3,"sources":["C:/Users/alexd/Documents/Progetto-Unipa/Frontend/src/Autenticazione/secondaAutenticazioneRegistratiProprietario.js"],"names":["React","Form","Col","Button","Link","Redirect","SecondaAutenticazioneRegistratiProprietario","Component","constructor","props","onChange","e","setState","target","name","value","onSubmitInsert","preventDefault","data","email","state","password","nome","cognome","nascita","num_documento","telefono","fetch","method","headers","body","JSON","stringify","then","result","text","apiResponse","parse","status","error","errorMessage","message","success","render","pathname"],"mappings":"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","sourcesContent":["import React from 'react';    \r\nimport {Form, Col, Button} from 'react-bootstrap'\r\n//import { Row } from 'react-bootstrap\r\nimport {Link} from 'react-router-dom'\r\nimport './secondaAutenticazione.css'\r\n\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nclass SecondaAutenticazioneRegistratiProprietario extends React.Component {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            email: '',\r\n            password: '',\r\n            nome: '',\r\n            cognome: '',\r\n            nascita: '',\r\n            num_documento: '',\r\n            telefono: '',\r\n            apiResponse: [],\r\n            error:false,\r\n            errorMessage:'',\r\n            success: false\r\n        };\r\n    }\r\n\r\n    onChange = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value });\r\n    }\r\n\r\n    onSubmitInsert = (e) => {\r\n        e.preventDefault();\r\n\r\n        const data = {\r\n            email: this.state.email,\r\n            password: this.state.password,\r\n            nome: this.state.nome,\r\n            cognome: this.state.cognome,\r\n            nascita: this.state.nascita,\r\n            num_documento: this.state.num_documento,\r\n            telefono: this.state.telefono\r\n        }\r\n\r\n        fetch('http://localhost:9000/insertProprietario/new', {\r\n            method: \"POST\",\r\n            headers: {\r\n                'Content-type' : 'application/json'\r\n            },\r\n            body: JSON.stringify(data)\r\n        })\r\n        .then((result) => result.text())\r\n        .then((result)=>{\r\n            this.setState({ apiResponse:JSON.parse(result) });\r\n\r\n            if(this.state.apiResponse.status === 'error') {\r\n                this.setState({ error: true });\r\n                this.setState({ errorMessage: this.state.apiResponse.message });\r\n            }\r\n            else {\r\n                this.setState({ success: true })\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        if(this.state.success) {\r\n            return (\r\n                <div className = 'Errore'>\r\n                    <h1>Registrazione avvenuta con successo!</h1>\r\n                    <p>Effettua pure il login, e comincia a navigare dove preferisci</p>\r\n                </div>\r\n            );\r\n        }\r\n        else if (this.state.error) {\r\n            return <Redirect \r\n            to = {{\r\n              pathname: \"/ErrorPage\",\r\n              state: {\r\n                error: true,\r\n                errorMessage: this.state.errorMessage\r\n              }\r\n            }}\r\n          />\r\n        }\r\n        else {\r\n            return (\r\n                <Form className=\"contenitoreAutenticazione\" onSubmit={this.props.onSubmitInsert}>\r\n                    <div className=\"contentNewCheckAutenticazione\">\r\n                        <h2>Iscriviti</h2>\r\n\r\n                        <Form.Group as={Col} controlId=\"formGridName\">\r\n                            <Form.Label>Nome</Form.Label>\r\n                            <Form.Control \r\n                                type = \"name\" \r\n                                placeholder = \"Nome\" \r\n                                id = 'nome'\r\n                                name = 'nome'\r\n                                onChange = {this.onChange} \r\n                                required \r\n                            />\r\n                        </Form.Group>\r\n\r\n                        <Form.Group as={Col} controlId=\"formGridSurname\">\r\n                            <Form.Label>Cognome</Form.Label>\r\n                            <Form.Control \r\n                                type = \"surname\" \r\n                                placeholder = \"Cognome\" \r\n                                id = 'cognome'\r\n                                name = 'cognome'\r\n                                onChange = {this.onChange} \r\n                                required\r\n                            />\r\n                        </Form.Group>\r\n\r\n                        <Form.Group as={Col} controlId=\"formGridEmail\">\r\n                            <Form.Label>E-mail</Form.Label>\r\n                            <Form.Control \r\n                                type = \"email\" \r\n                                placeholder = \"E-mail\" \r\n                                id = 'email'\r\n                                name = 'email'\r\n                                onChange = {this.onChange} \r\n                                required \r\n                            />\r\n                        </Form.Group>\r\n\r\n                        <Form.Group as={Col} controlId=\"formGridPassword\">\r\n                            <Form.Label>Password</Form.Label>\r\n                            <Form.Control \r\n                                type = \"password\" \r\n                                placeholder = \"Password\" \r\n                                id = 'password'\r\n                                name = 'password'\r\n                                onChange = {this.onChange} \r\n                                required\r\n                            />\r\n                        </Form.Group>\r\n\r\n                        <Form.Group as={Col} controlId=\"formGridIndirizzo\">\r\n                            <Form.Label>Telefono</Form.Label>\r\n                            <Form.Control \r\n                                type = \"tel\" \r\n                                placeholder = \"Telefono\" \r\n                                id = 'telefono'\r\n                                name = 'telefono'\r\n                                onChange = {this.onChange} \r\n                                required\r\n                            />\r\n                        </Form.Group>\r\n\r\n                        <Form.Group as={Col} controlId=\"formGridIndirizzo\">\r\n                            <Form.Label>Numero documento</Form.Label>\r\n                            <Form.Control \r\n                                type = \"tel\" \r\n                                placeholder = \"Numero documento\" \r\n                                id = 'num_documento'\r\n                                name = 'num_documento'\r\n                                onChange = {this.onChange} \r\n                                required\r\n                            />\r\n                        </Form.Group>\r\n\r\n                        <Form.Group as={Col} controlId=\"formGridCap\">\r\n                            <Form.Label>Data di nascita</Form.Label>\r\n                            <Form.Control \r\n                                type=\"date\" \r\n                                required \r\n                                className=\"inputSignUp\" \r\n                                onChange={this.onChange} \r\n                                id = 'nascita'\r\n                                name = 'nascita'\r\n                            />\r\n                        </Form.Group>\r\n\r\n                        <Link to=\"/secondaAutenticazioneRegistrati\">Torna indietro</Link>\r\n                    </div>\r\n                \r\n                    <Button variant=\"primary\" className=\"pulsante\" onClick = {this.onSubmitInsert}>\r\n                        Registrati\r\n                    </Button>\r\n                </Form>\r\n            );\r\n        }\r\n    }\r\n}\r\nexport default SecondaAutenticazioneRegistratiProprietario"]},"metadata":{},"sourceType":"module"}