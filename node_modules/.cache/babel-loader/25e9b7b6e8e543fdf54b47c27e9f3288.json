{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alexd\\\\Documents\\\\Progetto-Unipa\\\\Frontend\\\\src\\\\Ricerca\\\\Ricerca.js\";\nimport React from 'react';\nimport { Accordion } from 'react-bootstrap'; // eslint-disable-next-line\n\nimport DatePicker from './InputDate'; //import Dropdown from 'react-bootstrap/Dropdown'\n//import DropdownButton from 'react-bootstrap/DropdownButton'\n\nimport moment from \"moment\";\nimport { SingleDatePicker } from \"react-dates\";\nimport './Ricerca.css';\nimport { Redirect } from \"react-router-dom\";\n\nclass Ricerca extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.set_focused_checkIn = e => {\n      this.setState({\n        checkInFocus: e\n      });\n    };\n\n    this.set_focused_checkInDROP = e => {\n      this.setState({\n        checkInFocusDROP: e\n      });\n    };\n\n    this.set_focused_checkOut = e => {\n      this.setState({\n        checkOutFocus: e\n      });\n    };\n\n    this.set_focused_checkOutDROP = e => {\n      this.setState({\n        checkOutFocusDROP: e\n      });\n    };\n\n    this.setStartDate = e => {\n      this.setState({\n        startDate: e\n      });\n    };\n\n    this.setEndDate = e => {\n      this.setState({\n        endDate: e\n      });\n    };\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      var inizio = new Date(this.state.startDate.format());\n      var fine = this.state.endDate ? new Date(this.state.endDate.format()) : new Date(moment([2099]).format());\n      this.setState({\n        checkIn: inizio.toLocaleDateString(),\n        checkOut: fine.toLocaleDateString()\n      }, () => {\n        const offsetInizio = inizio.getTimezoneOffset();\n        inizio = new Date(inizio.getTime() - offsetInizio * 60 * 1000);\n        inizio = inizio.toISOString().slice(0, 10);\n        const offsetFine = fine.getTimezoneOffset();\n        fine = new Date(fine.getTime() - offsetFine * 60 * 1000);\n        fine = fine.toISOString().slice(0, 10);\n        const data = {\n          tipo: this.state.tipo,\n          localita: this.state.localita,\n          provincia: '',\n          servizi: '',\n          posti: this.state.posti ? this.state.posti : '%%',\n          costo: '',\n          checkIn: inizio,\n          checkOut: fine\n        };\n        fetch('http://localhost:9000/ricercaAlloggio/risultati', {\n          method: \"POST\",\n          headers: {\n            'Content-type': 'application/json'\n          },\n          body: JSON.stringify(data)\n        }).then(result => result.text()).then(result => {\n          try {\n            this.setState({\n              apiResponse: JSON.parse(result)\n            });\n          } catch (error) {\n            this.setState({\n              apiResponse: result\n            });\n            this.setState({\n              empty: true\n            });\n          }\n\n          if (this.state.apiResponse.status && this.state.apiResponse.status === 'error') {\n            this.setState({\n              error: true\n            });\n            this.setState({\n              errorMessage: this.state.apiResponse.message\n            });\n          } else {\n            this.setState({\n              success: true\n            });\n          }\n        });\n      });\n    };\n\n    this.state = {\n      checkInFocus: false,\n      checkInFocusDROP: false,\n      checkOutFocus: false,\n      checkOutFocusDROP: false,\n      startDate: moment(),\n      endDate: null,\n      tipo: '',\n      localita: '',\n      posti: 1,\n      checkIn: '',\n      checkOut: '',\n      apiResponse: [],\n      error: false,\n      errorMessage: '',\n      success: false\n    };\n  }\n\n  render() {\n    if (this.state.success) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: {\n          pathname: \"/RisultatiRicerca\",\n          state: {\n            case: this.state.apiResponse,\n            posti: this.state.posti,\n            checkIn: this.state.checkIn,\n            checkOut: this.state.checkOut,\n            localita: this.state.localita,\n            tipo: this.state.tipo\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 20\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"noSmartphone\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      className: \"RicercaSchermi\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"product-search\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"search-element\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      class: \"search-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 29\n      }\n    }, \"Dove\"), /*#__PURE__*/React.createElement(\"input\", {\n      class: \"search-input\",\n      type: \"text\",\n      autocomplete: \"on\",\n      placeholder: \"Dove vuoi andare?\",\n      id: \"localita\",\n      name: \"localita\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"search-element\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      class: \"search-label\",\n      htmlFor: \"start_date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 25\n      }\n    }, \"Check-in\"), /*#__PURE__*/React.createElement(SingleDatePicker, {\n      class: \"search-element\",\n      date: this.state.startDate,\n      onDateChange: date => this.setStartDate(date),\n      focused: this.state.checkInFocus,\n      onFocusChange: ({\n        focused\n      }) => this.set_focused_checkIn(focused),\n      id: \"start_date\",\n      numberOfMonths: 1,\n      placeholder: \"gg/mm/aaaa\",\n      daySize: 32,\n      hideKeyboardShortcutsPanel: true,\n      displayFormat: \"DD/MM/YYYY\",\n      block: true,\n      verticalSpacing: 8,\n      showClearDate: this.state.checkInFocus,\n      reopenPickerOnClearDate: true,\n      noBorder: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"search-element\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      class: \"search-label\",\n      htmlFor: \"end_date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 25\n      }\n    }, \"Check-out\"), /*#__PURE__*/React.createElement(SingleDatePicker, {\n      class: \"search-element\",\n      date: this.state.endDate,\n      onDateChange: date => this.setEndDate(date),\n      focused: this.state.checkOutFocus,\n      onFocusChange: ({\n        focused\n      }) => this.set_focused_checkOut(focused),\n      id: \"end_date\",\n      numberOfMonths: 1,\n      placeholder: \"gg/mm/aaaa\",\n      daySize: 32,\n      hideKeyboardShortcutsPanel: true,\n      displayFormat: \"DD/MM/YYYY\",\n      block: true,\n      isDayHighlighted: day => day.isAfter(this.state.startDate) && day.isBefore(this.state.endDate),\n      verticalSpacing: 8,\n      anchorDirection: \"right\",\n      isDayBlocked: day => day.isBefore(this.state.startDate),\n      showClearDate: this.state.checkOutFocus,\n      reopenPickerOnClearDate: true,\n      noBorder: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"search-element\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      class: \"search-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 29\n      }\n    }, \"Tipo struttura\"), /*#__PURE__*/React.createElement(\"select\", {\n      class: \"search-input\",\n      placeholder: \"Struttura\",\n      id: \"tipo\",\n      name: \"tipo\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"cv\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 33\n      }\n    }, \"Casa Vacanza\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"bb\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 33\n      }\n    }, \"B&B\"))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"search-element-ospiti\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      class: \"search-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 29\n      }\n    }, \"Ospiti\"), /*#__PURE__*/React.createElement(\"select\", {\n      class: \"search-input-ospiti\",\n      placeholder: \"Ospiti\",\n      id: \"posti\",\n      name: \"posti\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 33\n      }\n    }, \"1\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 33\n      }\n    }, \"2\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 33\n      }\n    }, \"3\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 33\n      }\n    }, \"4\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 33\n      }\n    }, \"5\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 33\n      }\n    }, \"6\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 33\n      }\n    }, \"7\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 33\n      }\n    }, \"8\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 33\n      }\n    }, \"9\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 33\n      }\n    }, \"10\"))), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      class: \"search-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 25\n      }\n    }, \"Ricerca\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ricercaDrop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Accordion, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Accordion.Toggle, {\n      eventKey: \"0\",\n      id: \"bottoneDrop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 21\n      }\n    }, \"Ricerca\"), /*#__PURE__*/React.createElement(Accordion.Collapse, {\n      eventKey: \"0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      className: \"RicercaSchermi\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"product-search\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"search-element\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      class: \"search-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 29\n      }\n    }, \"Dove\"), /*#__PURE__*/React.createElement(\"input\", {\n      class: \"search-input\",\n      type: \"text\",\n      autocomplete: \"on\",\n      placeholder: \"Dove vuoi andare?\",\n      id: \"localita\",\n      name: \"localita\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"search-element\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      class: \"search-label\",\n      htmlFor: \"start_date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 25\n      }\n    }, \"Check-in\"), /*#__PURE__*/React.createElement(SingleDatePicker, {\n      class: \"search-element\",\n      date: this.state.startDate,\n      onDateChange: date => this.setStartDate(date),\n      focused: this.state.checkInFocusDROP,\n      onFocusChange: ({\n        focused\n      }) => this.set_focused_checkInDROP(focused),\n      id: \"start_date\",\n      numberOfMonths: 1,\n      placeholder: \"gg/mm/aaaa\",\n      daySize: 32,\n      hideKeyboardShortcutsPanel: true,\n      displayFormat: \"DD/MM/YYYY\",\n      block: true,\n      verticalSpacing: 8,\n      showClearDate: this.state.checkInFocusDROP,\n      reopenPickerOnClearDate: true,\n      noBorder: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"search-element\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      class: \"search-label\",\n      htmlFor: \"end_date\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 25\n      }\n    }, \"Check-out\"), /*#__PURE__*/React.createElement(SingleDatePicker, {\n      class: \"search-element\",\n      date: this.state.endDate,\n      onDateChange: date => this.setEndDate(date),\n      focused: this.state.checkOutFocusDROP,\n      onFocusChange: ({\n        focused\n      }) => this.set_focused_checkOutDROP(focused),\n      id: \"end_date\",\n      numberOfMonths: 1,\n      placeholder: \"gg/mm/aaaa\",\n      daySize: 32,\n      hideKeyboardShortcutsPanel: true,\n      displayFormat: \"DD/MM/YYYY\",\n      block: true,\n      isDayHighlighted: day => day.isAfter(this.state.startDate) && day.isBefore(this.state.endDate),\n      verticalSpacing: 8,\n      anchorDirection: \"right\",\n      isDayBlocked: day => day.isBefore(this.state.startDate),\n      showClearDate: this.state.checkOutFocusDROP,\n      reopenPickerOnClearDate: true,\n      noBorder: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"search-element\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      class: \"search-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 29\n      }\n    }, \"Tipo struttura\"), /*#__PURE__*/React.createElement(\"select\", {\n      class: \"search-input\",\n      placeholder: \"Struttura\",\n      id: \"tipo\",\n      name: \"tipo\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"cv\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 33\n      }\n    }, \"Casa Vacanza\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"bb\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 33\n      }\n    }, \"B&B\"))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"search-element-ospiti\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      class: \"search-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 29\n      }\n    }, \"Ospiti\"), /*#__PURE__*/React.createElement(\"select\", {\n      class: \"search-input-ospiti\",\n      placeholder: \"Ospiti\",\n      id: \"posti\",\n      name: \"posti\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 33\n      }\n    }, \"1\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 33\n      }\n    }, \"2\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 33\n      }\n    }, \"3\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 33\n      }\n    }, \"4\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 33\n      }\n    }, \"5\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 33\n      }\n    }, \"6\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 33\n      }\n    }, \"7\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 33\n      }\n    }, \"8\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"9\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 33\n      }\n    }, \"9\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 33\n      }\n    }, \"10\"))), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      class: \"search-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 25\n      }\n    }, \"Ricerca\"))))))));\n  }\n\n}\n\nexport default Ricerca;","map":{"version":3,"sources":["C:/Users/alexd/Documents/Progetto-Unipa/Frontend/src/Ricerca/Ricerca.js"],"names":["React","Accordion","DatePicker","moment","SingleDatePicker","Redirect","Ricerca","Component","constructor","props","set_focused_checkIn","e","setState","checkInFocus","set_focused_checkInDROP","checkInFocusDROP","set_focused_checkOut","checkOutFocus","set_focused_checkOutDROP","checkOutFocusDROP","setStartDate","startDate","setEndDate","endDate","onChange","target","name","value","onSubmit","preventDefault","inizio","Date","state","format","fine","checkIn","toLocaleDateString","checkOut","offsetInizio","getTimezoneOffset","getTime","toISOString","slice","offsetFine","data","tipo","localita","provincia","servizi","posti","costo","fetch","method","headers","body","JSON","stringify","then","result","text","apiResponse","parse","error","empty","status","errorMessage","message","success","render","pathname","case","date","focused","day","isAfter","isBefore"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Accordion} from 'react-bootstrap'\r\n// eslint-disable-next-line\r\nimport DatePicker from './InputDate';\r\n//import Dropdown from 'react-bootstrap/Dropdown'\r\n//import DropdownButton from 'react-bootstrap/DropdownButton'\r\nimport moment from \"moment\";\r\nimport { SingleDatePicker } from \"react-dates\";\r\nimport './Ricerca.css'\r\n\r\nimport { Redirect } from \"react-router-dom\"\r\n\r\nclass Ricerca extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            checkInFocus: false,\r\n            checkInFocusDROP: false,\r\n            checkOutFocus: false,\r\n            checkOutFocusDROP: false,\r\n            startDate: moment(),\r\n            endDate: null,\r\n            tipo: '',\r\n            localita: '',\r\n            posti: 1,\r\n            checkIn: '',\r\n            checkOut: '',\r\n            apiResponse: [],\r\n            error: false,\r\n            errorMessage: '',\r\n            success: false\r\n        }\r\n    }\r\n\r\n    set_focused_checkIn = (e) => {\r\n        this.setState({ checkInFocus: e });\r\n    }\r\n\r\n    set_focused_checkInDROP = (e) => {\r\n        this.setState({ checkInFocusDROP: e });\r\n    }\r\n\r\n    set_focused_checkOut = (e) => {\r\n        this.setState({ checkOutFocus: e });\r\n    }\r\n\r\n    set_focused_checkOutDROP = (e) => {\r\n        this.setState({ checkOutFocusDROP: e });\r\n    }\r\n\r\n    setStartDate = (e) => {\r\n        this.setState({ startDate: e });\r\n    }\r\n\r\n    setEndDate = (e) => {\r\n        this.setState({ endDate: e });\r\n    }\r\n\r\n    onChange = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value });\r\n    }\r\n\r\n    onSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        var inizio = new Date(this.state.startDate.format());\r\n        var fine = this.state.endDate ? new Date(this.state.endDate.format()) : new Date(moment([2099]).format());\r\n\r\n        this.setState({\r\n            checkIn: inizio.toLocaleDateString(),\r\n            checkOut: fine.toLocaleDateString()\r\n        }, () => {\r\n            const offsetInizio = inizio.getTimezoneOffset();\r\n            inizio = new Date(inizio.getTime() - (offsetInizio*60*1000));\r\n            inizio = inizio.toISOString().slice(0,10);\r\n\r\n            const offsetFine = fine.getTimezoneOffset();\r\n            fine = new Date(fine.getTime() - (offsetFine*60*1000));\r\n            fine = fine.toISOString().slice(0,10);\r\n\r\n            const data = {\r\n                tipo: this.state.tipo,\r\n                localita: this.state.localita,\r\n                provincia: '',\r\n                servizi: '',\r\n                posti: this.state.posti ? this.state.posti : '%%',\r\n                costo: '',\r\n                checkIn: inizio,\r\n                checkOut: fine\r\n            };\r\n    \r\n            fetch('http://localhost:9000/ricercaAlloggio/risultati', {\r\n                method: \"POST\",\r\n                headers: {\r\n                    'Content-type': 'application/json'\r\n                },\r\n                body: JSON.stringify(data)\r\n            })\r\n            .then((result) => result.text())\r\n            .then((result) => {\r\n\r\n                try {\r\n\r\n                    this.setState({ apiResponse: JSON.parse(result) });\r\n                } catch (error) {\r\n                    this.setState({ apiResponse: result });\r\n\r\n                    this.setState({ empty: true });\r\n                }\r\n    \r\n                if(this.state.apiResponse.status && this.state.apiResponse.status === 'error') {\r\n                    this.setState({ error: true });\r\n                    this.setState({ errorMessage: this.state.apiResponse.message });\r\n                }\r\n                else {\r\n                    this.setState({ success: true })\r\n                }\r\n            });\r\n        })\r\n    }\r\n    \r\n    render() {\r\n        if(this.state.success) {\r\n\r\n            return <Redirect \r\n            to = {{\r\n              pathname: \"/RisultatiRicerca\",\r\n              state: {\r\n                case: this.state.apiResponse,\r\n                posti: this.state.posti,\r\n                checkIn: this.state.checkIn,\r\n                checkOut: this.state.checkOut,\r\n                localita: this.state.localita,\r\n                tipo: this.state.tipo\r\n              }\r\n            }}\r\n          />\r\n        }\r\n        return(\r\n            <div>\r\n                <div className=\"noSmartphone\">\r\n                <form onSubmit = {this.onSubmit} className=\"RicercaSchermi\">\r\n                    <div class=\"product-search\">\r\n                        <div class=\"search-element\">\r\n                            <label class=\"search-label\">Dove</label>\r\n                            <input class=\"search-input\" type=\"text\" autocomplete=\"on\" \r\n                                placeholder=\"Dove vuoi andare?\" id = 'localita' name=\"localita\" onChange = {this.onChange}\r\n                            >\r\n                            </input>\r\n                        </div>\r\n                        <div class=\"search-element\">\r\n                        <label class=\"search-label\" htmlFor=\"start_date\">Check-in</label>\r\n                            <SingleDatePicker\r\n                                class=\"search-element\"\r\n                                date={this.state.startDate}\r\n                                onDateChange={date => this.setStartDate(date)}\r\n                                focused={this.state.checkInFocus}\r\n                                onFocusChange={({ focused }) => this.set_focused_checkIn(focused)}\r\n                                id=\"start_date\"\r\n                                numberOfMonths={1}\r\n                                placeholder=\"gg/mm/aaaa\"\r\n                                daySize={32}\r\n                                hideKeyboardShortcutsPanel={true}\r\n                                displayFormat=\"DD/MM/YYYY\"\r\n                                block={true}\r\n                                verticalSpacing={8}\r\n                                showClearDate={this.state.checkInFocus}\r\n                                reopenPickerOnClearDate={true}\r\n                                noBorder={true}\r\n                            />\r\n                        </div>\r\n                        <div class=\"search-element\">\r\n                        <label class=\"search-label\" htmlFor=\"end_date\">Check-out</label>\r\n                            <SingleDatePicker\r\n                                class=\"search-element\"\r\n                                date={this.state.endDate}\r\n                                onDateChange={date => this.setEndDate(date)}\r\n                                focused={this.state.checkOutFocus}\r\n                                onFocusChange={({ focused }) => this.set_focused_checkOut(focused)}\r\n                                id=\"end_date\"\r\n                                numberOfMonths={1}\r\n                                placeholder=\"gg/mm/aaaa\"\r\n                                daySize={32}\r\n                                hideKeyboardShortcutsPanel={true}\r\n                                displayFormat=\"DD/MM/YYYY\"\r\n                                block={true}\r\n                                isDayHighlighted={day =>\r\n                                    day.isAfter(this.state.startDate) && day.isBefore(this.state.endDate)\r\n                                }\r\n                                verticalSpacing={8}\r\n                                anchorDirection=\"right\"\r\n                                isDayBlocked={day => day.isBefore(this.state.startDate)}\r\n                                showClearDate={this.state.checkOutFocus}\r\n                                reopenPickerOnClearDate={true}\r\n                                noBorder={true}\r\n                            />\r\n                        </div>\r\n                        <div class=\"search-element\">\r\n                            <label class=\"search-label\">Tipo struttura</label>\r\n                            <select class=\"search-input\" placeholder=\"Struttura\" id = 'tipo' name = 'tipo' onChange = {this.onChange}>\r\n                                <option></option>\r\n                                <option value=\"cv\">Casa Vacanza</option>\r\n                                <option value=\"bb\">B&B</option>\r\n                            </select>\r\n                        </div>\r\n                        <div class=\"search-element-ospiti\">\r\n                            <label class=\"search-label\">Ospiti</label>\r\n                            <select class=\"search-input-ospiti\" placeholder=\"Ospiti\" id = 'posti' name = 'posti' onChange = {this.onChange}>\r\n                                <option value=\"1\">1</option>\r\n                                <option value=\"2\">2</option>\r\n                                <option value=\"3\">3</option>\r\n                                <option value=\"4\">4</option>\r\n                                <option value=\"5\">5</option>\r\n                                <option value=\"6\">6</option>\r\n                                <option value=\"7\">7</option>\r\n                                <option value=\"8\">8</option>\r\n                                <option value=\"9\">9</option>\r\n                                <option value=\"10\">10</option>\r\n                            </select>\r\n                        </div>\r\n                        <button type=\"submit\" class=\"search-button\">Ricerca</button>\r\n                    </div>\r\n                </form>\r\n                </div>\r\n                <div className=\"ricercaDrop\">\r\n                <Accordion>\r\n                    <Accordion.Toggle eventKey=\"0\" id=\"bottoneDrop\">Ricerca</Accordion.Toggle >\r\n                    <Accordion.Collapse eventKey=\"0\">\r\n                        <div>\r\n                        <form onSubmit = {this.onSubmit} className=\"RicercaSchermi\">\r\n                    <div class=\"product-search\">\r\n                        <div class=\"search-element\">\r\n                            <label class=\"search-label\">Dove</label>\r\n                            <input class=\"search-input\" type=\"text\" autocomplete=\"on\" \r\n                                placeholder=\"Dove vuoi andare?\" id = 'localita' name=\"localita\" onChange = {this.onChange}\r\n                            >\r\n                            </input>\r\n                        </div>\r\n                        <div class=\"search-element\">\r\n                        <label class=\"search-label\" htmlFor=\"start_date\">Check-in</label>\r\n                            <SingleDatePicker\r\n                                class=\"search-element\"\r\n                                date={this.state.startDate}\r\n                                onDateChange={date => this.setStartDate(date)}\r\n                                focused={this.state.checkInFocusDROP}\r\n                                onFocusChange={({ focused }) => this.set_focused_checkInDROP(focused)}\r\n                                id=\"start_date\"\r\n                                numberOfMonths={1}\r\n                                placeholder=\"gg/mm/aaaa\"\r\n                                daySize={32}\r\n                                hideKeyboardShortcutsPanel={true}\r\n                                displayFormat=\"DD/MM/YYYY\"\r\n                                block={true}\r\n                                verticalSpacing={8}\r\n                                showClearDate={this.state.checkInFocusDROP}\r\n                                reopenPickerOnClearDate={true}\r\n                                noBorder={true}\r\n                            />\r\n                        </div>\r\n                        <div class=\"search-element\">\r\n                        <label class=\"search-label\" htmlFor=\"end_date\">Check-out</label>\r\n                            <SingleDatePicker\r\n                                class=\"search-element\"\r\n                                date={this.state.endDate}\r\n                                onDateChange={date => this.setEndDate(date)}\r\n                                focused={this.state.checkOutFocusDROP}\r\n                                onFocusChange={({ focused }) => this.set_focused_checkOutDROP(focused)}\r\n                                id=\"end_date\"\r\n                                numberOfMonths={1}\r\n                                placeholder=\"gg/mm/aaaa\"\r\n                                daySize={32}\r\n                                hideKeyboardShortcutsPanel={true}\r\n                                displayFormat=\"DD/MM/YYYY\"\r\n                                block={true}\r\n                                isDayHighlighted={day =>\r\n                                    day.isAfter(this.state.startDate) && day.isBefore(this.state.endDate)\r\n                                }\r\n                                verticalSpacing={8}\r\n                                anchorDirection=\"right\"\r\n                                isDayBlocked={day => day.isBefore(this.state.startDate)}\r\n                                showClearDate={this.state.checkOutFocusDROP}\r\n                                reopenPickerOnClearDate={true}\r\n                                noBorder={true}\r\n                            />\r\n                        </div>\r\n                        <div class=\"search-element\">\r\n                            <label class=\"search-label\">Tipo struttura</label>\r\n                            <select class=\"search-input\" placeholder=\"Struttura\" id = 'tipo' name = 'tipo' onChange = {this.onChange}>\r\n                                <option></option>\r\n                                <option value=\"cv\">Casa Vacanza</option>\r\n                                <option value=\"bb\">B&B</option>\r\n                            </select>\r\n                        </div>\r\n                        <div class=\"search-element-ospiti\">\r\n                            <label class=\"search-label\">Ospiti</label>\r\n                            <select class=\"search-input-ospiti\" placeholder=\"Ospiti\" id = 'posti' name = 'posti' onChange = {this.onChange}>\r\n                                <option value=\"1\">1</option>\r\n                                <option value=\"2\">2</option>\r\n                                <option value=\"3\">3</option>\r\n                                <option value=\"4\">4</option>\r\n                                <option value=\"5\">5</option>\r\n                                <option value=\"6\">6</option>\r\n                                <option value=\"7\">7</option>\r\n                                <option value=\"8\">8</option>\r\n                                <option value=\"9\">9</option>\r\n                                <option value=\"10\">10</option>\r\n                            </select>\r\n                        </div>\r\n                        <button type=\"submit\" class=\"search-button\">Ricerca</button>\r\n                    </div>\r\n                </form>               \r\n                        </div>\r\n                    </Accordion.Collapse>\r\n                </Accordion>                   \r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default Ricerca;"]},"metadata":{},"sourceType":"module"}