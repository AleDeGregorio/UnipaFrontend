{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\alexd\\\\Documents\\\\Progetto-Unipa\\\\Frontend\\\\src\\\\GestioneProprietario\\\\Modifica\\\\ModificaCasaVacanza.js\";\n\n/*CSS FATTO*/\nimport React from \"react\"; //import camera from \"../assets/camera.svg\";   \n\nimport { Form, Button, Accordion, Card, Col } from \"react-bootstrap\";\nimport '../InserisciProp/InserimentoProprietÃ .css';\nimport { AiOutlineEdit } from 'react-icons/ai';\nimport { Redirect } from 'react-router-dom';\n\nclass ModificaCasaVacanza extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.onChangeImg = e => {\n      this.setState({\n        [e.target.name]: URL.createObjectURL(e.target.files[0])\n      });\n      this.setState({\n        [e.target.id]: e.target.files[0]\n      });\n    };\n\n    this.onChangeServizi = e => {\n      if (e.target.checked) {\n        this.setState({\n          listaServiziCasa: [...new Set(this.state.listaServiziCasa.concat(e.target.id).sort())]\n        });\n      } else {\n        var filtraServizi = this.state.listaServiziCasa.filter(servizio => servizio !== e.target.id);\n        this.setState({\n          listaServiziCasa: filtraServizi\n        });\n      }\n    };\n\n    this.onSubmit = e => {\n      const data1 = {\n        nome_proprieta: this.state.nome_proprieta,\n        indirizzo: this.state.indirizzo,\n        localita: this.state.localita,\n        provincia: this.state.provincia,\n        tipo_proprieta: this.state.tipo_proprieta,\n        ref_proprietario: this.state.ref_proprietario,\n        descrizione: this.state.descrizione,\n        id_proprieta: this.state.id_proprieta,\n        servizi: this.state.listaServiziCasa\n      };\n      fetch('http://localhost:9000/updateProprieta/fields', {\n        method: 'POST',\n        headers: {\n          'Content-type': 'application/json'\n        },\n        body: JSON.stringify(data1)\n      }).then(result => {\n        result.text();\n      }).then(result => {\n        this.setState({\n          apiResponse: result\n        });\n        var res = result;\n\n        if (res && res.length < 1 || res && res.code && res.code === 404) {\n          this.setState({\n            empty: true,\n            errorMessage: res.message\n          });\n        } else if (this.state.apiResponse && this.state.apiResponse.status === 'error') {\n          this.setState({\n            error: true\n          });\n          this.setState({\n            errorMessage: this.state.apiResponse.message\n          });\n        } else {\n          const data2 = {\n            posti_letto: this.state.posti_letto,\n            tariffa_casa: this.state.tariffa_casa,\n            ref_proprieta_cv: this.state.ref_proprieta_cv\n          };\n          this.setState({\n            fileName1: data2.ref_proprieta_cv + \"_1.jpg\",\n            fileName2: data2.ref_proprieta_cv + \"_2.jpg\",\n            fileName3: data2.ref_proprieta_cv + \"_3.jpg\",\n            fileName4: data2.ref_proprieta_cv + \"_4.jpg\"\n          });\n          fetch('http://localhost:9000/updateCasa/fields', {\n            method: 'POST',\n            headers: {\n              'Content-type': 'application/json'\n            },\n            body: JSON.stringify(data2)\n          }).then(result => result.text()).then(result => {\n            this.setState({\n              apiResponse: result\n            });\n            var res2 = result;\n\n            if (res2 && res2.length < 1 || res2 && res2.code && res2.code === 404) {\n              this.setState({\n                empty: true,\n                errorMessage: res2.message\n              });\n            } else if (this.state.apiResponse && this.state.apiResponse.status === 'error') {\n              this.setState({\n                error: true\n              });\n              this.setState({\n                errorMessage: this.state.apiResponse.message\n              });\n            } else {\n              var form = new FormData();\n\n              if (this.state.imgCV_path1) {\n                form.append(\"foto1\", this.state.imgCV_path1, this.state.fileName1);\n              }\n\n              if (this.state.imgCV_path2) {\n                form.append(\"foto2\", this.state.imgCV_path2, this.state.fileName2);\n              }\n\n              if (this.state.imgCV_path3) {\n                form.append(\"foto3\", this.state.imgCV_path3, this.state.fileName3);\n              }\n\n              if (this.state.imgCV_path4) {\n                form.append(\"foto4\", this.state.imgCV_path4, this.state.fileName4);\n              }\n\n              fetch('http://localhost:9000/uploadFotoCV/upload', {\n                method: \"POST\",\n                body: form\n              }).then(result => result.text()).then(result => {\n                this.setState({\n                  apiResponse: result\n                });\n                var res3 = result;\n\n                if (res && res3.length < 1 || res && res3.code && res3.code === 404) {\n                  this.setState({\n                    empty: true,\n                    errorMessage: res3.message\n                  });\n                } else if (this.state.apiResponse && this.state.apiResponse.status === 'error') {\n                  this.setState({\n                    error: true\n                  });\n                  this.setState({\n                    errorMessage: this.state.apiResponse.message\n                  });\n                } else {\n                  this.setState({\n                    success: true\n                  });\n                }\n              });\n            }\n          });\n        }\n      });\n    };\n\n    this.aggiungiServizio = e => {\n      if (this.state.nuovoServizio !== '') {\n        const data = {\n          servizio: this.state.nuovoServizio\n        };\n        fetch('http://localhost:9000/insertServizio/new', {\n          method: \"POST\",\n          headers: {\n            'Content-type': 'application/json'\n          },\n          body: JSON.stringify(data)\n        }).then(result => result.text()).then(result => {\n          this.setState({\n            apiResponse: JSON.parse(result)\n          });\n          var res = JSON.parse(result);\n\n          if (res.length < 1 || res.code && res.code === 404) {\n            this.setState({\n              empty: true,\n              errorMessage: res.message\n            });\n          }\n\n          if (this.state.apiResponse.status === 'error') {\n            this.setState({\n              error: true\n            });\n            this.setState({\n              errorMessage: this.state.apiResponse.message\n            });\n          }\n\n          window.location.reload();\n        });\n      }\n    };\n\n    this.onClick = () => {\n      this.setState({\n        success: true\n      });\n    };\n\n    this.state = {\n      dati_casa: this.props.history.location.state ? this.props.history.location.state.dati_casa : '',\n      ref_proprietario: localStorage.getItem('email'),\n      id_proprieta: this.props.history.location.state ? this.props.history.location.state.dati_casa.id_proprieta : '',\n      nome_proprieta: this.props.history.location.state ? this.props.history.location.state.dati_casa.nome_proprieta : '',\n      indirizzo: this.props.history.location.state ? this.props.history.location.state.dati_casa.indirizzo : '',\n      localita: this.props.history.location.state ? this.props.history.location.state.dati_casa.localita : '',\n      provincia: this.props.history.location.state ? this.props.history.location.state.dati_casa.provincia : '',\n      tipo_proprieta: this.props.history.location.state ? this.props.history.location.state.dati_casa.tipo_proprieta : '',\n      servizi: this.props.history.location.state ? this.props.history.location.state.dati_casa.servizi : [],\n      listaServiziCasa: [],\n      listaServizi: [],\n      nuovoServizio: '',\n      descrizione: this.props.history.location.state ? this.props.history.location.state.dati_casa.descrizione : '',\n      ref_proprieta_cv: this.props.history.location.state ? this.props.history.location.state.dati_casa.ref_proprieta_cv : '',\n      posti_letto: this.props.history.location.state ? this.props.history.location.state.dati_casa.posti_letto : '',\n      tariffa_casa: this.props.history.location.state ? this.props.history.location.state.dati_casa.tariffa_casa : '',\n      imgCV_path1SRC: this.props.history.location.state ? this.props.history.location.state.dati_casa.imgCV_path1 : '',\n      imgCV_path2SRC: this.props.history.location.state ? this.props.history.location.state.dati_casa.imgCV_path2 : '',\n      imgCV_path3SRC: this.props.history.location.state ? this.props.history.location.state.dati_casa.imgCV_path3 : '',\n      imgCV_path4SRC: this.props.history.location.state ? this.props.history.location.state.dati_casa.imgCV_path4 : '',\n      imgCV_path1: null,\n      filename1: '',\n      imgCV_path2: null,\n      filename2: '',\n      imgCV_path3: null,\n      filename3: '',\n      imgCV_path4: null,\n      filename4: '',\n      apiResponse: [],\n      error: false,\n      errorMessage: '',\n      success: false,\n      empty: false\n    };\n  }\n\n  componentDidMount() {\n    fetch('http://localhost:9000/servizi/all', {\n      method: \"GET\",\n      headers: {\n        'Content-type': 'application/json'\n      }\n    }).then(result => result.text()).then(result => {\n      this.setState({\n        listaServizi: JSON.parse(result)\n      });\n\n      if (this.state.listaServizi.status === 'error') {\n        this.setState({\n          error: true\n        });\n        this.setState({\n          errorMessage: this.state.listaServizi.message\n        });\n      }\n    });\n    this.setState({\n      listaServiziCasa: this.state.servizi.replace(/\\s*,\\s*/g, \",\").split(',')\n    });\n  }\n\n  render() {\n    var casa = this.state.dati_casa;\n\n    if (!localStorage.getItem('logged') || !localStorage.getItem('proprietario')) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: {\n          pathname: \"/ErrorPage\",\n          state: {\n            error: true,\n            errorMessage: \"Utente non autorizzato\"\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 14\n        }\n      });\n    } else if (this.state.error) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: {\n          pathname: \"/ErrorPage\",\n          state: {\n            error: true,\n            errorMessage: this.state.errorMessage\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 14\n        }\n      });\n    } else if (this.state.success) {\n      alert(\"Modifiche avvenute con successo\");\n    } else if (this.state.empty) {\n      var casa = this.state.dati_casa;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"background\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"containerNew\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"contentNew\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }\n      }, \"Modifica la tua casa vacanza con le informazioni che preferisci!\"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }\n      }, \"Si \\xE8 verificato un errore: \", this.state.errorMessage))));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"background\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"containerNew\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"contentNew\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      onClick: this.onClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 9\n      }\n    }, \"Modifica la tua casa vacanza con le informazioni che preferisci!\"), /*#__PURE__*/React.createElement(Accordion, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      id: \"newStyle\",\n      border: \"light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"head-update\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 17\n      }\n    }, \"Nome: \", casa.nome_proprieta), /*#__PURE__*/React.createElement(Accordion.Toggle, {\n      as: AiOutlineEdit,\n      className: \"margin-right\",\n      variant: \"link\",\n      eventKey: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Accordion.Collapse, {\n      eventKey: \"1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"centered\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"nome_proprieta\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 19\n      }\n    }, \"Nome\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"nome_proprieta\",\n      name: \"nome_proprieta\",\n      placeholder: casa.nome_proprieta,\n      onChange: this.onChange,\n      className: \"i\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"bottoniSceltaModifica\",\n      onClick: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 19\n      }\n    }, \"Modifica nome\"))))), /*#__PURE__*/React.createElement(Card, {\n      id: \"newStyle\",\n      border: \"light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"head-update\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 15\n      }\n    }, \"Localit\\xE0: \", casa.localita, \" (\", casa.provincia, \"), \", casa.indirizzo), /*#__PURE__*/React.createElement(Accordion.Toggle, {\n      as: AiOutlineEdit,\n      className: \"margin-right\",\n      variant: \"link\",\n      eventKey: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(Accordion.Collapse, {\n      eventKey: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"centered\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"localita\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 17\n      }\n    }, \"Citt\\xE0\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"localita\",\n      name: \"localita\",\n      placeholder: \" Inserisci citt\\xE0\",\n      onChange: this.onChange,\n      className: \"i\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"indirizzo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 15\n      }\n    }, \"Indirizzo\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"indirizzo\",\n      name: \"indirizzo\",\n      placeholder: \" Inserisci indirizzo\",\n      onChange: this.onChange,\n      className: \"i\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"provincia\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 15\n      }\n    }, \"Provincia\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"provincia\",\n      name: \"provincia\",\n      placeholder: \" Inserisci Provincia (Due lettere)\",\n      onChange: this.onChange,\n      className: \"i\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"bottoniSceltaModifica\",\n      onClick: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 17\n      }\n    }, \"Modifica localit\\xE0\"))))), /*#__PURE__*/React.createElement(Card, {\n      id: \"newStyle\",\n      border: \"light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"head-update\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 15\n      }\n    }, \"Servizi offerti: \", casa.servizi), /*#__PURE__*/React.createElement(Accordion.Toggle, {\n      as: AiOutlineEdit,\n      className: \"margin-right\",\n      variant: \"link\",\n      eventKey: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(Accordion.Collapse, {\n      eventKey: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form.Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      className: \"centered\",\n      as: Col,\n      controlId: \"formGridState\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 23\n      }\n    }, \"Servizi\"), this.state.listaServizi.map(item => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Form.Check, {\n        type: \"checkbox\",\n        name: item.servizio,\n        id: item.servizio,\n        onChange: this.onChangeServizi,\n        label: item.servizio,\n        defaultChecked: this.state.listaServiziCasa.includes(item.servizio) ? \"true\" : \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 31\n        }\n      }));\n    }))), /*#__PURE__*/React.createElement(Form.Group, {\n      className: \"centered\",\n      controlId: \"exampleForm.ControlTextarea1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 19\n      }\n    }, \"Aggiungi servizio\"), /*#__PURE__*/React.createElement(Form.Control, {\n      as: \"textarea\",\n      rows: 1,\n      id: \"nuovoServizio\",\n      name: \"nuovoServizio\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"bottoniSceltaModifica\",\n      onClick: this.aggiungiServizio,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 21\n      }\n    }, \"Aggiungi servizio\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"bottoniSceltaModifica\",\n      onClick: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 19\n      }\n    }, \"Cambia servizi\"))))), /*#__PURE__*/React.createElement(Card, {\n      id: \"newStyle\",\n      border: \"light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"head-update\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 15\n      }\n    }, \" Descrizione: \"), /*#__PURE__*/React.createElement(Accordion.Toggle, {\n      as: AiOutlineEdit,\n      className: \"margin-right\",\n      variant: \"link\",\n      eventKey: \"4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(Accordion.Collapse, {\n      eventKey: \"4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"centered\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"descrizione\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 19\n      }\n    }, \"Descrizione attuale: \", casa.descrizione), /*#__PURE__*/React.createElement(\"textarea\", {\n      id: \"descrizione\",\n      name: \"descrizione\",\n      placeholder: \"Inserisci descrizione\",\n      onChange: this.onChange,\n      className: \"iTA\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"bottoniSceltaModifica\",\n      onClick: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 15\n      }\n    }, \"Modifica Descrizione\"))))), /*#__PURE__*/React.createElement(Card, {\n      id: \"newStyle\",\n      border: \"light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"head-update\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 437,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 438,\n        columnNumber: 17\n      }\n    }, \"Posti letto: \", casa.posti_letto), /*#__PURE__*/React.createElement(Accordion.Toggle, {\n      as: AiOutlineEdit,\n      className: \"margin-right\",\n      variant: \"link\",\n      eventKey: \"5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Accordion.Collapse, {\n      eventKey: \"5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 443,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      className: \"centered\",\n      id: \"posti_letto\",\n      name: \"posti_letto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 445,\n        columnNumber: 3\n      }\n    }, \"Posti Letto\"), /*#__PURE__*/React.createElement(Form.Control, {\n      id: \"posti_letto\",\n      name: \"posti_letto\",\n      defaultValue: casa.posti_letto,\n      as: \"select\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 446,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 5\n      }\n    }, \"1\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 5\n      }\n    }, \"2\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 5\n      }\n    }, \"3\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 456,\n        columnNumber: 5\n      }\n    }, \"4\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 457,\n        columnNumber: 5\n      }\n    }, \"5\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 458,\n        columnNumber: 5\n      }\n    }, \"6\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 459,\n        columnNumber: 5\n      }\n    }, \"7\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 5\n      }\n    }, \"8\")), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"bottoniSceltaModifica\",\n      onClick: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 462,\n        columnNumber: 5\n      }\n    }, \"Modifica posti letto\"))))), /*#__PURE__*/React.createElement(Card, {\n      id: \"newStyle\",\n      border: \"light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 469,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"head-update\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 470,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 471,\n        columnNumber: 15\n      }\n    }, \"Tariffa attuale : \", casa.tariffa_casa), /*#__PURE__*/React.createElement(Accordion.Toggle, {\n      as: AiOutlineEdit,\n      className: \"margin-right\",\n      variant: \"link\",\n      eventKey: \"6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(Accordion.Collapse, {\n      eventKey: \"6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 474,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 475,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"centered\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"tariffa_casa\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 477,\n        columnNumber: 19\n      }\n    }, \"Prezzo\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      pattern: \"^\\\\d+(.\\\\d{1,2})?$\",\n      title: \"Inserire un valore numerico usando un punto per i valori decimali\",\n      id: \"tariffa_casa\",\n      name: \"tariffa_casa\",\n      placeholder: \"Inserisci tariffa casa usando un punto per i valori decimali\",\n      onChange: this.onChange,\n      className: \"i\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 478,\n        columnNumber: 1\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"bottoniSceltaModifica\",\n      onClick: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 488,\n        columnNumber: 13\n      }\n    }, \"cambia tariffa\"))))), /*#__PURE__*/React.createElement(Card, {\n      id: \"newStyle\",\n      border: \"light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 495,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"head-update\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 496,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 497,\n        columnNumber: 15\n      }\n    }, \"Modifica foto\"), /*#__PURE__*/React.createElement(Accordion.Toggle, {\n      as: AiOutlineEdit,\n      className: \"margin-right\",\n      variant: \"link\",\n      eventKey: \"7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 498,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(Accordion.Collapse, {\n      eventKey: \"7\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 500,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 501,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      className: \"centered\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 502,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 503,\n        columnNumber: 3\n      }\n    }, \"Modifica le foto della tua struttura\"), /*#__PURE__*/React.createElement(Form.Row, {\n      className: \"centered\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 504,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"imgCV_path1\",\n      name: \"imgCV_path1SRC\",\n      onChange: this.onChangeImg,\n      type: \"file\",\n      className: \"inputImg\",\n      accept: \"image/*\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 505,\n        columnNumber: 3\n      }\n    }), /*#__PURE__*/React.createElement(\"img\", {\n      src: this.state.imgCV_path1SRC,\n      alt: \"Foto 1 \" + this.state.nome_proprieta,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 513,\n        columnNumber: 3\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"imgCV_path2\",\n      name: \"imgCV_path2SRC\",\n      onChange: this.onChangeImg,\n      type: \"file\",\n      className: \"inputImg\",\n      accept: \"image/*\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 514,\n        columnNumber: 3\n      }\n    }), /*#__PURE__*/React.createElement(\"img\", {\n      src: this.state.imgCV_path2SRC,\n      alt: \"Foto 2 \" + this.state.nome_proprieta,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 522,\n        columnNumber: 3\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"imgCV_path3\",\n      name: \"imgCV_path3SRC\",\n      onChange: this.onChangeImg,\n      type: \"file\",\n      className: \"inputImg\",\n      accept: \"image/*\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 523,\n        columnNumber: 1\n      }\n    }), /*#__PURE__*/React.createElement(\"img\", {\n      src: this.state.imgCV_path3SRC,\n      alt: \"Foto 3 \" + this.state.nome_proprieta,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 531,\n        columnNumber: 3\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      id: \"imgCV_path4\",\n      name: \"imgCV_path4SRC\",\n      onChange: this.onChangeImg,\n      type: \"file\",\n      className: \"inputImg\",\n      accept: \"image/*\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 532,\n        columnNumber: 3\n      }\n    }), /*#__PURE__*/React.createElement(\"img\", {\n      src: this.state.imgCV_path4SRC,\n      alt: \"Foto 4 \" + this.state.nome_proprieta,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 540,\n        columnNumber: 3\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"bottoniSceltaModifica\",\n      onClick: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 542,\n        columnNumber: 3\n      }\n    }, \"carica foto\")))))))));\n  }\n\n}\n\nexport default ModificaCasaVacanza;","map":{"version":3,"sources":["C:/Users/alexd/Documents/Progetto-Unipa/Frontend/src/GestioneProprietario/Modifica/ModificaCasaVacanza.js"],"names":["React","Form","Button","Accordion","Card","Col","AiOutlineEdit","Redirect","ModificaCasaVacanza","Component","constructor","props","onChange","e","setState","target","name","value","onChangeImg","URL","createObjectURL","files","id","onChangeServizi","checked","listaServiziCasa","Set","state","concat","sort","filtraServizi","filter","servizio","onSubmit","data1","nome_proprieta","indirizzo","localita","provincia","tipo_proprieta","ref_proprietario","descrizione","id_proprieta","servizi","fetch","method","headers","body","JSON","stringify","then","result","text","apiResponse","res","length","code","empty","errorMessage","message","status","error","data2","posti_letto","tariffa_casa","ref_proprieta_cv","fileName1","fileName2","fileName3","fileName4","res2","form","FormData","imgCV_path1","append","imgCV_path2","imgCV_path3","imgCV_path4","res3","success","aggiungiServizio","nuovoServizio","data","parse","window","location","reload","onClick","dati_casa","history","localStorage","getItem","listaServizi","imgCV_path1SRC","imgCV_path2SRC","imgCV_path3SRC","imgCV_path4SRC","filename1","filename2","filename3","filename4","componentDidMount","replace","split","render","casa","pathname","alert","map","item","includes"],"mappings":"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","sourcesContent":["/*CSS FATTO*/\r\n\r\nimport React from \"react\";\r\n//import camera from \"../assets/camera.svg\";   \r\nimport {Form, Button, Accordion, Card, Col} from \"react-bootstrap\"\r\nimport '../InserisciProp/InserimentoProprietÃ .css'\r\nimport {AiOutlineEdit} from 'react-icons/ai'\r\n\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nclass ModificaCasaVacanza extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      dati_casa: this.props.history.location.state ? this.props.history.location.state.dati_casa : '',\r\n      ref_proprietario: localStorage.getItem('email'),\r\n      id_proprieta: this.props.history.location.state ? this.props.history.location.state.dati_casa.id_proprieta : '',\r\n      nome_proprieta: this.props.history.location.state ? this.props.history.location.state.dati_casa.nome_proprieta : '',\r\n      indirizzo: this.props.history.location.state ? this.props.history.location.state.dati_casa.indirizzo : '',\r\n      localita: this.props.history.location.state ? this.props.history.location.state.dati_casa.localita : '',\r\n      provincia: this.props.history.location.state ? this.props.history.location.state.dati_casa.provincia : '',\r\n      tipo_proprieta: this.props.history.location.state ? this.props.history.location.state.dati_casa.tipo_proprieta : '',\r\n      servizi: this.props.history.location.state ? this.props.history.location.state.dati_casa.servizi : [],\r\n      listaServiziCasa: [],\r\n      listaServizi: [],\r\n      nuovoServizio: '',\r\n      descrizione: this.props.history.location.state ? this.props.history.location.state.dati_casa.descrizione : '',\r\n      ref_proprieta_cv: this.props.history.location.state ? this.props.history.location.state.dati_casa.ref_proprieta_cv : '',\r\n      posti_letto: this.props.history.location.state ? this.props.history.location.state.dati_casa.posti_letto : '',\r\n      tariffa_casa: this.props.history.location.state ? this.props.history.location.state.dati_casa.tariffa_casa : '',\r\n      imgCV_path1SRC: this.props.history.location.state ? this.props.history.location.state.dati_casa.imgCV_path1 : '',\r\n      imgCV_path2SRC: this.props.history.location.state ? this.props.history.location.state.dati_casa.imgCV_path2 : '',\r\n      imgCV_path3SRC: this.props.history.location.state ? this.props.history.location.state.dati_casa.imgCV_path3 : '',\r\n      imgCV_path4SRC: this.props.history.location.state ? this.props.history.location.state.dati_casa.imgCV_path4 : '',\r\n      imgCV_path1: null,\r\n      filename1: '',\r\n      imgCV_path2: null,\r\n      filename2: '',\r\n      imgCV_path3: null,\r\n      filename3: '',\r\n      imgCV_path4: null,\r\n      filename4: '',\r\n      apiResponse: [],\r\n      error: false,\r\n      errorMessage: '',\r\n      success: false,\r\n      empty: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    fetch('http://localhost:9000/servizi/all', {\r\n      method: \"GET\",\r\n      headers: {\r\n        'Content-type': 'application/json'\r\n      }\r\n    })\r\n    .then((result) => result.text())\r\n    .then((result) => {\r\n        this.setState({ listaServizi: JSON.parse(result) });\r\n    \r\n        if(this.state.listaServizi.status === 'error') {\r\n          this.setState({ error: true });\r\n          this.setState({ errorMessage: this.state.listaServizi.message });\r\n        }\r\n      });\r\n\r\n    this.setState({\r\n      listaServiziCasa: this.state.servizi.replace(/\\s*,\\s*/g, \",\").split(',')\r\n    })\r\n  }\r\n\r\n  onChange = (e) => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  }\r\n\r\n  onChangeImg = (e) => {\r\n    this.setState({ [e.target.name]: URL.createObjectURL(e.target.files[0]) });\r\n    this.setState({ [e.target.id]: e.target.files[0] });\r\n  }\r\n\r\n  onChangeServizi = (e) => {\r\n    if(e.target.checked) {\r\n      this.setState({\r\n        listaServiziCasa: [...new Set(this.state.listaServiziCasa.concat(e.target.id).sort())]\r\n      });\r\n    }\r\n    else {\r\n      var filtraServizi = this.state.listaServiziCasa.filter(servizio => servizio !== e.target.id);\r\n\r\n      this.setState({\r\n        listaServiziCasa: filtraServizi\r\n      });\r\n    }\r\n  }\r\n\r\n  onSubmit = (e) => {\r\n    const data1 = {\r\n      nome_proprieta: this.state.nome_proprieta,\r\n      indirizzo: this.state.indirizzo,\r\n      localita: this.state.localita,\r\n      provincia: this.state.provincia,\r\n      tipo_proprieta: this.state.tipo_proprieta,\r\n      ref_proprietario: this.state.ref_proprietario,\r\n      descrizione: this.state.descrizione,\r\n      id_proprieta: this.state.id_proprieta,\r\n      servizi: this.state.listaServiziCasa\r\n    };\r\n\r\n    fetch('http://localhost:9000/updateProprieta/fields', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-type':'application/json'\r\n        },\r\n        body: JSON.stringify(data1)\r\n    })\r\n    .then((result) => {result.text()})\r\n    .then((result) => {\r\n      this.setState({ apiResponse: result });\r\n\r\n      var res = result;\r\n\r\n      if((res && res.length < 1) || (res && res.code && res.code === 404)) {\r\n        this.setState({ empty: true, errorMessage: res.message });\r\n      }\r\n\r\n      else if(this.state.apiResponse && this.state.apiResponse.status === 'error') {\r\n        this.setState({ error: true });\r\n        this.setState({ errorMessage: this.state.apiResponse.message });\r\n      }\r\n\r\n      else {\r\n        const data2 = {\r\n          posti_letto: this.state.posti_letto,\r\n          tariffa_casa: this.state.tariffa_casa,\r\n          ref_proprieta_cv: this.state.ref_proprieta_cv,\r\n        };\r\n\r\n        this.setState({\r\n          fileName1: data2.ref_proprieta_cv + \"_1.jpg\",\r\n          fileName2: data2.ref_proprieta_cv + \"_2.jpg\",\r\n          fileName3: data2.ref_proprieta_cv + \"_3.jpg\",\r\n          fileName4: data2.ref_proprieta_cv + \"_4.jpg\",\r\n        });\r\n    \r\n        fetch('http://localhost:9000/updateCasa/fields',{\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-type':'application/json'\r\n            },\r\n            body: JSON.stringify(data2)\r\n        })\r\n        .then((result) => result.text())\r\n        .then((result) => {\r\n          this.setState({ apiResponse: result });\r\n    \r\n          var res2 = result;\r\n\r\n          if((res2 && res2.length < 1) || (res2 && res2.code && res2.code === 404)) {\r\n            this.setState({ empty: true, errorMessage: res2.message });\r\n          }\r\n\r\n          else if(this.state.apiResponse && this.state.apiResponse.status === 'error') {\r\n            this.setState({ error: true });\r\n            this.setState({ errorMessage: this.state.apiResponse.message });\r\n          }\r\n\r\n          else {\r\n            var form = new FormData();\r\n            if(this.state.imgCV_path1) {\r\n              form.append(\"foto1\", this.state.imgCV_path1, this.state.fileName1);\r\n            }\r\n            if(this.state.imgCV_path2) {\r\n              form.append(\"foto2\", this.state.imgCV_path2, this.state.fileName2);\r\n            }\r\n            if(this.state.imgCV_path3) {\r\n              form.append(\"foto3\", this.state.imgCV_path3, this.state.fileName3);\r\n            }\r\n            if(this.state.imgCV_path4) {\r\n              form.append(\"foto4\", this.state.imgCV_path4, this.state.fileName4);\r\n            }\r\n\r\n            fetch('http://localhost:9000/uploadFotoCV/upload', {\r\n              method: \"POST\",\r\n              body: form\r\n            })\r\n            .then((result) => result.text())\r\n            .then((result) => {\r\n              this.setState({ apiResponse: result });\r\n\r\n            var res3 = result;\r\n\r\n            if((res && res3.length < 1) || (res && res3.code && res3.code === 404)) {\r\n              this.setState({ empty: true, errorMessage: res3.message });\r\n            }\r\n\r\n            else if(this.state.apiResponse && this.state.apiResponse.status === 'error') {\r\n              this.setState({ error: true });\r\n              this.setState({ errorMessage: this.state.apiResponse.message });\r\n            }\r\n\r\n            else {\r\n              this.setState({ success: true });\r\n            }\r\n          });\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  aggiungiServizio = (e) => {\r\n    if(this.state.nuovoServizio !== '') {\r\n\r\n      const data = {\r\n        servizio: this.state.nuovoServizio\r\n      }\r\n\r\n      fetch('http://localhost:9000/insertServizio/new', {\r\n        method: \"POST\",\r\n        headers:{\r\n          'Content-type': 'application/json'\r\n        },\r\n        body: JSON.stringify(data)\r\n      })\r\n      .then((result) => result.text())\r\n      .then((result) => {\r\n        this.setState({ apiResponse: JSON.parse(result) });\r\n\r\n        var res = JSON.parse(result);\r\n\r\n        if(res.length < 1 || (res.code && res.code === 404)) {\r\n          this.setState({ empty: true, errorMessage: res.message });\r\n        }\r\n\r\n        if(this.state.apiResponse.status === 'error') {\r\n          this.setState({ error: true });\r\n          this.setState({ errorMessage: this.state.apiResponse.message });\r\n        }\r\n\r\n        window.location.reload();\r\n      });\r\n    }\r\n  }\r\n\r\n  onClick = () => {\r\n    this.setState({ success: true })\r\n  }\r\n\r\n  render() {\r\n    var casa = this.state.dati_casa;\r\n\r\n    if(!localStorage.getItem('logged') || !localStorage.getItem('proprietario')) {\r\n      return <Redirect\r\n          to={{\r\n              pathname: \"/ErrorPage\",\r\n              state: { \r\n                error: true,\r\n                errorMessage: \"Utente non autorizzato\" \r\n              }\r\n          }}\r\n      />\r\n    }\r\n    else if(this.state.error) {\r\n      return <Redirect \r\n        to = {{\r\n          pathname: \"/ErrorPage\",\r\n          state: {\r\n            error: true,\r\n            errorMessage: this.state.errorMessage\r\n          }\r\n        }}\r\n      />\r\n    }\r\n    else if(this.state.success) {\r\n      alert(\"Modifiche avvenute con successo\");\r\n    }\r\n\r\n    else if(this.state.empty) {\r\n      var casa = this.state.dati_casa;\r\n\r\n      return (\r\n          <div className=\"background\">\r\n        <div className=\"containerNew\"> \r\n          <div className=\"contentNew\">\r\n          <h2>Modifica la tua casa vacanza con le informazioni che preferisci!</h2>\r\n          <p>Si Ã¨ verificato un errore: {this.state.errorMessage}</p>\r\n          </div>\r\n        </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n        <div className=\"background\">\r\n      <div className=\"containerNew\"> \r\n        <div className=\"contentNew\">\r\n        <h2 onClick = {this.onClick}>Modifica la tua casa vacanza con le informazioni che preferisci!</h2>\r\n        <Accordion>\r\n            <Card id=\"newStyle\" border=\"light\">\r\n              <div className=\"head-update\">\r\n                <p>Nome: {casa.nome_proprieta}</p>\r\n                <Accordion.Toggle as={AiOutlineEdit} className=\"margin-right\" variant=\"link\" eventKey=\"1\" />\r\n              </div>\r\n              <Accordion.Collapse eventKey=\"1\">\r\n                <Card.Body>\r\n                  <form className=\"centered\">\r\n                  <label htmlFor = \"nome_proprieta\">Nome</label>\r\n                  <input\r\n                  type = \"text\"\r\n                  id = \"nome_proprieta\"\r\n                  name = \"nome_proprieta\"\r\n                  placeholder = {casa.nome_proprieta}\r\n                  onChange = {this.onChange}\r\n                  className = \"i\"\r\n                  />\r\n                  <button className=\"bottoniSceltaModifica\" onClick = {this.onSubmit}>\r\n              Modifica nome\r\n            </button>\r\n                  </form>       \r\n                </Card.Body>\r\n              </Accordion.Collapse>\r\n            </Card>\r\n            <Card id=\"newStyle\" border=\"light\">\r\n            <div className=\"head-update\">\r\n              <p>LocalitÃ : {casa.localita} ({casa.provincia}), {casa.indirizzo}</p>\r\n              <Accordion.Toggle as={AiOutlineEdit} className=\"margin-right\" variant=\"link\" eventKey=\"2\" />\r\n              </div>\r\n              <Accordion.Collapse eventKey=\"2\">\r\n                <Card.Body>\r\n                <form className=\"centered\">\r\n                <label htmlFor = \"localita\">CittÃ </label>\r\n              <input\r\n                type = \"text\"\r\n                id = \"localita\"\r\n                name = \"localita\"\r\n                placeholder=\" Inserisci cittÃ \"\r\n                onChange = {this.onChange}\r\n                className = \"i\"\r\n              />\r\n\r\n              <label htmlFor = \"indirizzo\">Indirizzo</label>\r\n              <input\r\n                type = \"text\"\r\n                id = \"indirizzo\"\r\n                name = \"indirizzo\"\r\n                placeholder=\" Inserisci indirizzo\"\r\n                onChange = {this.onChange}\r\n                className = \"i\"\r\n              />\r\n              \r\n              <label htmlFor = \"provincia\">Provincia</label>\r\n              <input\r\n                type = \"text\"\r\n                id = \"provincia\"\r\n                name = \"provincia\"\r\n                placeholder=\" Inserisci Provincia (Due lettere)\"\r\n                onChange = {this.onChange}\r\n                className = \"i\"\r\n              />\r\n                <button className=\"bottoniSceltaModifica\" onClick = {this.onSubmit}>\r\n              Modifica localitÃ \r\n            </button>\r\n                </form >\r\n              </ Card.Body>\r\n              </Accordion.Collapse>\r\n            </Card>\r\n            <Card id=\"newStyle\" border=\"light\">\r\n              <div className=\"head-update\">\r\n              <p>Servizi offerti: {casa.servizi}</p>\r\n              <Accordion.Toggle as={AiOutlineEdit} className=\"margin-right\" variant=\"link\" eventKey=\"3\" />\r\n              </div>\r\n              <Accordion.Collapse eventKey=\"3\">\r\n                <Card.Body>\r\n                  <Form.Row>\r\n                    <Form.Group className=\"centered\" as={Col} controlId=\"formGridState\">\r\n                      <Form.Label>Servizi</Form.Label>\r\n                        {this.state.listaServizi.map(item => {\r\n                          return(\r\n                            <div>\r\n                              <Form.Check\r\n                                type=\"checkbox\"\r\n                                name={item.servizio}\r\n                                id={item.servizio}\r\n                                onChange={this.onChangeServizi}\r\n                                label = {item.servizio}\r\n                                defaultChecked = {this.state.listaServiziCasa.includes(item.servizio) ? \"true\" : \"\"}\r\n                              />\r\n                            </div>\r\n                          )\r\n                        })}\r\n                    </Form.Group>\r\n                  </Form.Row>\r\n                  <Form.Group className=\"centered\" controlId=\"exampleForm.ControlTextarea1\">\r\n                  <Form.Label>Aggiungi servizio</Form.Label>\r\n                    <Form.Control as=\"textarea\" rows={1} id = 'nuovoServizio' name = 'nuovoServizio' onChange = {this.onChange} />\r\n                    <button className=\"bottoniSceltaModifica\" onClick = {this.aggiungiServizio}>\r\n                    Aggiungi servizio\r\n                  </button>\r\n                  <br/>\r\n                  <br />\r\n                  <button className=\"bottoniSceltaModifica\" onClick = {this.onSubmit}>\r\n                    Cambia servizi\r\n                  </button>\r\n                    </Form.Group>\r\n                </Card.Body>\r\n              </Accordion.Collapse>\r\n            </Card>\r\n            <Card id=\"newStyle\" border=\"light\">\r\n              <div className=\"head-update\">\r\n              <p> Descrizione: </p>\r\n              <Accordion.Toggle as={AiOutlineEdit} className=\"margin-right\" variant=\"link\" eventKey=\"4\" />\r\n              </div>\r\n              <Accordion.Collapse eventKey=\"4\">\r\n                <Card.Body>\r\n                  <form className=\"centered\">\r\n                  <label htmlFor = \"descrizione\">Descrizione attuale: {casa.descrizione}</label>\r\n              <textarea \r\n                id = 'descrizione'\r\n                name = 'descrizione'\r\n                placeholder='Inserisci descrizione'\r\n                onChange = {this.onChange}\r\n                className = 'iTA'\r\n              >\r\n              </textarea>\r\n              <button className=\"bottoniSceltaModifica\" onClick = {this.onSubmit}>\r\n              Modifica Descrizione\r\n            </button>\r\n                  </form>\r\n                </Card.Body>\r\n              </Accordion.Collapse>\r\n            </Card>\r\n            <Card id=\"newStyle\" border=\"light\">\r\n              <div className=\"head-update\">\r\n                <p>Posti letto: {casa.posti_letto}</p>\r\n                <Accordion.Toggle as={AiOutlineEdit} className=\"margin-right\" variant=\"link\" eventKey=\"5\" />\r\n\r\n              </div>\r\n              <Accordion.Collapse eventKey=\"5\">\r\n                <Card.Body>\r\n                <Form.Group className=\"centered\" id = 'posti_letto' name = 'posti_letto' >\r\n  <Form.Label>Posti Letto</Form.Label>\r\n  <Form.Control \r\n    id = 'posti_letto'\r\n    name = 'posti_letto'\r\n    defaultValue = {casa.posti_letto}\r\n    as = \"select\"   \r\n    onChange = {this.onChange}  \r\n  >\r\n    <option>1</option>\r\n    <option>2</option>\r\n    <option>3</option>\r\n    <option>4</option>\r\n    <option>5</option>\r\n    <option>6</option>\r\n    <option>7</option>\r\n    <option>8</option>\r\n    </Form.Control>\r\n    <button className=\"bottoniSceltaModifica\" onClick = {this.onSubmit}>\r\n              Modifica posti letto\r\n            </button>\r\n</Form.Group>  \r\n                </Card.Body>\r\n              </Accordion.Collapse>\r\n            </Card>\r\n            <Card id=\"newStyle\" border=\"light\">\r\n              <div className=\"head-update\">\r\n              <p>Tariffa attuale : {casa.tariffa_casa}</p>\r\n              <Accordion.Toggle as={AiOutlineEdit} className=\"margin-right\" variant=\"link\" eventKey=\"6\" />\r\n              </div>\r\n              <Accordion.Collapse eventKey=\"6\">\r\n                <Card.Body>\r\n                  <form className=\"centered\">\r\n                  <label htmlFor = \"tariffa_casa\">Prezzo</label>\r\n<input\r\n  type = \"text\"\r\n  pattern = \"^\\d+(.\\d{1,2})?$\"\r\n  title = \"Inserire un valore numerico usando un punto per i valori decimali\"\r\n  id = \"tariffa_casa\"\r\n  name = 'tariffa_casa'\r\n  placeholder=\"Inserisci tariffa casa usando un punto per i valori decimali\"\r\n  onChange = {this.onChange}\r\n  className = \"i\"\r\n/>\r\n            <button className=\"bottoniSceltaModifica\" onClick = {this.onSubmit}>\r\n              cambia tariffa\r\n            </button>\r\n                  </form>\r\n                </Card.Body>\r\n              </Accordion.Collapse>\r\n            </Card>\r\n            <Card id=\"newStyle\" border=\"light\">\r\n              <div className=\"head-update\">\r\n              <p>Modifica foto</p>\r\n              <Accordion.Toggle as={AiOutlineEdit} className=\"margin-right\" variant=\"link\" eventKey=\"7\" />\r\n              </div>\r\n              <Accordion.Collapse eventKey=\"7\">\r\n                <Card.Body>\r\n                <Form.Group className=\"centered\">\r\n  <label>Modifica le foto della tua struttura</label>\r\n  <Form.Row className = \"centered\">\r\n  <input\r\n    id = \"imgCV_path1\"\r\n    name = \"imgCV_path1SRC\"\r\n    onChange = {this.onChangeImg}\r\n    type = \"file\"\r\n    className = \"inputImg\"\r\n    accept = \"image/*\"\r\n  />\r\n  <img src = {this.state.imgCV_path1SRC} alt = {\"Foto 1 \" + this.state.nome_proprieta} ></img>\r\n  <input\r\n    id = \"imgCV_path2\"\r\n    name = \"imgCV_path2SRC\"\r\n    onChange = {this.onChangeImg}\r\n    type = \"file\"\r\n    className = \"inputImg\"\r\n    accept = \"image/*\"\r\n  />\r\n  <img src = {this.state.imgCV_path2SRC} alt = {\"Foto 2 \" + this.state.nome_proprieta}></img>\r\n<input\r\n    id = \"imgCV_path3\"\r\n    name = \"imgCV_path3SRC\"\r\n    onChange = {this.onChangeImg}\r\n    type = \"file\"\r\n    className = \"inputImg\"\r\n    accept = \"image/*\"\r\n  />\r\n  <img src = {this.state.imgCV_path3SRC} alt = {\"Foto 3 \" + this.state.nome_proprieta}></img>\r\n  <input\r\n    id = \"imgCV_path4\"\r\n    name = \"imgCV_path4SRC\"\r\n    onChange = {this.onChangeImg}\r\n    type = \"file\"\r\n    className = \"inputImg\"\r\n    accept = \"image/*\"\r\n  />\r\n  <img src = {this.state.imgCV_path4SRC} alt = {\"Foto 4 \" + this.state.nome_proprieta}></img>\r\n  </Form.Row>\r\n  <button className=\"bottoniSceltaModifica\" onClick = {this.onSubmit}>\r\n              carica foto\r\n            </button>\r\n</Form.Group>\r\n\r\n\r\n                </Card.Body>\r\n              </Accordion.Collapse>\r\n            </Card>\r\n          </Accordion>\r\n        </div>\r\n      </div>\r\n      </div>\r\n    );\r\n    }\r\n}\r\n\r\nexport default ModificaCasaVacanza;\r\n"]},"metadata":{},"sourceType":"module"}